(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var ed={exports:{}},tr={};var Z0;function wS(){if(Z0)return tr;Z0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:n,type:r,key:u,ref:o!==void 0?o:null,props:c}}return tr.Fragment=t,tr.jsx=a,tr.jsxs=a,tr}var W0;function SS(){return W0||(W0=1,ed.exports=wS()),ed.exports}var h=SS(),td={exports:{}},ve={};var ey;function _S(){if(ey)return ve;ey=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function k(N,X,se){this.props=N,this.context=X,this.refs=E,this.updater=se||_}k.prototype.isReactComponent={},k.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function L(){}L.prototype=k.prototype;function R(N,X,se){this.props=N,this.context=X,this.refs=E,this.updater=se||_}var q=R.prototype=new L;q.constructor=R,A(q,k.prototype),q.isPureReactComponent=!0;var K=Array.isArray;function I(){}var te={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function Q(N,X,se){var J=se.ref;return{$$typeof:n,type:N,key:X,ref:J!==void 0?J:null,props:se}}function W(N,X){return Q(N.type,X,N.props)}function he(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function $(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return X[se]})}var O=/\/+/g;function ee(N,X){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):X.toString(36)}function ae(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function j(N,X,se,J,pe){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(we){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case n:case t:Ne=!0;break;case g:return Ne=N._init,j(Ne(N._payload),X,se,J,pe)}}if(Ne)return pe=pe(N),Ne=J===""?"."+ee(N,0):J,K(pe)?(se="",Ne!=null&&(se=Ne.replace(O,"$&/")+"/"),j(pe,X,se,"",function(oi){return oi})):pe!=null&&(he(pe)&&(pe=W(pe,se+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+Ne)),X.push(pe)),1;Ne=0;var dt=J===""?".":J+":";if(K(N))for(var Je=0;Je<N.length;Je++)J=N[Je],we=dt+ee(J,Je),Ne+=j(J,X,se,we,pe);else if(Je=S(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(J=N.next()).done;)J=J.value,we=dt+ee(J,Je++),Ne+=j(J,X,se,we,pe);else if(we==="object"){if(typeof N.then=="function")return j(ae(N),X,se,J,pe);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function z(N,X,se){if(N==null)return N;var J=[],pe=0;return j(N,J,"","",function(we){return X.call(se,we,pe++)}),J}function ie(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var Y=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ce={map:z,forEach:function(N,X,se){z(N,function(){X.apply(this,arguments)},se)},count:function(N){var X=0;return z(N,function(){X++}),X},toArray:function(N){return z(N,function(X){return X})||[]},only:function(N){if(!he(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ve.Activity=b,ve.Children=ce,ve.Component=k,ve.Fragment=a,ve.Profiler=o,ve.PureComponent=R,ve.StrictMode=r,ve.Suspense=p,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return te.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(N,X,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=A({},N.props),pe=N.key;if(X!=null)for(we in X.key!==void 0&&(pe=""+X.key),X)!ne.call(X,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&X.ref===void 0||(J[we]=X[we]);var we=arguments.length-2;if(we===1)J.children=se;else if(1<we){for(var Ne=Array(we),dt=0;dt<we;dt++)Ne[dt]=arguments[dt+2];J.children=Ne}return Q(N.type,pe,J)},ve.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},ve.createElement=function(N,X,se){var J,pe={},we=null;if(X!=null)for(J in X.key!==void 0&&(we=""+X.key),X)ne.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(pe[J]=X[J]);var Ne=arguments.length-2;if(Ne===1)pe.children=se;else if(1<Ne){for(var dt=Array(Ne),Je=0;Je<Ne;Je++)dt[Je]=arguments[Je+2];pe.children=dt}if(N&&N.defaultProps)for(J in Ne=N.defaultProps,Ne)pe[J]===void 0&&(pe[J]=Ne[J]);return Q(N,we,pe)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:m,render:N}},ve.isValidElement=he,ve.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:ie}},ve.memo=function(N,X){return{$$typeof:y,type:N,compare:X===void 0?null:X}},ve.startTransition=function(N){var X=te.T,se={};te.T=se;try{var J=N(),pe=te.S;pe!==null&&pe(se,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(I,Y)}catch(we){Y(we)}finally{X!==null&&se.types!==null&&(X.types=se.types),te.T=X}},ve.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},ve.use=function(N){return te.H.use(N)},ve.useActionState=function(N,X,se){return te.H.useActionState(N,X,se)},ve.useCallback=function(N,X){return te.H.useCallback(N,X)},ve.useContext=function(N){return te.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,X){return te.H.useDeferredValue(N,X)},ve.useEffect=function(N,X){return te.H.useEffect(N,X)},ve.useEffectEvent=function(N){return te.H.useEffectEvent(N)},ve.useId=function(){return te.H.useId()},ve.useImperativeHandle=function(N,X,se){return te.H.useImperativeHandle(N,X,se)},ve.useInsertionEffect=function(N,X){return te.H.useInsertionEffect(N,X)},ve.useLayoutEffect=function(N,X){return te.H.useLayoutEffect(N,X)},ve.useMemo=function(N,X){return te.H.useMemo(N,X)},ve.useOptimistic=function(N,X){return te.H.useOptimistic(N,X)},ve.useReducer=function(N,X,se){return te.H.useReducer(N,X,se)},ve.useRef=function(N){return te.H.useRef(N)},ve.useState=function(N){return te.H.useState(N)},ve.useSyncExternalStore=function(N,X,se){return te.H.useSyncExternalStore(N,X,se)},ve.useTransition=function(){return te.H.useTransition()},ve.version="19.2.4",ve}var ty;function fh(){return ty||(ty=1,td.exports=_S()),td.exports}var H=fh(),nd={exports:{}},nr={},sd={exports:{}},ad={};var ny;function TS(){return ny||(ny=1,(function(n){function t(j,z){var ie=j.length;j.push(z);e:for(;0<ie;){var Y=ie-1>>>1,ce=j[Y];if(0<o(ce,z))j[Y]=z,j[ie]=ce,ie=Y;else break e}}function a(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],ie=j.pop();if(ie!==z){j[0]=ie;e:for(var Y=0,ce=j.length,N=ce>>>1;Y<N;){var X=2*(Y+1)-1,se=j[X],J=X+1,pe=j[J];if(0>o(se,ie))J<ce&&0>o(pe,se)?(j[Y]=pe,j[J]=ie,Y=J):(j[Y]=se,j[X]=ie,Y=X);else if(J<ce&&0>o(pe,ie))j[Y]=pe,j[J]=ie,Y=J;else break e}}return z}function o(j,z){var ie=j.sortIndex-z.sortIndex;return ie!==0?ie:j.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();n.unstable_now=function(){return u.now()-m}}var p=[],y=[],g=1,b=null,x=3,S=!1,_=!1,A=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function q(j){for(var z=a(y);z!==null;){if(z.callback===null)r(y);else if(z.startTime<=j)r(y),z.sortIndex=z.expirationTime,t(p,z);else break;z=a(y)}}function K(j){if(A=!1,q(j),!_)if(a(p)!==null)_=!0,I||(I=!0,$());else{var z=a(y);z!==null&&ae(K,z.startTime-j)}}var I=!1,te=-1,ne=5,Q=-1;function W(){return E?!0:!(n.unstable_now()-Q<ne)}function he(){if(E=!1,I){var j=n.unstable_now();Q=j;var z=!0;try{e:{_=!1,A&&(A=!1,L(te),te=-1),S=!0;var ie=x;try{t:{for(q(j),b=a(p);b!==null&&!(b.expirationTime>j&&W());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,x=b.priorityLevel;var ce=Y(b.expirationTime<=j);if(j=n.unstable_now(),typeof ce=="function"){b.callback=ce,q(j),z=!0;break t}b===a(p)&&r(p),q(j)}else r(p);b=a(p)}if(b!==null)z=!0;else{var N=a(y);N!==null&&ae(K,N.startTime-j),z=!1}}break e}finally{b=null,x=ie,S=!1}z=void 0}}finally{z?$():I=!1}}}var $;if(typeof R=="function")$=function(){R(he)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ee=O.port2;O.port1.onmessage=he,$=function(){ee.postMessage(null)}}else $=function(){k(he,0)};function ae(j,z){te=k(function(){j(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(j){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var ie=x;x=z;try{return j()}finally{x=ie}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ie=x;x=j;try{return z()}finally{x=ie}},n.unstable_scheduleCallback=function(j,z,ie){var Y=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Y+ie:Y):ie=Y,j){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ie+ce,j={id:g++,callback:z,priorityLevel:j,startTime:ie,expirationTime:ce,sortIndex:-1},ie>Y?(j.sortIndex=ie,t(y,j),a(p)===null&&j===a(y)&&(A?(L(te),te=-1):A=!0,ae(K,ie-Y))):(j.sortIndex=ce,t(p,j),_||S||(_=!0,I||(I=!0,$()))),j},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(j){var z=x;return function(){var ie=x;x=z;try{return j.apply(this,arguments)}finally{x=ie}}}})(ad)),ad}var sy;function jS(){return sy||(sy=1,sd.exports=TS()),sd.exports}var id={exports:{}},wt={};var ay;function ES(){if(ay)return wt;ay=1;var n=fh();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wt.createPortal=function(p,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,g)},wt.flushSync=function(p){var y=u.T,g=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=y,r.p=g,r.d.f()}},wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var g=y.as,b=m(g,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):g==="script"&&r.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,b=m(g,y.crossOrigin);r.d.L(p,g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var g=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},wt.requestFormReset=function(p){r.d.r(p)},wt.unstable_batchedUpdates=function(p,y){return p(y)},wt.useFormState=function(p,y,g){return u.H.useFormState(p,y,g)},wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},wt.version="19.2.4",wt}var iy;function AS(){if(iy)return id.exports;iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),id.exports=ES(),id.exports}var ry;function NS(){if(ry)return nr;ry=1;var n=jS(),t=fh(),a=AS();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function y(e){var s=e.alternate;if(!s){if(s=c(e),s===null)throw Error(r(188));return s!==e?null:e}for(var i=e,l=s;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return p(d),e;if(f===l)return p(d),s;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=d,l=f;else{for(var v=!1,w=d.child;w;){if(w===i){v=!0,i=d,l=f;break}if(w===l){v=!0,l=d,i=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===i){v=!0,i=f,l=d;break}if(w===l){v=!0,l=f,i=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),R=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case k:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case I:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case R:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case q:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return s=e.displayName||null,s!==null?s:ee(e.type)||"Memo";case ne:s=e._payload,e=e._init;try{return ee(e(s))}catch{}}return null}var ae=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Y=[],ce=-1;function N(e){return{current:e}}function X(e){0>ce||(e.current=Y[ce],Y[ce]=null,ce--)}function se(e,s){ce++,Y[ce]=e.current,e.current=s}var J=N(null),pe=N(null),we=N(null),Ne=N(null);function dt(e,s){switch(se(we,s),se(pe,e),se(J,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?w0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=w0(s),e=S0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(J),se(J,e)}function Je(){X(J),X(pe),X(we)}function oi(e){e.memoizedState!==null&&se(Ne,e);var s=J.current,i=S0(s,e.type);s!==i&&(se(pe,e),se(J,i))}function kr(e){pe.current===e&&(X(J),X(pe)),Ne.current===e&&(X(Ne),Ji._currentValue=ie)}var Uo,Qh;function Ts(e){if(Uo===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Uo=s&&s[1]||"",Qh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+e+Qh}var Po=!1;function Bo(e,s){if(!e||Po)return"";Po=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(V){var B=V}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(V){B=V}e.call(Z.prototype)}}else{try{throw Error()}catch(V){B=V}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(V){if(V&&B&&typeof V.stack=="string")return[V.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var T=v.split(`
`),P=w.split(`
`);for(d=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(l===T.length||d===P.length)for(l=T.length-1,d=P.length-1;1<=l&&0<=d&&T[l]!==P[d];)d--;for(;1<=l&&0<=d;l--,d--)if(T[l]!==P[d]){if(l!==1||d!==1)do if(l--,d--,0>d||T[l]!==P[d]){var G=`
`+T[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=d);break}}}finally{Po=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ts(i):""}function Zb(e,s){switch(e.tag){case 26:case 27:case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return e.child!==s&&s!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return Bo(e.type,!1);case 11:return Bo(e.type.render,!1);case 1:return Bo(e.type,!0);case 31:return Ts("Activity");default:return""}}function Jh(e){try{var s="",i=null;do s+=Zb(e,i),i=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var zo=Object.prototype.hasOwnProperty,Vo=n.unstable_scheduleCallback,Ho=n.unstable_cancelCallback,Wb=n.unstable_shouldYield,ex=n.unstable_requestPaint,Lt=n.unstable_now,tx=n.unstable_getCurrentPriorityLevel,Zh=n.unstable_ImmediatePriority,Wh=n.unstable_UserBlockingPriority,Dr=n.unstable_NormalPriority,nx=n.unstable_LowPriority,ef=n.unstable_IdlePriority,sx=n.log,ax=n.unstable_setDisableYieldValue,ci=null,Ut=null;function In(e){if(typeof sx=="function"&&ax(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(ci,e)}catch{}}var Pt=Math.clz32?Math.clz32:lx,ix=Math.log,rx=Math.LN2;function lx(e){return e>>>=0,e===0?32:31-(ix(e)/rx|0)|0}var Mr=256,Lr=262144,Ur=4194304;function js(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pr(e,s,i){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=js(l):(v&=w,v!==0?d=js(v):i||(i=w&~e,i!==0&&(d=js(i))))):(w=l&~f,w!==0?d=js(w):v!==0?d=js(v):i||(i=l&~e,i!==0&&(d=js(i)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,i=s&-s,f>=i||f===32&&(i&4194048)!==0)?s:d}function ui(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function ox(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(){var e=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),e}function qo(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function di(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cx(e,s,i,l,d,f){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,P=e.hiddenUpdates;for(i=v&~i;0<i;){var G=31-Pt(i),Z=1<<G;w[G]=0,T[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var V=B[G];V!==null&&(V.lane&=-536870913)}i&=~Z}l!==0&&nf(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~s))}function nf(e,s,i){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Pt(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function sf(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var l=31-Pt(i),d=1<<l;d&s|e[l]&s&&(e[l]|=s),i&=~d}}function af(e,s){var i=s&-s;return i=(i&42)!==0?1:$o(i),(i&(e.suspendedLanes|s))!==0?0:i}function $o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rf(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:K0(e.type))}function lf(e,s){var i=z.p;try{return z.p=e,s()}finally{z.p=i}}var Yn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Yn,Nt="__reactProps$"+Yn,ta="__reactContainer$"+Yn,Ko="__reactEvents$"+Yn,ux="__reactListeners$"+Yn,dx="__reactHandles$"+Yn,of="__reactResources$"+Yn,hi="__reactMarker$"+Yn;function Io(e){delete e[ht],delete e[Nt],delete e[Ko],delete e[ux],delete e[dx]}function na(e){var s=e[ht];if(s)return s;for(var i=e.parentNode;i;){if(s=i[ta]||i[ht]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=C0(e);e!==null;){if(i=e[ht])return i;e=C0(e)}return s}e=i,i=e.parentNode}return null}function sa(e){if(e=e[ht]||e[ta]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function fi(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function aa(e){var s=e[of];return s||(s=e[of]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ct(e){e[hi]=!0}var cf=new Set,uf={};function Es(e,s){ia(e,s),ia(e+"Capture",s)}function ia(e,s){for(uf[e]=s,e=0;e<s.length;e++)cf.add(s[e])}var hx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},hf={};function fx(e){return zo.call(hf,e)?!0:zo.call(df,e)?!1:hx.test(e)?hf[e]=!0:(df[e]=!0,!1)}function Br(e,s,i){if(fx(s))if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+i)}}function zr(e,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+i)}}function Tn(e,s,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(s,i,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ff(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mx(e,s,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Yo(e){if(!e._valueTracker){var s=ff(e)?"checked":"value";e._valueTracker=mx(e,s,""+e[s])}}function mf(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),l="";return e&&(l=ff(e)?e.checked?"true":"false":e.value),e=l,e!==i?(s.setValue(e),!0):!1}function Vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var px=/[\n"\\]/g;function Xt(e){return e.replace(px,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xo(e,s,i,l,d,f,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),s!=null?v==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Yt(s)):e.value!==""+Yt(s)&&(e.value=""+Yt(s)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),s!=null?Fo(e,v,Yt(s)):i!=null?Fo(e,v,Yt(i)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Yt(w):e.removeAttribute("name")}function pf(e,s,i,l,d,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),s!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){Yo(e);return}i=i!=null?""+Yt(i):"",s=s!=null?""+Yt(s):i,w||s===e.value||(e.value=s),e.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Yo(e)}function Fo(e,s,i){s==="number"&&Vr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ra(e,s,i,l){if(e=e.options,s){s={};for(var d=0;d<i.length;d++)s["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=s.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Yt(i),s=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}s!==null||e[d].disabled||(s=e[d])}s!==null&&(s.selected=!0)}}function yf(e,s,i){if(s!=null&&(s=""+Yt(s),s!==e.value&&(e.value=s),i==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=i!=null?""+Yt(i):""}function gf(e,s,i,l){if(s==null){if(l!=null){if(i!=null)throw Error(r(92));if(ae(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),s=i}i=Yt(s),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),Yo(e)}function la(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var yx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vf(e,s,i){var l=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,i):typeof i!="number"||i===0||yx.has(s)?s==="float"?e.cssFloat=i:e[s]=(""+i).trim():e[s]=i+"px"}function bf(e,s,i){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&i[d]!==l&&vf(e,d,l)}else for(var f in s)s.hasOwnProperty(f)&&vf(e,f,s[f])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hr(e){return vx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Jo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oa=null,ca=null;function xf(e){var s=sa(e);if(s&&(e=s.stateNode)){var i=e[Nt]||null;e:switch(e=s.stateNode,s.type){case"input":if(Xo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xt(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var l=i[s];if(l!==e&&l.form===e.form){var d=l[Nt]||null;if(!d)throw Error(r(90));Xo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<i.length;s++)l=i[s],l.form===e.form&&mf(l)}break e;case"textarea":yf(e,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&ra(e,!!i.multiple,s,!1)}}}var Wo=!1;function wf(e,s,i){if(Wo)return e(s,i);Wo=!0;try{var l=e(s);return l}finally{if(Wo=!1,(oa!==null||ca!==null)&&(Nl(),oa&&(s=oa,e=ca,ca=oa=null,xf(s),e)))for(s=0;s<e.length;s++)xf(e[s])}}function mi(e,s){var i=e.stateNode;if(i===null)return null;var l=i[Nt]||null;if(l===null)return null;i=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,s,typeof i));return i}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(En)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){ec=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{ec=!1}var Xn=null,tc=null,qr=null;function Sf(){if(qr)return qr;var e,s=tc,i=s.length,l,d="value"in Xn?Xn.value:Xn.textContent,f=d.length;for(e=0;e<i&&s[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&s[i-l]===d[f-l];l++);return qr=d.slice(e,1<l?1-l:void 0)}function $r(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function _f(){return!1}function Ct(e){function s(i,l,d,f,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gr:_f,this.isPropagationStopped=_f,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),s}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=Ct(As),yi=b({},As,{view:0,detail:0}),bx=Ct(yi),nc,sc,gi,Ir=b({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(nc=e.screenX-gi.screenX,sc=e.screenY-gi.screenY):sc=nc=0,gi=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),Tf=Ct(Ir),xx=b({},Ir,{dataTransfer:0}),wx=Ct(xx),Sx=b({},yi,{relatedTarget:0}),ac=Ct(Sx),_x=b({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Tx=Ct(_x),jx=b({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ex=Ct(jx),Ax=b({},As,{data:0}),jf=Ct(Ax),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ox(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Rx[e])?!!s[e]:!1}function ic(){return Ox}var kx=b({},yi,{key:function(e){if(e.key){var s=Nx[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=$r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?$r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dx=Ct(kx),Mx=b({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Ct(Mx),Lx=b({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),Ux=Ct(Lx),Px=b({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=Ct(Px),zx=b({},Ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vx=Ct(zx),Hx=b({},As,{newState:0,oldState:0}),qx=Ct(Hx),$x=[9,13,27,32],rc=En&&"CompositionEvent"in window,vi=null;En&&"documentMode"in document&&(vi=document.documentMode);var Gx=En&&"TextEvent"in window&&!vi,Af=En&&(!rc||vi&&8<vi&&11>=vi),Nf=" ",Cf=!1;function Rf(e,s){switch(e){case"keyup":return $x.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function Kx(e,s){switch(e){case"compositionend":return Of(s);case"keypress":return s.which!==32?null:(Cf=!0,Nf);case"textInput":return e=s.data,e===Nf&&Cf?null:e;default:return null}}function Ix(e,s){if(ua)return e==="compositionend"||!rc&&Rf(e,s)?(e=Sf(),qr=tc=Xn=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Af&&s.locale!=="ko"?null:s.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Yx[e.type]:s==="textarea"}function Df(e,s,i,l){oa?ca?ca.push(l):ca=[l]:oa=l,s=Ll(s,"onChange"),0<s.length&&(i=new Kr("onChange","change",null,i,l),e.push({event:i,listeners:s}))}var bi=null,xi=null;function Xx(e){p0(e,0)}function Yr(e){var s=fi(e);if(mf(s))return e}function Mf(e,s){if(e==="change")return s}var Lf=!1;if(En){var lc;if(En){var oc="oninput"in document;if(!oc){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),oc=typeof Uf.oninput=="function"}lc=oc}else lc=!1;Lf=lc&&(!document.documentMode||9<document.documentMode)}function Pf(){bi&&(bi.detachEvent("onpropertychange",Bf),xi=bi=null)}function Bf(e){if(e.propertyName==="value"&&Yr(xi)){var s=[];Df(s,xi,e,Zo(e)),wf(Xx,s)}}function Fx(e,s,i){e==="focusin"?(Pf(),bi=s,xi=i,bi.attachEvent("onpropertychange",Bf)):e==="focusout"&&Pf()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yr(xi)}function Jx(e,s){if(e==="click")return Yr(s)}function Zx(e,s){if(e==="input"||e==="change")return Yr(s)}function Wx(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Bt=typeof Object.is=="function"?Object.is:Wx;function wi(e,s){if(Bt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),l=Object.keys(s);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!zo.call(s,d)||!Bt(e[d],s[d]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vf(e,s){var i=zf(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=s&&l>=s)return{node:i,offset:s-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zf(i)}}function Hf(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Hf(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Vr(e.document);s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Vr(e.document)}return s}function cc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var ew=En&&"documentMode"in document&&11>=document.documentMode,da=null,uc=null,Si=null,dc=!1;function $f(e,s,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;dc||da==null||da!==Vr(l)||(l=da,"selectionStart"in l&&cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Si&&wi(Si,l)||(Si=l,l=Ll(uc,"onSelect"),0<l.length&&(s=new Kr("onSelect","select",null,s,i),e.push({event:s,listeners:l}),s.target=da)))}function Ns(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var ha={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},hc={},Gf={};En&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Cs(e){if(hc[e])return hc[e];if(!ha[e])return e;var s=ha[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Gf)return hc[e]=s[i];return e}var Kf=Cs("animationend"),If=Cs("animationiteration"),Yf=Cs("animationstart"),tw=Cs("transitionrun"),nw=Cs("transitionstart"),sw=Cs("transitioncancel"),Xf=Cs("transitionend"),Ff=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function rn(e,s){Ff.set(e,s),Es(s,[e])}var Xr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],fa=0,mc=0;function Fr(){for(var e=fa,s=mc=fa=0;s<e;){var i=Ft[s];Ft[s++]=null;var l=Ft[s];Ft[s++]=null;var d=Ft[s];Ft[s++]=null;var f=Ft[s];if(Ft[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Qf(i,d,f)}}function Qr(e,s,i,l){Ft[fa++]=e,Ft[fa++]=s,Ft[fa++]=i,Ft[fa++]=l,mc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function pc(e,s,i,l){return Qr(e,s,i,l),Jr(e)}function Rs(e,s){return Qr(e,null,null,s),Jr(e)}function Qf(e,s,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var d=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&s!==null&&(d=31-Pt(i),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[s]:l.push(s),s.lane=i|536870912),f):null}function Jr(e){if(50<Gi)throw Gi=0,Tu=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ma={};function aw(e,s,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,s,i,l){return new aw(e,s,i,l)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,s){var i=e.alternate;return i===null?(i=zt(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Jf(e,s){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,s=i.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Zr(e,s,i,l,d,f){var v=0;if(l=e,typeof e=="function")yc(e)&&(v=1);else if(typeof e=="string")v=cS(e,i,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=zt(31,i,s,d),e.elementType=Q,e.lanes=f,e;case A:return Os(i.children,d,f,s);case E:v=8,d|=24;break;case k:return e=zt(12,i,s,d|2),e.elementType=k,e.lanes=f,e;case K:return e=zt(13,i,s,d),e.elementType=K,e.lanes=f,e;case I:return e=zt(19,i,s,d),e.elementType=I,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:v=10;break e;case L:v=9;break e;case q:v=11;break e;case te:v=14;break e;case ne:v=16,l=null;break e}v=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=zt(v,i,s,d),s.elementType=e,s.type=l,s.lanes=f,s}function Os(e,s,i,l){return e=zt(7,e,l,s),e.lanes=i,e}function gc(e,s,i){return e=zt(6,e,null,s),e.lanes=i,e}function Zf(e){var s=zt(18,null,null,0);return s.stateNode=e,s}function vc(e,s,i){return s=zt(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Wf=new WeakMap;function Qt(e,s){if(typeof e=="object"&&e!==null){var i=Wf.get(e);return i!==void 0?i:(s={value:e,source:s,stack:Jh(s)},Wf.set(e,s),s)}return{value:e,source:s,stack:Jh(s)}}var pa=[],ya=0,Wr=null,_i=0,Jt=[],Zt=0,Fn=null,yn=1,gn="";function Nn(e,s){pa[ya++]=_i,pa[ya++]=Wr,Wr=e,_i=s}function em(e,s,i){Jt[Zt++]=yn,Jt[Zt++]=gn,Jt[Zt++]=Fn,Fn=e;var l=yn;e=gn;var d=32-Pt(l)-1;l&=~(1<<d),i+=1;var f=32-Pt(s)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,yn=1<<32-Pt(s)+d|i<<d|l,gn=f+e}else yn=1<<f|i<<d|l,gn=e}function bc(e){e.return!==null&&(Nn(e,1),em(e,1,0))}function xc(e){for(;e===Wr;)Wr=pa[--ya],pa[ya]=null,_i=pa[--ya],pa[ya]=null;for(;e===Fn;)Fn=Jt[--Zt],Jt[Zt]=null,gn=Jt[--Zt],Jt[Zt]=null,yn=Jt[--Zt],Jt[Zt]=null}function tm(e,s){Jt[Zt++]=yn,Jt[Zt++]=gn,Jt[Zt++]=Fn,yn=s.id,gn=s.overflow,Fn=e}var ft=null,Ve=null,Ae=!1,Qn=null,Wt=!1,wc=Error(r(519));function Jn(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ti(Qt(s,e)),wc}function nm(e){var s=e.stateNode,i=e.type,l=e.memoizedProps;switch(s[ht]=e,s[Nt]=l,i){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(i=0;i<Ii.length;i++)_e(Ii[i],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),pf(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),gf(s,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||l.suppressHydrationWarning===!0||b0(s.textContent,i)?(l.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),l.onScroll!=null&&_e("scroll",s),l.onScrollEnd!=null&&_e("scrollend",s),l.onClick!=null&&(s.onclick=jn),s=!0):s=!1,s||Jn(e,!0)}function sm(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ft=ft.return}}function ga(e){if(e!==ft)return!1;if(!Ae)return sm(e),Ae=!0,!1;var s=e.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zu(e.type,e.memoizedProps)),i=!i),i&&Ve&&Jn(e),sm(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=N0(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=N0(e)}else s===27?(s=Ve,ds(e.type)?(e=Gu,Gu=null,Ve=e):Ve=s):Ve=ft?tn(e.stateNode.nextSibling):null;return!0}function ks(){Ve=ft=null,Ae=!1}function Sc(){var e=Qn;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Qn=null),e}function Ti(e){Qn===null?Qn=[e]:Qn.push(e)}var _c=N(null),Ds=null,Cn=null;function Zn(e,s,i){se(_c,s._currentValue),s._currentValue=i}function Rn(e){e._currentValue=_c.current,X(_c)}function Tc(e,s,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===i)break;e=e.return}}function jc(e,s,i,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var T=0;T<s.length;T++)if(w.context===s[T]){f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),Tc(f.return,i,e),l||(v=null);break e}f=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),Tc(v,i,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function va(e,s,i,l){e=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=d.type;Bt(d.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(d===Ne.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}d=d.return}e!==null&&jc(s,e,i,l),s.flags|=262144}function el(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Ds=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return am(Ds,e)}function tl(e,s){return Ds===null&&Ms(e),am(e,s)}function am(e,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Cn===null){if(e===null)throw Error(r(308));Cn=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Cn=Cn.next=s;return i}var iw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(i){return i()})}},rw=n.unstable_scheduleCallback,lw=n.unstable_NormalPriority,et={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new iw,data:new Map,refCount:0}}function ji(e){e.refCount--,e.refCount===0&&rw(lw,function(){e.controller.abort()})}var Ei=null,Ac=0,ba=0,xa=null;function ow(e,s){if(Ei===null){var i=Ei=[];Ac=0,ba=Ru(),xa={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Ac++,s.then(im,im),s}function im(){if(--Ac===0&&Ei!==null){xa!==null&&(xa.status="fulfilled");var e=Ei;Ei=null,ba=0,xa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function cw(e,s){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<i.length;d++)(0,i[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var rm=j.S;j.S=function(e,s){$p=Lt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ow(e,s),rm!==null&&rm(e,s)};var Ls=N(null);function Nc(){var e=Ls.current;return e!==null?e:Pe.pooledCache}function nl(e,s){s===null?se(Ls,Ls.current):se(Ls,s.pool)}function lm(){var e=Nc();return e===null?null:{parent:et._currentValue,pool:e}}var wa=Error(r(460)),Cc=Error(r(474)),sl=Error(r(542)),al={then:function(){}};function om(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cm(e,s,i){switch(i=e[i],i===void 0?e.push(s):i!==s&&(s.then(jn,jn),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,dm(e),e;default:if(typeof s.status=="string")s.then(jn,jn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,dm(e),e}throw Ps=s,wa}}function Us(e){try{var s=e._init;return s(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ps=i,wa):i}}var Ps=null;function um(){if(Ps===null)throw Error(r(459));var e=Ps;return Ps=null,e}function dm(e){if(e===wa||e===sl)throw Error(r(483))}var Sa=null,Ai=0;function il(e){var s=Ai;return Ai+=1,Sa===null&&(Sa=[]),cm(Sa,e,s)}function Ni(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function rl(e,s){throw s.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function hm(e){function s(D,C){if(e){var U=D.deletions;U===null?(D.deletions=[C],D.flags|=16):U.push(C)}}function i(D,C){if(!e)return null;for(;C!==null;)s(D,C),C=C.sibling;return null}function l(D){for(var C=new Map;D!==null;)D.key!==null?C.set(D.key,D):C.set(D.index,D),D=D.sibling;return C}function d(D,C){return D=An(D,C),D.index=0,D.sibling=null,D}function f(D,C,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<C?(D.flags|=67108866,C):U):(D.flags|=67108866,C)):(D.flags|=1048576,C)}function v(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function w(D,C,U,F){return C===null||C.tag!==6?(C=gc(U,D.mode,F),C.return=D,C):(C=d(C,U),C.return=D,C)}function T(D,C,U,F){var de=U.type;return de===A?G(D,C,U.props.children,F,U.key):C!==null&&(C.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Us(de)===C.type)?(C=d(C,U.props),Ni(C,U),C.return=D,C):(C=Zr(U.type,U.key,U.props,null,D.mode,F),Ni(C,U),C.return=D,C)}function P(D,C,U,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==U.containerInfo||C.stateNode.implementation!==U.implementation?(C=vc(U,D.mode,F),C.return=D,C):(C=d(C,U.children||[]),C.return=D,C)}function G(D,C,U,F,de){return C===null||C.tag!==7?(C=Os(U,D.mode,F,de),C.return=D,C):(C=d(C,U),C.return=D,C)}function Z(D,C,U){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=gc(""+C,D.mode,U),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return U=Zr(C.type,C.key,C.props,null,D.mode,U),Ni(U,C),U.return=D,U;case _:return C=vc(C,D.mode,U),C.return=D,C;case ne:return C=Us(C),Z(D,C,U)}if(ae(C)||$(C))return C=Os(C,D.mode,U,null),C.return=D,C;if(typeof C.then=="function")return Z(D,il(C),U);if(C.$$typeof===R)return Z(D,tl(D,C),U);rl(D,C)}return null}function B(D,C,U,F){var de=C!==null?C.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:w(D,C,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===de?T(D,C,U,F):null;case _:return U.key===de?P(D,C,U,F):null;case ne:return U=Us(U),B(D,C,U,F)}if(ae(U)||$(U))return de!==null?null:G(D,C,U,F,null);if(typeof U.then=="function")return B(D,C,il(U),F);if(U.$$typeof===R)return B(D,C,tl(D,U),F);rl(D,U)}return null}function V(D,C,U,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(U)||null,w(C,D,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return D=D.get(F.key===null?U:F.key)||null,T(C,D,F,de);case _:return D=D.get(F.key===null?U:F.key)||null,P(C,D,F,de);case ne:return F=Us(F),V(D,C,U,F,de)}if(ae(F)||$(F))return D=D.get(U)||null,G(C,D,F,de,null);if(typeof F.then=="function")return V(D,C,U,il(F),de);if(F.$$typeof===R)return V(D,C,U,tl(C,F),de);rl(C,F)}return null}function re(D,C,U,F){for(var de=null,Ce=null,oe=C,xe=C=0,Ee=null;oe!==null&&xe<U.length;xe++){oe.index>xe?(Ee=oe,oe=null):Ee=oe.sibling;var Re=B(D,oe,U[xe],F);if(Re===null){oe===null&&(oe=Ee);break}e&&oe&&Re.alternate===null&&s(D,oe),C=f(Re,C,xe),Ce===null?de=Re:Ce.sibling=Re,Ce=Re,oe=Ee}if(xe===U.length)return i(D,oe),Ae&&Nn(D,xe),de;if(oe===null){for(;xe<U.length;xe++)oe=Z(D,U[xe],F),oe!==null&&(C=f(oe,C,xe),Ce===null?de=oe:Ce.sibling=oe,Ce=oe);return Ae&&Nn(D,xe),de}for(oe=l(oe);xe<U.length;xe++)Ee=V(oe,D,xe,U[xe],F),Ee!==null&&(e&&Ee.alternate!==null&&oe.delete(Ee.key===null?xe:Ee.key),C=f(Ee,C,xe),Ce===null?de=Ee:Ce.sibling=Ee,Ce=Ee);return e&&oe.forEach(function(ys){return s(D,ys)}),Ae&&Nn(D,xe),de}function fe(D,C,U,F){if(U==null)throw Error(r(151));for(var de=null,Ce=null,oe=C,xe=C=0,Ee=null,Re=U.next();oe!==null&&!Re.done;xe++,Re=U.next()){oe.index>xe?(Ee=oe,oe=null):Ee=oe.sibling;var ys=B(D,oe,Re.value,F);if(ys===null){oe===null&&(oe=Ee);break}e&&oe&&ys.alternate===null&&s(D,oe),C=f(ys,C,xe),Ce===null?de=ys:Ce.sibling=ys,Ce=ys,oe=Ee}if(Re.done)return i(D,oe),Ae&&Nn(D,xe),de;if(oe===null){for(;!Re.done;xe++,Re=U.next())Re=Z(D,Re.value,F),Re!==null&&(C=f(Re,C,xe),Ce===null?de=Re:Ce.sibling=Re,Ce=Re);return Ae&&Nn(D,xe),de}for(oe=l(oe);!Re.done;xe++,Re=U.next())Re=V(oe,D,xe,Re.value,F),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?xe:Re.key),C=f(Re,C,xe),Ce===null?de=Re:Ce.sibling=Re,Ce=Re);return e&&oe.forEach(function(xS){return s(D,xS)}),Ae&&Nn(D,xe),de}function Ue(D,C,U,F){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var de=U.key;C!==null;){if(C.key===de){if(de=U.type,de===A){if(C.tag===7){i(D,C.sibling),F=d(C,U.props.children),F.return=D,D=F;break e}}else if(C.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ne&&Us(de)===C.type){i(D,C.sibling),F=d(C,U.props),Ni(F,U),F.return=D,D=F;break e}i(D,C);break}else s(D,C);C=C.sibling}U.type===A?(F=Os(U.props.children,D.mode,F,U.key),F.return=D,D=F):(F=Zr(U.type,U.key,U.props,null,D.mode,F),Ni(F,U),F.return=D,D=F)}return v(D);case _:e:{for(de=U.key;C!==null;){if(C.key===de)if(C.tag===4&&C.stateNode.containerInfo===U.containerInfo&&C.stateNode.implementation===U.implementation){i(D,C.sibling),F=d(C,U.children||[]),F.return=D,D=F;break e}else{i(D,C);break}else s(D,C);C=C.sibling}F=vc(U,D.mode,F),F.return=D,D=F}return v(D);case ne:return U=Us(U),Ue(D,C,U,F)}if(ae(U))return re(D,C,U,F);if($(U)){if(de=$(U),typeof de!="function")throw Error(r(150));return U=de.call(U),fe(D,C,U,F)}if(typeof U.then=="function")return Ue(D,C,il(U),F);if(U.$$typeof===R)return Ue(D,C,tl(D,U),F);rl(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,C!==null&&C.tag===6?(i(D,C.sibling),F=d(C,U),F.return=D,D=F):(i(D,C),F=gc(U,D.mode,F),F.return=D,D=F),v(D)):i(D,C)}return function(D,C,U,F){try{Ai=0;var de=Ue(D,C,U,F);return Sa=null,de}catch(oe){if(oe===wa||oe===sl)throw oe;var Ce=zt(29,oe,null,D.mode);return Ce.lanes=F,Ce.return=D,Ce}}}var Bs=hm(!0),fm=hm(!1),Wn=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ts(e,s,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=Jr(e),Qf(e,null,i),s}return Qr(e,l,s,i),Jr(e)}function Ci(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,i|=l,s.lanes=i,sf(e,i)}}function kc(e,s){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?d=f=s:f=f.next=s}else d=f=s;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}var Dc=!1;function Ri(){if(Dc){var e=xa;if(e!==null)throw e}}function Oi(e,s,i,l){Dc=!1;var d=e.updateQueue;Wn=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var T=w,P=T.next;T.next=null,v===null?f=P:v.next=P,v=T;var G=e.alternate;G!==null&&(G=G.updateQueue,w=G.lastBaseUpdate,w!==v&&(w===null?G.firstBaseUpdate=P:w.next=P,G.lastBaseUpdate=T))}if(f!==null){var Z=d.baseState;v=0,G=P=T=null,w=f;do{var B=w.lane&-536870913,V=B!==w.lane;if(V?(je&B)===B:(l&B)===B){B!==0&&B===ba&&(Dc=!0),G!==null&&(G=G.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var re=e,fe=w;B=s;var Ue=i;switch(fe.tag){case 1:if(re=fe.payload,typeof re=="function"){Z=re.call(Ue,Z,B);break e}Z=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=fe.payload,B=typeof re=="function"?re.call(Ue,Z,B):re,B==null)break e;Z=b({},Z,B);break e;case 2:Wn=!0}}B=w.callback,B!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[B]:V.push(B))}else V={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},G===null?(P=G=V,T=Z):G=G.next=V,v|=B;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;V=w,w=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);G===null&&(T=Z),d.baseState=T,d.firstBaseUpdate=P,d.lastBaseUpdate=G,f===null&&(d.shared.lanes=0),rs|=v,e.lanes=v,e.memoizedState=Z}}function mm(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function pm(e,s){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)mm(i[e],s)}var _a=N(null),ll=N(0);function ym(e,s){e=zn,se(ll,e),se(_a,s),zn=e|s.baseLanes}function Mc(){se(ll,zn),se(_a,_a.current)}function Lc(){zn=ll.current,X(_a),X(ll)}var Vt=N(null),en=null;function ns(e){var s=e.alternate;se(Ze,Ze.current&1),se(Vt,e),en===null&&(s===null||_a.current!==null||s.memoizedState!==null)&&(en=e)}function Uc(e){se(Ze,Ze.current),se(Vt,e),en===null&&(en=e)}function gm(e){e.tag===22?(se(Ze,Ze.current),se(Vt,e),en===null&&(en=e)):ss()}function ss(){se(Ze,Ze.current),se(Vt,Vt.current)}function Ht(e){X(Vt),en===e&&(en=null),X(Ze)}var Ze=N(0);function ol(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qu(i)||$u(i)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var On=0,be=null,Me=null,tt=null,cl=!1,Ta=!1,zs=!1,ul=0,ki=0,ja=null,uw=0;function Ke(){throw Error(r(321))}function Pc(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!Bt(e[i],s[i]))return!1;return!0}function Bc(e,s,i,l,d,f){return On=f,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=e===null||e.memoizedState===null?ep:Wc,zs=!1,f=i(l,d),zs=!1,Ta&&(f=bm(s,i,l,d)),vm(e),f}function vm(e){j.H=Li;var s=Me!==null&&Me.next!==null;if(On=0,tt=Me=be=null,cl=!1,ki=0,ja=null,s)throw Error(r(300));e===null||nt||(e=e.dependencies,e!==null&&el(e)&&(nt=!0))}function bm(e,s,i,l){be=e;var d=0;do{if(Ta&&(ja=null),ki=0,Ta=!1,25<=d)throw Error(r(301));if(d+=1,tt=Me=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=tp,f=s(i,l)}while(Ta);return f}function dw(){var e=j.H,s=e.useState()[0];return s=typeof s.then=="function"?Di(s):s,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(be.flags|=1024),s}function zc(){var e=ul!==0;return ul=0,e}function Vc(e,s,i){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~i}function Hc(e){if(cl){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}cl=!1}On=0,tt=Me=be=null,Ta=!1,ki=ul=0,ja=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?be.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Me===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var s=tt===null?be.memoizedState:tt.next;if(s!==null)tt=s,Me=e;else{if(e===null)throw be.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},tt===null?be.memoizedState=tt=e:tt=tt.next=e}return tt}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(e){var s=ki;return ki+=1,ja===null&&(ja=[]),e=cm(ja,e,s),s=be,(tt===null?s.memoizedState:tt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?ep:Wc),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Di(e);if(e.$$typeof===R)return mt(e)}throw Error(r(438,String(e)))}function qc(e){var s=null,i=be.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=dl(),be.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(e),l=0;l<e;l++)i[l]=W;return s.index++,i}function kn(e,s){return typeof s=="function"?s(e):s}function fl(e){var s=We();return $c(s,Me,e)}function $c(e,s,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}s.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{s=d.next;var w=v=null,T=null,P=s,G=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(je&Z)===Z:(On&Z)===Z){var B=P.revertLane;if(B===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===ba&&(G=!0);else if((On&B)===B){P=P.next,B===ba&&(G=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(w=T=Z,v=f):T=T.next=Z,be.lanes|=B,rs|=B;Z=P.action,zs&&i(f,Z),f=P.hasEagerState?P.eagerState:i(f,Z)}else B={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(w=T=B,v=f):T=T.next=B,be.lanes|=Z,rs|=Z;P=P.next}while(P!==null&&P!==s);if(T===null?v=f:T.next=w,!Bt(f,e.memoizedState)&&(nt=!0,G&&(i=xa,i!==null)))throw i;e.memoizedState=f,e.baseState=v,e.baseQueue=T,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Gc(e){var s=We(),i=s.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=s.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);Bt(f,s.memoizedState)||(nt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),i.lastRenderedState=f}return[f,l]}function xm(e,s,i){var l=be,d=We(),f=Ae;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=s();var v=!Bt((Me||d).memoizedState,i);if(v&&(d.memoizedState=i,nt=!0),d=d.queue,Yc(_m.bind(null,l,d,e),[e]),d.getSnapshot!==s||v||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,Ea(9,{destroy:void 0},Sm.bind(null,l,d,i,s),null),Pe===null)throw Error(r(349));f||(On&127)!==0||wm(l,s,i)}return i}function wm(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=be.updateQueue,s===null?(s=dl(),be.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function Sm(e,s,i,l){s.value=i,s.getSnapshot=l,Tm(s)&&jm(e)}function _m(e,s,i){return i(function(){Tm(s)&&jm(e)})}function Tm(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!Bt(e,i)}catch{return!0}}function jm(e){var s=Rs(e,2);s!==null&&Mt(s,e,2)}function Kc(e){var s=jt();if(typeof e=="function"){var i=e;if(e=i(),zs){In(!0);try{i()}finally{In(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},s}function Em(e,s,i,l){return e.baseState=i,$c(e,Me,typeof l=="function"?l:kn)}function hw(e,s,i,l,d){if(yl(e))throw Error(r(485));if(e=s.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};j.T!==null?i(!0):f.isTransition=!1,l(f),i=s.pending,i===null?(f.next=s.pending=f,Am(s,f)):(f.next=i.next,s.pending=i.next=f)}}function Am(e,s){var i=s.action,l=s.payload,d=e.state;if(s.isTransition){var f=j.T,v={};j.T=v;try{var w=i(d,l),T=j.S;T!==null&&T(v,w),Nm(e,s,w)}catch(P){Ic(e,s,P)}finally{f!==null&&v.types!==null&&(f.types=v.types),j.T=f}}else try{f=i(d,l),Nm(e,s,f)}catch(P){Ic(e,s,P)}}function Nm(e,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Cm(e,s,l)},function(l){return Ic(e,s,l)}):Cm(e,s,i)}function Cm(e,s,i){s.status="fulfilled",s.value=i,Rm(s),e.state=i,s=e.pending,s!==null&&(i=s.next,i===s?e.pending=null:(i=i.next,s.next=i,Am(e,i)))}function Ic(e,s,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=i,Rm(s),s=s.next;while(s!==l)}e.action=null}function Rm(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Om(e,s){return s}function km(e,s){if(Ae){var i=Pe.formState;if(i!==null){e:{var l=be;if(Ae){if(Ve){t:{for(var d=Ve,f=Wt;d.nodeType!==8;){if(!f){d=null;break t}if(d=tn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Ve=tn(d.nextSibling),l=d.data==="F!";break e}}Jn(l)}l=!1}l&&(s=i[0])}}return i=jt(),i.memoizedState=i.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:s},i.queue=l,i=Jm.bind(null,be,l),l.dispatch=i,l=Kc(!1),f=Zc.bind(null,be,!1,l.queue),l=jt(),d={state:s,dispatch:null,action:e,pending:null},l.queue=d,i=hw.bind(null,be,d,f,i),d.dispatch=i,l.memoizedState=e,[s,i,!1]}function Dm(e){var s=We();return Mm(s,Me,e)}function Mm(e,s,i){if(s=$c(e,s,Om)[0],e=fl(kn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Di(s)}catch(v){throw v===wa?sl:v}else l=s;s=We();var d=s.queue,f=d.dispatch;return i!==s.memoizedState&&(be.flags|=2048,Ea(9,{destroy:void 0},fw.bind(null,d,i),null)),[l,f,e]}function fw(e,s){e.action=s}function Lm(e){var s=We(),i=Me;if(i!==null)return Mm(s,i,e);We(),s=s.memoizedState,i=We();var l=i.queue.dispatch;return i.memoizedState=e,[s,l,!1]}function Ea(e,s,i,l){return e={tag:e,create:i,deps:l,inst:s,next:null},s=be.updateQueue,s===null&&(s=dl(),be.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,s.lastEffect=e),e}function Um(){return We().memoizedState}function ml(e,s,i,l){var d=jt();be.flags|=e,d.memoizedState=Ea(1|s,{destroy:void 0},i,l===void 0?null:l)}function pl(e,s,i,l){var d=We();l=l===void 0?null:l;var f=d.memoizedState.inst;Me!==null&&l!==null&&Pc(l,Me.memoizedState.deps)?d.memoizedState=Ea(s,f,i,l):(be.flags|=e,d.memoizedState=Ea(1|s,f,i,l))}function Pm(e,s){ml(8390656,8,e,s)}function Yc(e,s){pl(2048,8,e,s)}function mw(e){be.flags|=4;var s=be.updateQueue;if(s===null)s=dl(),be.updateQueue=s,s.events=[e];else{var i=s.events;i===null?s.events=[e]:i.push(e)}}function Bm(e){var s=We().memoizedState;return mw({ref:s,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function zm(e,s){return pl(4,2,e,s)}function Vm(e,s){return pl(4,4,e,s)}function Hm(e,s){if(typeof s=="function"){e=e();var i=s(e);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qm(e,s,i){i=i!=null?i.concat([e]):null,pl(4,4,Hm.bind(null,s,e),i)}function Xc(){}function $m(e,s){var i=We();s=s===void 0?null:s;var l=i.memoizedState;return s!==null&&Pc(s,l[1])?l[0]:(i.memoizedState=[e,s],e)}function Gm(e,s){var i=We();s=s===void 0?null:s;var l=i.memoizedState;if(s!==null&&Pc(s,l[1]))return l[0];if(l=e(),zs){In(!0);try{e()}finally{In(!1)}}return i.memoizedState=[l,s],l}function Fc(e,s,i){return i===void 0||(On&1073741824)!==0&&(je&261930)===0?e.memoizedState=s:(e.memoizedState=i,e=Kp(),be.lanes|=e,rs|=e,i)}function Km(e,s,i,l){return Bt(i,s)?i:_a.current!==null?(e=Fc(e,i,l),Bt(e,s)||(nt=!0),e):(On&42)===0||(On&1073741824)!==0&&(je&261930)===0?(nt=!0,e.memoizedState=i):(e=Kp(),be.lanes|=e,rs|=e,s)}function Im(e,s,i,l,d){var f=z.p;z.p=f!==0&&8>f?f:8;var v=j.T,w={};j.T=w,Zc(e,!1,s,i);try{var T=d(),P=j.S;if(P!==null&&P(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var G=cw(T,l);Mi(e,s,G,Gt(e))}else Mi(e,s,l,Gt(e))}catch(Z){Mi(e,s,{then:function(){},status:"rejected",reason:Z},Gt())}finally{z.p=f,v!==null&&w.types!==null&&(v.types=w.types),j.T=v}}function pw(){}function Qc(e,s,i,l){if(e.tag!==5)throw Error(r(476));var d=Ym(e).queue;Im(e,d,s,ie,i===null?pw:function(){return Xm(e),i(l)})}function Ym(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:ie},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:i},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Xm(e){var s=Ym(e);s.next===null&&(s=e.alternate.memoizedState),Mi(e,s.next.queue,{},Gt())}function Jc(){return mt(Ji)}function Fm(){return We().memoizedState}function Qm(){return We().memoizedState}function yw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var i=Gt();e=es(i);var l=ts(s,e,i);l!==null&&(Mt(l,s,i),Ci(l,s,i)),s={cache:Ec()},e.payload=s;return}s=s.return}}function gw(e,s,i){var l=Gt();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yl(e)?Zm(s,i):(i=pc(e,s,i,l),i!==null&&(Mt(i,e,l),Wm(i,s,l)))}function Jm(e,s,i){var l=Gt();Mi(e,s,i,l)}function Mi(e,s,i,l){var d={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Zm(s,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var v=s.lastRenderedState,w=f(v,i);if(d.hasEagerState=!0,d.eagerState=w,Bt(w,v))return Qr(e,s,d,0),Pe===null&&Fr(),!1}catch{}if(i=pc(e,s,d,l),i!==null)return Mt(i,e,l),Wm(i,s,l),!0}return!1}function Zc(e,s,i,l){if(l={lane:2,revertLane:Ru(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(s)throw Error(r(479))}else s=pc(e,i,l,2),s!==null&&Mt(s,e,2)}function yl(e){var s=e.alternate;return e===be||s!==null&&s===be}function Zm(e,s){Ta=cl=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Wm(e,s,i){if((i&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,i|=l,s.lanes=i,sf(e,i)}}var Li={readContext:mt,use:hl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Li.useEffectEvent=Ke;var ep={readContext:mt,use:hl,useCallback:function(e,s){return jt().memoizedState=[e,s===void 0?null:s],e},useContext:mt,useEffect:Pm,useImperativeHandle:function(e,s,i){i=i!=null?i.concat([e]):null,ml(4194308,4,Hm.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ml(4194308,4,e,s)},useInsertionEffect:function(e,s){ml(4,2,e,s)},useMemo:function(e,s){var i=jt();s=s===void 0?null:s;var l=e();if(zs){In(!0);try{e()}finally{In(!1)}}return i.memoizedState=[l,s],l},useReducer:function(e,s,i){var l=jt();if(i!==void 0){var d=i(s);if(zs){In(!0);try{i(s)}finally{In(!1)}}}else d=s;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=gw.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var s=jt();return e={current:e},s.memoizedState=e},useState:function(e){e=Kc(e);var s=e.queue,i=Jm.bind(null,be,s);return s.dispatch=i,[e.memoizedState,i]},useDebugValue:Xc,useDeferredValue:function(e,s){var i=jt();return Fc(i,e,s)},useTransition:function(){var e=Kc(!1);return e=Im.bind(null,be,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,i){var l=be,d=jt();if(Ae){if(i===void 0)throw Error(r(407));i=i()}else{if(i=s(),Pe===null)throw Error(r(349));(je&127)!==0||wm(l,s,i)}d.memoizedState=i;var f={value:i,getSnapshot:s};return d.queue=f,Pm(_m.bind(null,l,f,e),[e]),l.flags|=2048,Ea(9,{destroy:void 0},Sm.bind(null,l,f,i,s),null),i},useId:function(){var e=jt(),s=Pe.identifierPrefix;if(Ae){var i=gn,l=yn;i=(l&~(1<<32-Pt(l)-1)).toString(32)+i,s="_"+s+"R_"+i,i=ul++,0<i&&(s+="H"+i.toString(32)),s+="_"}else i=uw++,s="_"+s+"r_"+i.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Jc,useFormState:km,useActionState:km,useOptimistic:function(e){var s=jt();s.memoizedState=s.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=Zc.bind(null,be,!0,i),i.dispatch=s,[e,s]},useMemoCache:qc,useCacheRefresh:function(){return jt().memoizedState=yw.bind(null,be)},useEffectEvent:function(e){var s=jt(),i={impl:e};return s.memoizedState=i,function(){if((Oe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Wc={readContext:mt,use:hl,useCallback:$m,useContext:mt,useEffect:Yc,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Vm,useMemo:Gm,useReducer:fl,useRef:Um,useState:function(){return fl(kn)},useDebugValue:Xc,useDeferredValue:function(e,s){var i=We();return Km(i,Me.memoizedState,e,s)},useTransition:function(){var e=fl(kn)[0],s=We().memoizedState;return[typeof e=="boolean"?e:Di(e),s]},useSyncExternalStore:xm,useId:Fm,useHostTransitionStatus:Jc,useFormState:Dm,useActionState:Dm,useOptimistic:function(e,s){var i=We();return Em(i,Me,e,s)},useMemoCache:qc,useCacheRefresh:Qm};Wc.useEffectEvent=Bm;var tp={readContext:mt,use:hl,useCallback:$m,useContext:mt,useEffect:Yc,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Vm,useMemo:Gm,useReducer:Gc,useRef:Um,useState:function(){return Gc(kn)},useDebugValue:Xc,useDeferredValue:function(e,s){var i=We();return Me===null?Fc(i,e,s):Km(i,Me.memoizedState,e,s)},useTransition:function(){var e=Gc(kn)[0],s=We().memoizedState;return[typeof e=="boolean"?e:Di(e),s]},useSyncExternalStore:xm,useId:Fm,useHostTransitionStatus:Jc,useFormState:Lm,useActionState:Lm,useOptimistic:function(e,s){var i=We();return Me!==null?Em(i,Me,e,s):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:qc,useCacheRefresh:Qm};tp.useEffectEvent=Bm;function eu(e,s,i,l){s=e.memoizedState,i=i(l,s),i=i==null?s:b({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tu={enqueueSetState:function(e,s,i){e=e._reactInternals;var l=Gt(),d=es(l);d.payload=s,i!=null&&(d.callback=i),s=ts(e,d,l),s!==null&&(Mt(s,e,l),Ci(s,e,l))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var l=Gt(),d=es(l);d.tag=1,d.payload=s,i!=null&&(d.callback=i),s=ts(e,d,l),s!==null&&(Mt(s,e,l),Ci(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=Gt(),l=es(i);l.tag=2,s!=null&&(l.callback=s),s=ts(e,l,i),s!==null&&(Mt(s,e,i),Ci(s,e,i))}};function np(e,s,i,l,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):s.prototype&&s.prototype.isPureReactComponent?!wi(i,l)||!wi(d,f):!0}function sp(e,s,i,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,l),s.state!==e&&tu.enqueueReplaceState(s,s.state,null)}function Vs(e,s){var i=s;if("ref"in s){i={};for(var l in s)l!=="ref"&&(i[l]=s[l])}if(e=e.defaultProps){i===s&&(i=b({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function ap(e){Xr(e)}function ip(e){console.error(e)}function rp(e){Xr(e)}function gl(e,s){try{var i=e.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function lp(e,s,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function nu(e,s,i){return i=es(i),i.tag=3,i.payload={element:null},i.callback=function(){gl(e,s)},i}function op(e){return e=es(e),e.tag=3,e}function cp(e,s,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){lp(s,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){lp(s,i,l),typeof d!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function vw(e,s,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=i.alternate,s!==null&&va(s,i,d,!0),i=Vt.current,i!==null){switch(i.tag){case 31:case 13:return en===null?Cl():i.alternate===null&&Ie===0&&(Ie=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===al?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([l]):s.add(l),Au(e,l,d)),!1;case 22:return i.flags|=65536,l===al?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([l]):i.add(l)),Au(e,l,d)),!1}throw Error(r(435,i.tag))}return Au(e,l,d),Cl(),!1}if(Ae)return s=Vt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==wc&&(e=Error(r(422),{cause:l}),Ti(Qt(e,i)))):(l!==wc&&(s=Error(r(423),{cause:l}),Ti(Qt(s,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Qt(l,i),d=nu(e.stateNode,l,d),kc(e,d),Ie!==4&&(Ie=2)),!1;var f=Error(r(520),{cause:l});if(f=Qt(f,i),$i===null?$i=[f]:$i.push(f),Ie!==4&&(Ie=2),s===null)return!0;l=Qt(l,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=nu(i.stateNode,l,e),kc(i,e),!1;case 1:if(s=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ls===null||!ls.has(f))))return i.flags|=65536,d&=-d,i.lanes|=d,d=op(d),cp(d,e,i,l),kc(i,d),!1}i=i.return}while(i!==null);return!1}var su=Error(r(461)),nt=!1;function pt(e,s,i,l){s.child=e===null?fm(s,null,i,l):Bs(s,e.child,i,l)}function up(e,s,i,l,d){i=i.render;var f=s.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ms(s),l=Bc(e,s,i,v,f,d),w=zc(),e!==null&&!nt?(Vc(e,s,d),Dn(e,s,d)):(Ae&&w&&bc(s),s.flags|=1,pt(e,s,l,d),s.child)}function dp(e,s,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!yc(f)&&f.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=f,hp(e,s,f,l,d)):(e=Zr(i.type,null,l,s,s.mode,d),e.ref=s.ref,e.return=s,s.child=e)}if(f=e.child,!du(e,d)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:wi,i(v,l)&&e.ref===s.ref)return Dn(e,s,d)}return s.flags|=1,e=An(f,l),e.ref=s.ref,e.return=s,s.child=e}function hp(e,s,i,l,d){if(e!==null){var f=e.memoizedProps;if(wi(f,l)&&e.ref===s.ref)if(nt=!1,s.pendingProps=l=f,du(e,d))(e.flags&131072)!==0&&(nt=!0);else return s.lanes=e.lanes,Dn(e,s,d)}return au(e,s,i,l,d)}function fp(e,s,i,l){var d=l.children,f=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(l=s.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,s.child=null;return mp(e,s,f,i,l)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&nl(s,f!==null?f.cachePool:null),f!==null?ym(s,f):Mc(),gm(s);else return l=s.lanes=536870912,mp(e,s,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(nl(s,f.cachePool),ym(s,f),ss(),s.memoizedState=null):(e!==null&&nl(s,null),Mc(),ss());return pt(e,s,d,i),s.child}function Ui(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mp(e,s,i,l,d){var f=Nc();return f=f===null?null:{parent:et._currentValue,pool:f},s.memoizedState={baseLanes:i,cachePool:f},e!==null&&nl(s,null),Mc(),gm(s),e!==null&&va(e,s,l,!0),s.childLanes=d,null}function vl(e,s){return s=xl({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function pp(e,s,i){return Bs(s,e.child,null,i),e=vl(s,s.pendingProps),e.flags|=2,Ht(s),s.memoizedState=null,e}function bw(e,s,i){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=vl(s,l),s.lanes=536870912,Ui(null,e);if(Uc(s),(e=Ve)?(e=A0(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:yn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Zf(e),i.return=s,s.child=i,ft=s,Ve=null)):e=null,e===null)throw Jn(s);return s.lanes=536870912,null}return vl(s,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Uc(s),d)if(s.flags&256)s.flags&=-257,s=pp(e,s,i);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(nt||va(e,s,i,!1),d=(i&e.childLanes)!==0,nt||d){if(l=Pe,l!==null&&(v=af(l,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,Rs(e,v),Mt(l,e,v),su;Cl(),s=pp(e,s,i)}else e=f.treeContext,Ve=tn(v.nextSibling),ft=s,Ae=!0,Qn=null,Wt=!1,e!==null&&tm(s,e),s=vl(s,l),s.flags|=4096;return s}return e=An(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function bl(e,s){var i=s.ref;if(i===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(s.flags|=4194816)}}function au(e,s,i,l,d){return Ms(s),i=Bc(e,s,i,l,void 0,d),l=zc(),e!==null&&!nt?(Vc(e,s,d),Dn(e,s,d)):(Ae&&l&&bc(s),s.flags|=1,pt(e,s,i,d),s.child)}function yp(e,s,i,l,d,f){return Ms(s),s.updateQueue=null,i=bm(s,l,i,d),vm(e),l=zc(),e!==null&&!nt?(Vc(e,s,f),Dn(e,s,f)):(Ae&&l&&bc(s),s.flags|=1,pt(e,s,i,f),s.child)}function gp(e,s,i,l,d){if(Ms(s),s.stateNode===null){var f=ma,v=i.contextType;typeof v=="object"&&v!==null&&(f=mt(v)),f=new i(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tu,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Rc(s),v=i.contextType,f.context=typeof v=="object"&&v!==null?mt(v):ma,f.state=s.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(eu(s,i,v,l),f.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&tu.enqueueReplaceState(f,f.state,null),Oi(s,l,f,d),Ri(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){f=s.stateNode;var w=s.memoizedProps,T=Vs(i,w);f.props=T;var P=f.context,G=i.contextType;v=ma,typeof G=="object"&&G!==null&&(v=mt(G));var Z=i.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||P!==v)&&sp(s,f,l,v),Wn=!1;var B=s.memoizedState;f.state=B,Oi(s,l,f,d),Ri(),P=s.memoizedState,w||B!==P||Wn?(typeof Z=="function"&&(eu(s,i,Z,l),P=s.memoizedState),(T=Wn||np(s,i,T,l,B,P,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=P),f.props=l,f.state=P,f.context=v,l=T):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Oc(e,s),v=s.memoizedProps,G=Vs(i,v),f.props=G,Z=s.pendingProps,B=f.context,P=i.contextType,T=ma,typeof P=="object"&&P!==null&&(T=mt(P)),w=i.getDerivedStateFromProps,(P=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||B!==T)&&sp(s,f,l,T),Wn=!1,B=s.memoizedState,f.state=B,Oi(s,l,f,d),Ri();var V=s.memoizedState;v!==Z||B!==V||Wn||e!==null&&e.dependencies!==null&&el(e.dependencies)?(typeof w=="function"&&(eu(s,i,w,l),V=s.memoizedState),(G=Wn||np(s,i,G,l,B,V,T)||e!==null&&e.dependencies!==null&&el(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,V,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,V,T)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=V),f.props=l,f.state=V,f.context=T,l=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(s.flags|=1024),l=!1)}return f=l,bl(e,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,e!==null&&l?(s.child=Bs(s,e.child,null,d),s.child=Bs(s,null,i,d)):pt(e,s,i,d),s.memoizedState=f.state,e=s.child):e=Dn(e,s,d),e}function vp(e,s,i,l){return ks(),s.flags|=256,pt(e,s,i,l),s.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:lm()}}function lu(e,s,i){return e=e!==null?e.childLanes&~i:0,s&&(e|=$t),e}function bp(e,s,i){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ae){if(d?ns(s):ss(),(e=Ve)?(e=A0(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:yn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Zf(e),i.return=s,s.child=i,ft=s,Ve=null)):e=null,e===null)throw Jn(s);return $u(e)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(ss(),d=s.mode,w=xl({mode:"hidden",children:w},d),l=Os(l,d,i,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=ru(i),l.childLanes=lu(e,v,i),s.memoizedState=iu,Ui(null,l)):(ns(s),ou(s,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(f)s.flags&256?(ns(s),s.flags&=-257,s=cu(e,s,i)):s.memoizedState!==null?(ss(),s.child=e.child,s.flags|=128,s=null):(ss(),w=l.fallback,d=s.mode,l=xl({mode:"visible",children:l.children},d),w=Os(w,d,i,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,Bs(s,e.child,null,i),l=s.child,l.memoizedState=ru(i),l.childLanes=lu(e,v,i),s.memoizedState=iu,s=Ui(null,l));else if(ns(s),$u(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(r(419)),l.stack="",l.digest=v,Ti({value:l,source:null,stack:null}),s=cu(e,s,i)}else if(nt||va(e,s,i,!1),v=(i&e.childLanes)!==0,nt||v){if(v=Pe,v!==null&&(l=af(v,i),l!==0&&l!==T.retryLane))throw T.retryLane=l,Rs(e,l),Mt(v,e,l),su;qu(w)||Cl(),s=cu(e,s,i)}else qu(w)?(s.flags|=192,s.child=e.child,s=null):(e=T.treeContext,Ve=tn(w.nextSibling),ft=s,Ae=!0,Qn=null,Wt=!1,e!==null&&tm(s,e),s=ou(s,l.children),s.flags|=4096);return s}return d?(ss(),w=l.fallback,d=s.mode,T=e.child,P=T.sibling,l=An(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,P!==null?w=An(P,w):(w=Os(w,d,i,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,Ui(null,l),l=s.child,w=e.child.memoizedState,w===null?w=ru(i):(d=w.cachePool,d!==null?(T=et._currentValue,d=d.parent!==T?{parent:T,pool:T}:d):d=lm(),w={baseLanes:w.baseLanes|i,cachePool:d}),l.memoizedState=w,l.childLanes=lu(e,v,i),s.memoizedState=iu,Ui(e.child,l)):(ns(s),i=e.child,e=i.sibling,i=An(i,{mode:"visible",children:l.children}),i.return=s,i.sibling=null,e!==null&&(v=s.deletions,v===null?(s.deletions=[e],s.flags|=16):v.push(e)),s.child=i,s.memoizedState=null,i)}function ou(e,s){return s=xl({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function xl(e,s){return e=zt(22,e,null,s),e.lanes=0,e}function cu(e,s,i){return Bs(s,e.child,null,i),e=ou(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function xp(e,s,i){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Tc(e.return,s,i)}function uu(e,s,i,l,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d,treeForkCount:f}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=d,v.treeForkCount=f)}function wp(e,s,i){var l=s.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=Ze.current,w=(v&2)!==0;if(w?(v=v&1|2,s.flags|=128):v&=1,se(Ze,v),pt(e,s,l,i),l=Ae?_i:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,i,s);else if(e.tag===19)xp(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=s.child,d=null;i!==null;)e=i.alternate,e!==null&&ol(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=s.child,s.child=null):(d=i.sibling,i.sibling=null),uu(s,!1,d,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=s.child,s.child=null;d!==null;){if(e=d.alternate,e!==null&&ol(e)===null){s.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}uu(s,!0,i,null,f,l);break;case"together":uu(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Dn(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rs|=s.lanes,(i&s.childLanes)===0)if(e!==null){if(va(e,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,i=An(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=An(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function du(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&el(e)))}function xw(e,s,i){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),Zn(s,et,e.memoizedState.cache),ks();break;case 27:case 5:oi(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:Zn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Uc(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(s),s.flags|=128,null):(i&s.child.childLanes)!==0?bp(e,s,i):(ns(s),e=Dn(e,s,i),e!==null?e.sibling:null);ns(s);break;case 19:var d=(e.flags&128)!==0;if(l=(i&s.childLanes)!==0,l||(va(e,s,i,!1),l=(i&s.childLanes)!==0),d){if(l)return wp(e,s,i);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ze,Ze.current),l)break;return null;case 22:return s.lanes=0,fp(e,s,i,s.pendingProps);case 24:Zn(s,et,e.memoizedState.cache)}return Dn(e,s,i)}function Sp(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps)nt=!0;else{if(!du(e,i)&&(s.flags&128)===0)return nt=!1,xw(e,s,i);nt=(e.flags&131072)!==0}else nt=!1,Ae&&(s.flags&1048576)!==0&&em(s,_i,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(e=Us(s.elementType),s.type=e,typeof e=="function")yc(e)?(l=Vs(e,l),s.tag=1,s=gp(null,s,e,l,i)):(s.tag=0,s=au(null,s,e,l,i));else{if(e!=null){var d=e.$$typeof;if(d===q){s.tag=11,s=up(null,s,e,l,i);break e}else if(d===te){s.tag=14,s=dp(null,s,e,l,i);break e}}throw s=ee(e)||e,Error(r(306,s,""))}}return s;case 0:return au(e,s,s.type,s.pendingProps,i);case 1:return l=s.type,d=Vs(l,s.pendingProps),gp(e,s,l,d,i);case 3:e:{if(dt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,Oc(e,s),Oi(s,l,null,i);var v=s.memoizedState;if(l=v.cache,Zn(s,et,l),l!==f.cache&&jc(s,[et],i,!0),Ri(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=vp(e,s,l,i);break e}else if(l!==d){d=Qt(Error(r(424)),s),Ti(d),s=vp(e,s,l,i);break e}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ve=tn(e.firstChild),ft=s,Ae=!0,Qn=null,Wt=!0,i=fm(s,null,l,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ks(),l===d){s=Dn(e,s,i);break e}pt(e,s,l,i)}s=s.child}return s;case 26:return bl(e,s),e===null?(i=D0(s.type,null,s.pendingProps,null))?s.memoizedState=i:Ae||(i=s.type,e=s.pendingProps,l=Ul(we.current).createElement(i),l[ht]=s,l[Nt]=e,yt(l,i,e),ct(l),s.stateNode=l):s.memoizedState=D0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return oi(s),e===null&&Ae&&(l=s.stateNode=R0(s.type,s.pendingProps,we.current),ft=s,Wt=!0,d=Ve,ds(s.type)?(Gu=d,Ve=tn(l.firstChild)):Ve=d),pt(e,s,s.pendingProps.children,i),bl(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ae&&((d=l=Ve)&&(l=Qw(l,s.type,s.pendingProps,Wt),l!==null?(s.stateNode=l,ft=s,Ve=tn(l.firstChild),Wt=!1,d=!0):d=!1),d||Jn(s)),oi(s),d=s.type,f=s.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,zu(d,f)?l=null:v!==null&&zu(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Bc(e,s,dw,null,null,i),Ji._currentValue=d),bl(e,s),pt(e,s,l,i),s.child;case 6:return e===null&&Ae&&((e=i=Ve)&&(i=Jw(i,s.pendingProps,Wt),i!==null?(s.stateNode=i,ft=s,Ve=null,e=!0):e=!1),e||Jn(s)),null;case 13:return bp(e,s,i);case 4:return dt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Bs(s,null,l,i):pt(e,s,l,i),s.child;case 11:return up(e,s,s.type,s.pendingProps,i);case 7:return pt(e,s,s.pendingProps,i),s.child;case 8:return pt(e,s,s.pendingProps.children,i),s.child;case 12:return pt(e,s,s.pendingProps.children,i),s.child;case 10:return l=s.pendingProps,Zn(s,s.type,l.value),pt(e,s,l.children,i),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Ms(s),d=mt(d),l=l(d),s.flags|=1,pt(e,s,l,i),s.child;case 14:return dp(e,s,s.type,s.pendingProps,i);case 15:return hp(e,s,s.type,s.pendingProps,i);case 19:return wp(e,s,i);case 31:return bw(e,s,i);case 22:return fp(e,s,i,s.pendingProps);case 24:return Ms(s),l=mt(et),e===null?(d=Nc(),d===null&&(d=Pe,f=Ec(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=i),d=f),s.memoizedState={parent:l,cache:d},Rc(s),Zn(s,et,d)):((e.lanes&i)!==0&&(Oc(e,s),Oi(s,null,null,i),Ri()),d=e.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Zn(s,et,l)):(l=f.cache,Zn(s,et,l),l!==d.cache&&jc(s,[et],i,!0))),pt(e,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Mn(e){e.flags|=4}function hu(e,s,i,l,d){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Fp())e.flags|=8192;else throw Ps=al,Cc}else e.flags&=-16777217}function _p(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B0(s))if(Fp())e.flags|=8192;else throw Ps=al,Cc}function wl(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?tf():536870912,e.lanes|=s,Ra|=s)}function Pi(e,s){if(!Ae)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function He(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(s)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,s}function ww(e,s,i){var l=s.pendingProps;switch(xc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(s),null;case 1:return He(s),null;case 3:return i=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Rn(et),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ga(s)?Mn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sc())),He(s),null;case 26:var d=s.type,f=s.memoizedState;return e===null?(Mn(s),f!==null?(He(s),_p(s,f)):(He(s),hu(s,d,null,l,i))):f?f!==e.memoizedState?(Mn(s),He(s),_p(s,f)):(He(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Mn(s),He(s),hu(s,d,e,l,i)),null;case 27:if(kr(s),i=we.current,d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Mn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return He(s),null}e=J.current,ga(s)?nm(s):(e=R0(d,l,i),s.stateNode=e,Mn(s))}return He(s),null;case 5:if(kr(s),d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Mn(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return He(s),null}if(f=J.current,ga(s))nm(s);else{var v=Ul(we.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[ht]=s,f[Nt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=f;e:switch(yt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Mn(s)}}return He(s),hu(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,i),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Mn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=we.current,ga(s)){if(e=s.stateNode,i=s.memoizedProps,l=null,d=ft,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[ht]=s,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||b0(e.nodeValue,i)),e||Jn(s,!0)}else e=Ul(e).createTextNode(l),e[ht]=s,s.stateNode=e}return He(s),null;case 31:if(i=s.memoizedState,e===null||e.memoizedState!==null){if(l=ga(s),i!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ht]=s}else ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;He(s),e=!1}else i=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return s.flags&256?(Ht(s),s):(Ht(s),null);if((s.flags&128)!==0)throw Error(r(558))}return He(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ga(s),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[ht]=s}else ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;He(s),d=!1}else d=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ht(s),s):(Ht(s),null)}return Ht(s),(s.flags&128)!==0?(s.lanes=i,s):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),i!==e&&i&&(s.child.flags|=8192),wl(s,s.updateQueue),He(s),null);case 4:return Je(),e===null&&Mu(s.stateNode.containerInfo),He(s),null;case 10:return Rn(s.type),He(s),null;case 19:if(X(Ze),l=s.memoizedState,l===null)return He(s),null;if(d=(s.flags&128)!==0,f=l.rendering,f===null)if(d)Pi(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(f=ol(e),f!==null){for(s.flags|=128,Pi(l,!1),e=f.updateQueue,s.updateQueue=e,wl(s,e),s.subtreeFlags=0,e=i,i=s.child;i!==null;)Jf(i,e),i=i.sibling;return se(Ze,Ze.current&1|2),Ae&&Nn(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&Lt()>El&&(s.flags|=128,d=!0,Pi(l,!1),s.lanes=4194304)}else{if(!d)if(e=ol(f),e!==null){if(s.flags|=128,d=!0,e=e.updateQueue,s.updateQueue=e,wl(s,e),Pi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ae)return He(s),null}else 2*Lt()-l.renderingStartTime>El&&i!==536870912&&(s.flags|=128,d=!0,Pi(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(e=l.last,e!==null?e.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Lt(),e.sibling=null,i=Ze.current,se(Ze,d?i&1|2:i&1),Ae&&Nn(s,l.treeForkCount),e):(He(s),null);case 22:case 23:return Ht(s),Lc(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(i&536870912)!==0&&(s.flags&128)===0&&(He(s),s.subtreeFlags&6&&(s.flags|=8192)):He(s),i=s.updateQueue,i!==null&&wl(s,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==i&&(s.flags|=2048),e!==null&&X(Ls),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Rn(et),He(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Sw(e,s){switch(xc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Rn(et),Je(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return kr(s),null;case 31:if(s.memoizedState!==null){if(Ht(s),s.alternate===null)throw Error(r(340));ks()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ht(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ks()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return X(Ze),null;case 4:return Je(),null;case 10:return Rn(s.type),null;case 22:case 23:return Ht(s),Lc(),e!==null&&X(Ls),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Rn(et),null;case 25:return null;default:return null}}function Tp(e,s){switch(xc(s),s.tag){case 3:Rn(et),Je();break;case 26:case 27:case 5:kr(s);break;case 4:Je();break;case 31:s.memoizedState!==null&&Ht(s);break;case 13:Ht(s);break;case 19:X(Ze);break;case 10:Rn(s.type);break;case 22:case 23:Ht(s),Lc(),e!==null&&X(Ls);break;case 24:Rn(et)}}function Bi(e,s){try{var i=s.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&e)===e){l=void 0;var f=i.create,v=i.inst;l=f(),v.destroy=l}i=i.next}while(i!==d)}}catch(w){De(s,s.return,w)}}function as(e,s,i){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=s;var T=i,P=w;try{P()}catch(G){De(d,T,G)}}}l=l.next}while(l!==f)}}catch(G){De(s,s.return,G)}}function jp(e){var s=e.updateQueue;if(s!==null){var i=e.stateNode;try{pm(s,i)}catch(l){De(e,e.return,l)}}}function Ep(e,s,i){i.props=Vs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){De(e,s,l)}}function zi(e,s){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(d){De(e,s,d)}}function vn(e,s){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){De(e,s,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){De(e,s,d)}else i.current=null}function Ap(e){var s=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){De(e,e.return,d)}}function fu(e,s,i){try{var l=e.stateNode;Gw(l,e.type,i,s),l[Nt]=s}catch(d){De(e,e.return,d)}}function Np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,s,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(e),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=jn));else if(l!==4&&(l===27&&ds(e.type)&&(i=e.stateNode,s=null),e=e.child,e!==null))for(pu(e,s,i),e=e.sibling;e!==null;)pu(e,s,i),e=e.sibling}function Sl(e,s,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(l!==4&&(l===27&&ds(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Sl(e,s,i),e=e.sibling;e!==null;)Sl(e,s,i),e=e.sibling}function Cp(e){var s=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);yt(s,l,i),s[ht]=e,s[Nt]=i}catch(f){De(e,e.return,f)}}var Ln=!1,st=!1,yu=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,ut=null;function _w(e,s){if(e=e.containerInfo,Pu=$l,e=qf(e),cc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,w=-1,T=-1,P=0,G=0,Z=e,B=null;t:for(;;){for(var V;Z!==i||d!==0&&Z.nodeType!==3||(w=v+d),Z!==f||l!==0&&Z.nodeType!==3||(T=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(V=Z.firstChild)!==null;)B=Z,Z=V;for(;;){if(Z===e)break t;if(B===i&&++P===d&&(w=v),B===f&&++G===l&&(T=v),(V=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=V}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bu={focusedElem:e,selectionRange:i},$l=!1,ut=s;ut!==null;)if(s=ut,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ut=e;else for(;ut!==null;){switch(s=ut,f=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=s,d=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var re=Vs(i.type,d);e=l.getSnapshotBeforeUpdate(re,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){De(i,i.return,fe)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,i=e.nodeType,i===9)Hu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,ut=e;break}ut=s.return}}function Op(e,s,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Pn(e,i),l&4&&Bi(5,i);break;case 1:if(Pn(e,i),l&4)if(e=i.stateNode,s===null)try{e.componentDidMount()}catch(v){De(i,i.return,v)}else{var d=Vs(i.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(d,s,e.__reactInternalSnapshotBeforeUpdate)}catch(v){De(i,i.return,v)}}l&64&&jp(i),l&512&&zi(i,i.return);break;case 3:if(Pn(e,i),l&64&&(e=i.updateQueue,e!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{pm(e,s)}catch(v){De(i,i.return,v)}}break;case 27:s===null&&l&4&&Cp(i);case 26:case 5:Pn(e,i),s===null&&l&4&&Ap(i),l&512&&zi(i,i.return);break;case 12:Pn(e,i);break;case 31:Pn(e,i),l&4&&Mp(e,i);break;case 13:Pn(e,i),l&4&&Lp(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=kw.bind(null,i),Zw(e,i))));break;case 22:if(l=i.memoizedState!==null||Ln,!l){s=s!==null&&s.memoizedState!==null||st,d=Ln;var f=st;Ln=l,(st=s)&&!f?Bn(e,i,(i.subtreeFlags&8772)!==0):Pn(e,i),Ln=d,st=f}break;case 30:break;default:Pn(e,i)}}function kp(e){var s=e.alternate;s!==null&&(e.alternate=null,kp(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Io(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Rt=!1;function Un(e,s,i){for(i=i.child;i!==null;)Dp(e,s,i),i=i.sibling}function Dp(e,s,i){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ci,i)}catch{}switch(i.tag){case 26:st||vn(i,s),Un(e,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:st||vn(i,s);var l=qe,d=Rt;ds(i.type)&&(qe=i.stateNode,Rt=!1),Un(e,s,i),Xi(i.stateNode),qe=l,Rt=d;break;case 5:st||vn(i,s);case 6:if(l=qe,d=Rt,qe=null,Un(e,s,i),qe=l,Rt=d,qe!==null)if(Rt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(f){De(i,s,f)}else try{qe.removeChild(i.stateNode)}catch(f){De(i,s,f)}break;case 18:qe!==null&&(Rt?(e=qe,j0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ba(e)):j0(qe,i.stateNode));break;case 4:l=qe,d=Rt,qe=i.stateNode.containerInfo,Rt=!0,Un(e,s,i),qe=l,Rt=d;break;case 0:case 11:case 14:case 15:as(2,i,s),st||as(4,i,s),Un(e,s,i);break;case 1:st||(vn(i,s),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Ep(i,s,l)),Un(e,s,i);break;case 21:Un(e,s,i);break;case 22:st=(l=st)||i.memoizedState!==null,Un(e,s,i),st=l;break;default:Un(e,s,i)}}function Mp(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(i){De(s,s.return,i)}}}function Lp(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(i){De(s,s.return,i)}}function Tw(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Rp),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Rp),s;default:throw Error(r(435,e.tag))}}function _l(e,s){var i=Tw(e);s.forEach(function(l){if(!i.has(l)){i.add(l);var d=Dw.bind(null,e,l);l.then(d,d)}})}function Ot(e,s){var i=s.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],f=e,v=s,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(ds(w.type)){qe=w.stateNode,Rt=!1;break e}break;case 5:qe=w.stateNode,Rt=!1;break e;case 3:case 4:qe=w.stateNode.containerInfo,Rt=!0;break e}w=w.return}if(qe===null)throw Error(r(160));Dp(f,v,d),qe=null,Rt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Up(s,e),s=s.sibling}var ln=null;function Up(e,s){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(s,e),kt(e),l&4&&(as(3,e,e.return),Bi(3,e),as(5,e,e.return));break;case 1:Ot(s,e),kt(e),l&512&&(st||i===null||vn(i,i.return)),l&64&&Ln&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=ln;if(Ot(s,e),kt(e),l&512&&(st||i===null||vn(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[hi]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),yt(f,l,i),f[ht]=e,ct(f),l=f;break e;case"link":var v=U0("link","href",d).get(l+(i.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(w,1);break t}}f=d.createElement(l),yt(f,l,i),d.head.appendChild(f);break;case"meta":if(v=U0("meta","content",d).get(l+(i.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(w,1);break t}}f=d.createElement(l),yt(f,l,i),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[ht]=e,ct(f),l=f}e.stateNode=l}else P0(d,e.type,e.stateNode);else e.stateNode=L0(d,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?P0(d,e.type,e.stateNode):L0(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ot(s,e),kt(e),l&512&&(st||i===null||vn(i,i.return)),i!==null&&l&4&&fu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ot(s,e),kt(e),l&512&&(st||i===null||vn(i,i.return)),e.flags&32){d=e.stateNode;try{la(d,"")}catch(re){De(e,e.return,re)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,fu(e,d,i!==null?i.memoizedProps:d)),l&1024&&(yu=!0);break;case 6:if(Ot(s,e),kt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(re){De(e,e.return,re)}}break;case 3:if(zl=null,d=ln,ln=Pl(s.containerInfo),Ot(s,e),ln=d,kt(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Ba(s.containerInfo)}catch(re){De(e,e.return,re)}yu&&(yu=!1,Pp(e));break;case 4:l=ln,ln=Pl(e.stateNode.containerInfo),Ot(s,e),kt(e),ln=l;break;case 12:Ot(s,e),kt(e);break;case 31:Ot(s,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 13:Ot(s,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(jl=Lt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 22:d=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,P=Ln,G=st;if(Ln=P||d,st=G||T,Ot(s,e),st=G,Ln=P,kt(e),l&8192)e:for(s=e.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(i===null||T||Ln||st||Hs(e)),i=null,s=e;;){if(s.tag===5||s.tag===26){if(i===null){T=i=s;try{if(f=T.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=T.stateNode;var Z=T.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(re){De(T,T.return,re)}}}else if(s.tag===6){if(i===null){T=s;try{T.stateNode.nodeValue=d?"":T.memoizedProps}catch(re){De(T,T.return,re)}}}else if(s.tag===18){if(i===null){T=s;try{var V=T.stateNode;d?E0(V,!0):E0(T.stateNode,!1)}catch(re){De(T,T.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,_l(e,i))));break;case 19:Ot(s,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_l(e,l)));break;case 30:break;case 21:break;default:Ot(s,e),kt(e)}}function kt(e){var s=e.flags;if(s&2){try{for(var i,l=e.return;l!==null;){if(Np(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var d=i.stateNode,f=mu(e);Sl(e,f,d);break;case 5:var v=i.stateNode;i.flags&32&&(la(v,""),i.flags&=-33);var w=mu(e);Sl(e,w,v);break;case 3:case 4:var T=i.stateNode.containerInfo,P=mu(e);pu(e,P,T);break;default:throw Error(r(161))}}catch(G){De(e,e.return,G)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Pp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Pn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Op(e,s.alternate,s),s=s.sibling}function Hs(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:as(4,s,s.return),Hs(s);break;case 1:vn(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Ep(s,s.return,i),Hs(s);break;case 27:Xi(s.stateNode);case 26:case 5:vn(s,s.return),Hs(s);break;case 22:s.memoizedState===null&&Hs(s);break;case 30:Hs(s);break;default:Hs(s)}e=e.sibling}}function Bn(e,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=e,f=s,v=f.flags;switch(f.tag){case 0:case 11:case 15:Bn(d,f,i),Bi(4,f);break;case 1:if(Bn(d,f,i),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){De(l,l.return,P)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var T=d.shared.hiddenCallbacks;if(T!==null)for(d.shared.hiddenCallbacks=null,d=0;d<T.length;d++)mm(T[d],w)}catch(P){De(l,l.return,P)}}i&&v&64&&jp(f),zi(f,f.return);break;case 27:Cp(f);case 26:case 5:Bn(d,f,i),i&&l===null&&v&4&&Ap(f),zi(f,f.return);break;case 12:Bn(d,f,i);break;case 31:Bn(d,f,i),i&&v&4&&Mp(d,f);break;case 13:Bn(d,f,i),i&&v&4&&Lp(d,f);break;case 22:f.memoizedState===null&&Bn(d,f,i),zi(f,f.return);break;case 30:break;default:Bn(d,f,i)}s=s.sibling}}function gu(e,s){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ji(i))}function vu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ji(e))}function on(e,s,i,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bp(e,s,i,l),s=s.sibling}function Bp(e,s,i,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:on(e,s,i,l),d&2048&&Bi(9,s);break;case 1:on(e,s,i,l);break;case 3:on(e,s,i,l),d&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ji(e)));break;case 12:if(d&2048){on(e,s,i,l),e=s.stateNode;try{var f=s.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){De(s,s.return,T)}}else on(e,s,i,l);break;case 31:on(e,s,i,l);break;case 13:on(e,s,i,l);break;case 23:break;case 22:f=s.stateNode,v=s.alternate,s.memoizedState!==null?f._visibility&2?on(e,s,i,l):Vi(e,s):f._visibility&2?on(e,s,i,l):(f._visibility|=2,Aa(e,s,i,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&gu(v,s);break;case 24:on(e,s,i,l),d&2048&&vu(s.alternate,s);break;default:on(e,s,i,l)}}function Aa(e,s,i,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=e,v=s,w=i,T=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(f,v,w,T,d),Bi(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Aa(f,v,w,T,d):Vi(f,v):(G._visibility|=2,Aa(f,v,w,T,d)),d&&P&2048&&gu(v.alternate,v);break;case 24:Aa(f,v,w,T,d),d&&P&2048&&vu(v.alternate,v);break;default:Aa(f,v,w,T,d)}s=s.sibling}}function Vi(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=e,l=s,d=l.flags;switch(l.tag){case 22:Vi(i,l),d&2048&&gu(l.alternate,l);break;case 24:Vi(i,l),d&2048&&vu(l.alternate,l);break;default:Vi(i,l)}s=s.sibling}}var Hi=8192;function Na(e,s,i){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)zp(e,s,i),e=e.sibling}function zp(e,s,i){switch(e.tag){case 26:Na(e,s,i),e.flags&Hi&&e.memoizedState!==null&&uS(i,ln,e.memoizedState,e.memoizedProps);break;case 5:Na(e,s,i);break;case 3:case 4:var l=ln;ln=Pl(e.stateNode.containerInfo),Na(e,s,i),ln=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Hi,Hi=16777216,Na(e,s,i),Hi=l):Na(e,s,i));break;default:Na(e,s,i)}}function Vp(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function qi(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];ut=l,qp(l,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 0:case 11:case 15:qi(e),e.flags&2048&&as(9,e,e.return);break;case 3:qi(e);break;case 12:qi(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Tl(e)):qi(e);break;default:qi(e)}}function Tl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];ut=l,qp(l,e)}Vp(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:as(8,s,s.return),Tl(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Tl(s));break;default:Tl(s)}e=e.sibling}}function qp(e,s){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:as(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ji(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ut=l;else e:for(i=e;ut!==null;){l=ut;var d=l.sibling,f=l.return;if(kp(l),l===i){ut=null;break e}if(d!==null){d.return=f,ut=d;break e}ut=f}}}var jw={getCacheForType:function(e){var s=mt(et),i=s.data.get(e);return i===void 0&&(i=e(),s.data.set(e,i)),i},cacheSignal:function(){return mt(et).controller.signal}},Ew=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Pe=null,Se=null,je=0,ke=0,qt=null,is=!1,Ca=!1,bu=!1,zn=0,Ie=0,rs=0,qs=0,xu=0,$t=0,Ra=0,$i=null,Dt=null,wu=!1,jl=0,$p=0,El=1/0,Al=null,ls=null,rt=0,os=null,Oa=null,Vn=0,Su=0,_u=null,Gp=null,Gi=0,Tu=null;function Gt(){return(Oe&2)!==0&&je!==0?je&-je:j.T!==null?Ru():rf()}function Kp(){if($t===0)if((je&536870912)===0||Ae){var e=Lr;Lr<<=1,(Lr&3932160)===0&&(Lr=262144),$t=e}else $t=536870912;return e=Vt.current,e!==null&&(e.flags|=32),$t}function Mt(e,s,i){(e===Pe&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(ka(e,0),cs(e,je,$t,!1)),di(e,i),((Oe&2)===0||e!==Pe)&&(e===Pe&&((Oe&2)===0&&(qs|=i),Ie===4&&cs(e,je,$t,!1)),bn(e))}function Ip(e,s,i){if((Oe&6)!==0)throw Error(r(327));var l=!i&&(s&127)===0&&(s&e.expiredLanes)===0||ui(e,s),d=l?Cw(e,s):Eu(e,s,!0),f=l;do{if(d===0){Ca&&!l&&cs(e,s,0,!1);break}else{if(i=e.current.alternate,f&&!Aw(i)){d=Eu(e,s,!1),f=!1;continue}if(d===2){if(f=s,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var w=e;d=$i;var T=w.current.memoizedState.isDehydrated;if(T&&(ka(w,v).flags|=256),v=Eu(w,v,!1),v!==2){if(bu&&!T){w.errorRecoveryDisabledLanes|=f,qs|=f,d=4;break e}f=Dt,Dt=d,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){ka(e,0),cs(e,s,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:cs(l,s,$t,!is);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=jl+300-Lt(),10<d)){if(cs(l,s,$t,!is),Pr(l,0,!0)!==0)break e;Vn=s,l.timeoutHandle=_0(Yp.bind(null,l,i,Dt,Al,wu,s,$t,qs,Ra,is,f,"Throttled",-0,0),d);break e}Yp(l,i,Dt,Al,wu,s,$t,qs,Ra,is,f,null,-0,0)}}break}while(!0);bn(e)}function Yp(e,s,i,l,d,f,v,w,T,P,G,Z,B,V){if(e.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},zp(s,f,Z);var re=(f&62914560)===f?jl-Lt():(f&4194048)===f?$p-Lt():0;if(re=dS(Z,re),re!==null){Vn=f,e.cancelPendingCommit=re(t0.bind(null,e,s,f,i,l,d,v,w,T,G,Z,null,B,V)),cs(e,f,v,!P);return}}t0(e,s,f,i,l,d,v,w,T)}function Aw(e){for(var s=e;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!Bt(f(),d))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(e,s,i,l){s&=~xu,s&=~qs,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var d=s;0<d;){var f=31-Pt(d),v=1<<f;l[f]=-1,d&=~v}i!==0&&nf(e,i,s)}function Nl(){return(Oe&6)===0?(Ki(0),!1):!0}function ju(){if(Se!==null){if(ke===0)var e=Se.return;else e=Se,Cn=Ds=null,Hc(e),Sa=null,Ai=0,e=Se;for(;e!==null;)Tp(e.alternate,e),e=e.return;Se=null}}function ka(e,s){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Yw(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Vn=0,ju(),Pe=e,Se=i=An(e.current,null),je=s,ke=0,qt=null,is=!1,Ca=ui(e,s),bu=!1,Ra=$t=xu=qs=rs=Ie=0,Dt=$i=null,wu=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var d=31-Pt(l),f=1<<d;s|=e[d],l&=~f}return zn=s,Fr(),i}function Xp(e,s){be=null,j.H=Li,s===wa||s===sl?(s=um(),ke=3):s===Cc?(s=um(),ke=4):ke=s===su?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qt=s,Se===null&&(Ie=1,gl(e,Qt(s,e.current)))}function Fp(){var e=Vt.current;return e===null?!0:(je&4194048)===je?en===null:(je&62914560)===je||(je&536870912)!==0?e===en:!1}function Qp(){var e=j.H;return j.H=Li,e===null?Li:e}function Jp(){var e=j.A;return j.A=jw,e}function Cl(){Ie=4,is||(je&4194048)!==je&&Vt.current!==null||(Ca=!0),(rs&134217727)===0&&(qs&134217727)===0||Pe===null||cs(Pe,je,$t,!1)}function Eu(e,s,i){var l=Oe;Oe|=2;var d=Qp(),f=Jp();(Pe!==e||je!==s)&&(Al=null,ka(e,s)),s=!1;var v=Ie;e:do try{if(ke!==0&&Se!==null){var w=Se,T=qt;switch(ke){case 8:ju(),v=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(s=!0);var P=ke;if(ke=0,qt=null,Da(e,w,T,P),i&&Ca){v=0;break e}break;default:P=ke,ke=0,qt=null,Da(e,w,T,P)}}Nw(),v=Ie;break}catch(G){Xp(e,G)}while(!0);return s&&e.shellSuspendCounter++,Cn=Ds=null,Oe=l,j.H=d,j.A=f,Se===null&&(Pe=null,je=0,Fr()),v}function Nw(){for(;Se!==null;)Zp(Se)}function Cw(e,s){var i=Oe;Oe|=2;var l=Qp(),d=Jp();Pe!==e||je!==s?(Al=null,El=Lt()+500,ka(e,s)):Ca=ui(e,s);e:do try{if(ke!==0&&Se!==null){s=Se;var f=qt;t:switch(ke){case 1:ke=0,qt=null,Da(e,s,f,1);break;case 2:case 9:if(om(f)){ke=0,qt=null,Wp(s);break}s=function(){ke!==2&&ke!==9||Pe!==e||(ke=7),bn(e)},f.then(s,s);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:om(f)?(ke=0,qt=null,Wp(s)):(ke=0,qt=null,Da(e,s,f,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var w=Se;if(v?B0(v):w.stateNode.complete){ke=0,qt=null;var T=w.sibling;if(T!==null)Se=T;else{var P=w.return;P!==null?(Se=P,Rl(P)):Se=null}break t}}ke=0,qt=null,Da(e,s,f,5);break;case 6:ke=0,qt=null,Da(e,s,f,6);break;case 8:ju(),Ie=6;break e;default:throw Error(r(462))}}Rw();break}catch(G){Xp(e,G)}while(!0);return Cn=Ds=null,j.H=l,j.A=d,Oe=i,Se!==null?0:(Pe=null,je=0,Fr(),Ie)}function Rw(){for(;Se!==null&&!Wb();)Zp(Se)}function Zp(e){var s=Sp(e.alternate,e,zn);e.memoizedProps=e.pendingProps,s===null?Rl(e):Se=s}function Wp(e){var s=e,i=s.alternate;switch(s.tag){case 15:case 0:s=yp(i,s,s.pendingProps,s.type,void 0,je);break;case 11:s=yp(i,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Hc(s);default:Tp(i,s),s=Se=Jf(s,zn),s=Sp(i,s,zn)}e.memoizedProps=e.pendingProps,s===null?Rl(e):Se=s}function Da(e,s,i,l){Cn=Ds=null,Hc(s),Sa=null,Ai=0;var d=s.return;try{if(vw(e,d,s,i,je)){Ie=1,gl(e,Qt(i,e.current)),Se=null;return}}catch(f){if(d!==null)throw Se=d,f;Ie=1,gl(e,Qt(i,e.current)),Se=null;return}s.flags&32768?(Ae||l===1?e=!0:Ca||(je&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vt.current,l!==null&&l.tag===13&&(l.flags|=16384))),e0(s,e)):Rl(s)}function Rl(e){var s=e;do{if((s.flags&32768)!==0){e0(s,is);return}e=s.return;var i=ww(s.alternate,s,zn);if(i!==null){Se=i;return}if(s=s.sibling,s!==null){Se=s;return}Se=s=e}while(s!==null);Ie===0&&(Ie=5)}function e0(e,s){do{var i=Sw(e.alternate,e);if(i!==null){i.flags&=32767,Se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(e=e.sibling,e!==null)){Se=e;return}Se=e=i}while(e!==null);Ie=6,Se=null}function t0(e,s,i,l,d,f,v,w,T){e.cancelPendingCommit=null;do Ol();while(rt!==0);if((Oe&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=mc,cx(e,i,f,v,w,T),e===Pe&&(Se=Pe=null,je=0),Oa=s,os=e,Vn=i,Su=f,_u=d,Gp=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mw(Dr,function(){return r0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,d=z.p,z.p=2,v=Oe,Oe|=4;try{_w(e,s,i)}finally{Oe=v,z.p=d,j.T=l}}rt=1,n0(),s0(),a0()}}function n0(){if(rt===1){rt=0;var e=os,s=Oa,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var l=z.p;z.p=2;var d=Oe;Oe|=4;try{Up(s,e);var f=Bu,v=qf(e.containerInfo),w=f.focusedElem,T=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Hf(w.ownerDocument.documentElement,w)){if(T!==null&&cc(w)){var P=T.start,G=T.end;if(G===void 0&&(G=P),"selectionStart"in w)w.selectionStart=P,w.selectionEnd=Math.min(G,w.value.length);else{var Z=w.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var V=B.getSelection(),re=w.textContent.length,fe=Math.min(T.start,re),Ue=T.end===void 0?fe:Math.min(T.end,re);!V.extend&&fe>Ue&&(v=Ue,Ue=fe,fe=v);var D=Vf(w,fe),C=Vf(w,Ue);if(D&&C&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var U=Z.createRange();U.setStart(D.node,D.offset),V.removeAllRanges(),fe>Ue?(V.addRange(U),V.extend(C.node,C.offset)):(U.setEnd(C.node,C.offset),V.addRange(U))}}}}for(Z=[],V=w;V=V.parentNode;)V.nodeType===1&&Z.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var F=Z[w];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}$l=!!Pu,Bu=Pu=null}finally{Oe=d,z.p=l,j.T=i}}e.current=s,rt=2}}function s0(){if(rt===2){rt=0;var e=os,s=Oa,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var l=z.p;z.p=2;var d=Oe;Oe|=4;try{Op(e,s.alternate,s)}finally{Oe=d,z.p=l,j.T=i}}rt=3}}function a0(){if(rt===4||rt===3){rt=0,ex();var e=os,s=Oa,i=Vn,l=Gp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rt=5:(rt=0,Oa=os=null,i0(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ls=null),Go(i),s=s.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=j.T,d=z.p,z.p=2,j.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{j.T=s,z.p=d}}(Vn&3)!==0&&Ol(),bn(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Tu?Gi++:(Gi=0,Tu=e):Gi=0,Ki(0)}}function i0(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,ji(s)))}function Ol(){return n0(),s0(),a0(),r0()}function r0(){if(rt!==5)return!1;var e=os,s=Su;Su=0;var i=Go(Vn),l=j.T,d=z.p;try{z.p=32>i?32:i,j.T=null,i=_u,_u=null;var f=os,v=Vn;if(rt=0,Oa=os=null,Vn=0,(Oe&6)!==0)throw Error(r(331));var w=Oe;if(Oe|=4,Hp(f.current),Bp(f,f.current,v,i),Oe=w,Ki(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ci,f)}catch{}return!0}finally{z.p=d,j.T=l,i0(e,s)}}function l0(e,s,i){s=Qt(i,s),s=nu(e.stateNode,s,2),e=ts(e,s,2),e!==null&&(di(e,2),bn(e))}function De(e,s,i){if(e.tag===3)l0(e,e,i);else for(;s!==null;){if(s.tag===3){l0(s,e,i);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ls===null||!ls.has(l))){e=Qt(i,e),i=op(2),l=ts(s,i,2),l!==null&&(cp(i,l,s,e),di(l,2),bn(l));break}}s=s.return}}function Au(e,s,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Ew;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(i)||(bu=!0,d.add(i),e=Ow.bind(null,e,s,i),s.then(e,e))}function Ow(e,s,i){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Pe===e&&(je&i)===i&&(Ie===4||Ie===3&&(je&62914560)===je&&300>Lt()-jl?(Oe&2)===0&&ka(e,0):xu|=i,Ra===je&&(Ra=0)),bn(e)}function o0(e,s){s===0&&(s=tf()),e=Rs(e,s),e!==null&&(di(e,s),bn(e))}function kw(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),o0(e,i)}function Dw(e,s){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),o0(e,i)}function Mw(e,s){return Vo(e,s)}var kl=null,Ma=null,Nu=!1,Dl=!1,Cu=!1,us=0;function bn(e){e!==Ma&&e.next===null&&(Ma===null?kl=Ma=e:Ma=Ma.next=e),Dl=!0,Nu||(Nu=!0,Uw())}function Ki(e,s){if(!Cu&&Dl){Cu=!0;do for(var i=!1,l=kl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Pt(42|e)+1)-1,f&=d&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,h0(l,f))}else f=je,f=Pr(l,l===Pe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ui(l,f)||(i=!0,h0(l,f));l=l.next}while(i);Cu=!1}}function Lw(){c0()}function c0(){Dl=Nu=!1;var e=0;us!==0&&Iw()&&(e=us);for(var s=Lt(),i=null,l=kl;l!==null;){var d=l.next,f=u0(l,s);f===0?(l.next=null,i===null?kl=d:i.next=d,d===null&&(Ma=i)):(i=l,(e!==0||(f&3)!==0)&&(Dl=!0)),l=d}rt!==0&&rt!==5||Ki(e),us!==0&&(us=0)}function u0(e,s){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Pt(f),w=1<<v,T=d[v];T===-1?((w&i)===0||(w&l)!==0)&&(d[v]=ox(w,s)):T<=s&&(e.expiredLanes|=w),f&=~w}if(s=Pe,i=je,i=Pr(e,e===s?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===s&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ho(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ui(e,i)){if(s=i&-i,s===e.callbackPriority)return s;switch(l!==null&&Ho(l),Go(i)){case 2:case 8:i=Wh;break;case 32:i=Dr;break;case 268435456:i=ef;break;default:i=Dr}return l=d0.bind(null,e),i=Vo(i,l),e.callbackPriority=s,e.callbackNode=i,s}return l!==null&&l!==null&&Ho(l),e.callbackPriority=2,e.callbackNode=null,2}function d0(e,s){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ol()&&e.callbackNode!==i)return null;var l=je;return l=Pr(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ip(e,l,s),u0(e,Lt()),e.callbackNode!=null&&e.callbackNode===i?d0.bind(null,e):null)}function h0(e,s){if(Ol())return null;Ip(e,s,!0)}function Uw(){Xw(function(){(Oe&6)!==0?Vo(Zh,Lw):c0()})}function Ru(){if(us===0){var e=ba;e===0&&(e=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),us=e}return us}function f0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hr(""+e)}function m0(e,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,e.id&&i.setAttribute("form",e.id),s.parentNode.insertBefore(i,s),e=new FormData(e),i.parentNode.removeChild(i),e}function Pw(e,s,i,l,d){if(s==="submit"&&i&&i.stateNode===d){var f=f0((d[Nt]||null).action),v=l.submitter;v&&(s=(s=v[Nt]||null)?f0(s.formAction):v.getAttribute("formAction"),s!==null&&(f=s,v=null));var w=new Kr("action","action",null,l,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(us!==0){var T=v?m0(d,v):new FormData(d);Qc(i,{pending:!0,data:T,method:d.method,action:f},null,T)}}else typeof f=="function"&&(w.preventDefault(),T=v?m0(d,v):new FormData(d),Qc(i,{pending:!0,data:T,method:d.method,action:f},f,T))},currentTarget:d}]})}}for(var Ou=0;Ou<fc.length;Ou++){var ku=fc[Ou],Bw=ku.toLowerCase(),zw=ku[0].toUpperCase()+ku.slice(1);rn(Bw,"on"+zw)}rn(Kf,"onAnimationEnd"),rn(If,"onAnimationIteration"),rn(Yf,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(tw,"onTransitionRun"),rn(nw,"onTransitionStart"),rn(sw,"onTransitionCancel"),rn(Xf,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ii));function p0(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var v=l.length-1;0<=v;v--){var w=l[v],T=w.instance,P=w.currentTarget;if(w=w.listener,T!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=P;try{f(d)}catch(G){Xr(G)}d.currentTarget=null,f=T}else for(v=0;v<l.length;v++){if(w=l[v],T=w.instance,P=w.currentTarget,w=w.listener,T!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=P;try{f(d)}catch(G){Xr(G)}d.currentTarget=null,f=T}}}}function _e(e,s){var i=s[Ko];i===void 0&&(i=s[Ko]=new Set);var l=e+"__bubble";i.has(l)||(y0(s,e,2,!1),i.add(l))}function Du(e,s,i){var l=0;s&&(l|=4),y0(i,e,l,s)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Ml]){e[Ml]=!0,cf.forEach(function(i){i!=="selectionchange"&&(Vw.has(i)||Du(i,!1,e),Du(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Ml]||(s[Ml]=!0,Du("selectionchange",!1,s))}}function y0(e,s,i,l){switch(K0(s)){case 2:var d=mS;break;case 8:d=pS;break;default:d=Fu}i=d.bind(null,s,i,e),d=void 0,!ec||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(s,i,{capture:!0,passive:d}):e.addEventListener(s,i,!0):d!==void 0?e.addEventListener(s,i,{passive:d}):e.addEventListener(s,i,!1)}function Lu(e,s,i,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=l.return;v!==null;){var T=v.tag;if((T===3||T===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=na(w),v===null)return;if(T=v.tag,T===5||T===6||T===26||T===27){l=f=v;continue e}w=w.parentNode}}l=l.return}wf(function(){var P=f,G=Zo(i),Z=[];e:{var B=Ff.get(e);if(B!==void 0){var V=Kr,re=e;switch(e){case"keypress":if($r(i)===0)break e;case"keydown":case"keyup":V=Dx;break;case"focusin":re="focus",V=ac;break;case"focusout":re="blur",V=ac;break;case"beforeblur":case"afterblur":V=ac;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ux;break;case Kf:case If:case Yf:V=Tx;break;case Xf:V=Bx;break;case"scroll":case"scrollend":V=bx;break;case"wheel":V=Vx;break;case"copy":case"cut":case"paste":V=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Ef;break;case"toggle":case"beforetoggle":V=qx}var fe=(s&4)!==0,Ue=!fe&&(e==="scroll"||e==="scrollend"),D=fe?B!==null?B+"Capture":null:B;fe=[];for(var C=P,U;C!==null;){var F=C;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||D===null||(F=mi(C,D),F!=null&&fe.push(Yi(C,F,U))),Ue)break;C=C.return}0<fe.length&&(B=new V(B,re,null,i,G),Z.push({event:B,listeners:fe}))}}if((s&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",B&&i!==Jo&&(re=i.relatedTarget||i.fromElement)&&(na(re)||re[ta]))break e;if((V||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,V?(re=i.relatedTarget||i.toElement,V=P,re=re?na(re):null,re!==null&&(Ue=c(re),fe=re.tag,re!==Ue||fe!==5&&fe!==27&&fe!==6)&&(re=null)):(V=null,re=P),V!==re)){if(fe=Tf,F="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Ef,F="onPointerLeave",D="onPointerEnter",C="pointer"),Ue=V==null?B:fi(V),U=re==null?B:fi(re),B=new fe(F,C+"leave",V,i,G),B.target=Ue,B.relatedTarget=U,F=null,na(G)===P&&(fe=new fe(D,C+"enter",re,i,G),fe.target=U,fe.relatedTarget=Ue,F=fe),Ue=F,V&&re)t:{for(fe=Hw,D=V,C=re,U=0,F=D;F;F=fe(F))U++;F=0;for(var de=C;de;de=fe(de))F++;for(;0<U-F;)D=fe(D),U--;for(;0<F-U;)C=fe(C),F--;for(;U--;){if(D===C||C!==null&&D===C.alternate){fe=D;break t}D=fe(D),C=fe(C)}fe=null}else fe=null;V!==null&&g0(Z,B,V,fe,!1),re!==null&&Ue!==null&&g0(Z,Ue,re,fe,!0)}}e:{if(B=P?fi(P):window,V=B.nodeName&&B.nodeName.toLowerCase(),V==="select"||V==="input"&&B.type==="file")var Ce=Mf;else if(kf(B))if(Lf)Ce=Zx;else{Ce=Qx;var oe=Fx}else V=B.nodeName,!V||V.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Qo(P.elementType)&&(Ce=Mf):Ce=Jx;if(Ce&&(Ce=Ce(e,P))){Df(Z,Ce,i,G);break e}oe&&oe(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Fo(B,"number",B.value)}switch(oe=P?fi(P):window,e){case"focusin":(kf(oe)||oe.contentEditable==="true")&&(da=oe,uc=P,Si=null);break;case"focusout":Si=uc=da=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,$f(Z,i,G);break;case"selectionchange":if(ew)break;case"keydown":case"keyup":$f(Z,i,G)}var xe;if(rc)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ua?Rf(e,i)&&(Ee="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ee="onCompositionStart");Ee&&(Af&&i.locale!=="ko"&&(ua||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ua&&(xe=Sf()):(Xn=G,tc="value"in Xn?Xn.value:Xn.textContent,ua=!0)),oe=Ll(P,Ee),0<oe.length&&(Ee=new jf(Ee,e,null,i,G),Z.push({event:Ee,listeners:oe}),xe?Ee.data=xe:(xe=Of(i),xe!==null&&(Ee.data=xe)))),(xe=Gx?Kx(e,i):Ix(e,i))&&(Ee=Ll(P,"onBeforeInput"),0<Ee.length&&(oe=new jf("onBeforeInput","beforeinput",null,i,G),Z.push({event:oe,listeners:Ee}),oe.data=xe)),Pw(Z,e,P,i,G)}p0(Z,s)})}function Yi(e,s,i){return{instance:e,listener:s,currentTarget:i}}function Ll(e,s){for(var i=s+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=mi(e,i),d!=null&&l.unshift(Yi(e,d,f)),d=mi(e,s),d!=null&&l.push(Yi(e,d,f))),e.tag===3)return l;e=e.return}return[]}function Hw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g0(e,s,i,l,d){for(var f=s._reactName,v=[];i!==null&&i!==l;){var w=i,T=w.alternate,P=w.stateNode;if(w=w.tag,T!==null&&T===l)break;w!==5&&w!==26&&w!==27||P===null||(T=P,d?(P=mi(i,f),P!=null&&v.unshift(Yi(i,P,T))):d||(P=mi(i,f),P!=null&&v.push(Yi(i,P,T)))),i=i.return}v.length!==0&&e.push({event:s,listeners:v})}var qw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function v0(e){return(typeof e=="string"?e:""+e).replace(qw,`
`).replace($w,"")}function b0(e,s){return s=v0(s),v0(e)===s}function Le(e,s,i,l,d,f){switch(i){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||la(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&la(e,""+l);break;case"className":zr(e,"class",l);break;case"tabIndex":zr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,i,l);break;case"style":bf(e,l,f);break;case"data":if(s!=="object"){zr(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Hr(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(s!=="input"&&Le(e,s,"name",d.name,d,null),Le(e,s,"formEncType",d.formEncType,d,null),Le(e,s,"formMethod",d.formMethod,d,null),Le(e,s,"formTarget",d.formTarget,d,null)):(Le(e,s,"encType",d.encType,d,null),Le(e,s,"method",d.method,d,null),Le(e,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Hr(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Hr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=gx.get(i)||i,Br(e,i,l))}}function Uu(e,s,i,l,d,f){switch(i){case"style":bf(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?la(e,l):(typeof l=="number"||typeof l=="bigint")&&la(e,""+l);break;case"onScroll":l!=null&&_e("scroll",e);break;case"onScrollEnd":l!=null&&_e("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),s=i.slice(2,d?i.length-7:void 0),f=e[Nt]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(s,l,d);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Br(e,i,l)}}}function yt(e,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var l=!1,d=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Le(e,s,f,v,i,null)}}d&&Le(e,s,"srcSet",i.srcSet,i,null),l&&Le(e,s,"src",i.src,i,null);return;case"input":_e("invalid",e);var w=f=v=d=null,T=null,P=null;for(l in i)if(i.hasOwnProperty(l)){var G=i[l];if(G!=null)switch(l){case"name":d=G;break;case"type":v=G;break;case"checked":T=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Le(e,s,l,G,i,null)}}pf(e,f,w,T,P,v,d,!1);return;case"select":_e("invalid",e),l=v=f=null;for(d in i)if(i.hasOwnProperty(d)&&(w=i[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Le(e,s,d,w,i,null)}s=f,i=v,e.multiple=!!l,s!=null?ra(e,!!l,s,!1):i!=null&&ra(e,!!l,i,!0);return;case"textarea":_e("invalid",e),f=d=l=null;for(v in i)if(i.hasOwnProperty(v)&&(w=i[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Le(e,s,v,w,i,null)}gf(e,l,d,f);return;case"option":for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null)&&(T==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Le(e,s,T,l,i,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(l=0;l<Ii.length;l++)_e(Ii[l],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(l=i[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Le(e,s,P,l,i,null)}return;default:if(Qo(s)){for(G in i)i.hasOwnProperty(G)&&(l=i[G],l!==void 0&&Uu(e,s,G,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&Le(e,s,w,l,i,null))}function Gw(e,s,i,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,w=null,T=null,P=null,G=null;for(V in i){var Z=i[V];if(i.hasOwnProperty(V)&&Z!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":T=Z;default:l.hasOwnProperty(V)||Le(e,s,V,null,l,Z)}}for(var B in l){var V=l[B];if(Z=i[B],l.hasOwnProperty(B)&&(V!=null||Z!=null))switch(B){case"type":f=V;break;case"name":d=V;break;case"checked":P=V;break;case"defaultChecked":G=V;break;case"value":v=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:V!==Z&&Le(e,s,B,V,l,Z)}}Xo(e,v,w,T,P,G,f,d);return;case"select":V=v=w=B=null;for(f in i)if(T=i[f],i.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":V=T;default:l.hasOwnProperty(f)||Le(e,s,f,null,l,T)}for(d in l)if(f=l[d],T=i[d],l.hasOwnProperty(d)&&(f!=null||T!=null))switch(d){case"value":B=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==T&&Le(e,s,d,f,l,T)}s=w,i=v,l=V,B!=null?ra(e,!!i,B,!1):!!l!=!!i&&(s!=null?ra(e,!!i,s,!0):ra(e,!!i,i?[]:"",!1));return;case"textarea":V=B=null;for(w in i)if(d=i[w],i.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Le(e,s,w,null,l,d)}for(v in l)if(d=l[v],f=i[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":B=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&Le(e,s,v,d,l,f)}yf(e,B,V);return;case"option":for(var re in i)B=i[re],i.hasOwnProperty(re)&&B!=null&&!l.hasOwnProperty(re)&&(re==="selected"?e.selected=!1:Le(e,s,re,null,l,B));for(T in l)B=l[T],V=i[T],l.hasOwnProperty(T)&&B!==V&&(B!=null||V!=null)&&(T==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Le(e,s,T,B,l,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in i)B=i[fe],i.hasOwnProperty(fe)&&B!=null&&!l.hasOwnProperty(fe)&&Le(e,s,fe,null,l,B);for(P in l)if(B=l[P],V=i[P],l.hasOwnProperty(P)&&B!==V&&(B!=null||V!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:Le(e,s,P,B,l,V)}return;default:if(Qo(s)){for(var Ue in i)B=i[Ue],i.hasOwnProperty(Ue)&&B!==void 0&&!l.hasOwnProperty(Ue)&&Uu(e,s,Ue,void 0,l,B);for(G in l)B=l[G],V=i[G],!l.hasOwnProperty(G)||B===V||B===void 0&&V===void 0||Uu(e,s,G,B,l,V);return}}for(var D in i)B=i[D],i.hasOwnProperty(D)&&B!=null&&!l.hasOwnProperty(D)&&Le(e,s,D,null,l,B);for(Z in l)B=l[Z],V=i[Z],!l.hasOwnProperty(Z)||B===V||B==null&&V==null||Le(e,s,Z,B,l,V)}function x0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var d=i[l],f=d.transferSize,v=d.initiatorType,w=d.duration;if(f&&w&&x0(v)){for(v=0,w=d.responseEnd,l+=1;l<i.length;l++){var T=i[l],P=T.startTime;if(P>w)break;var G=T.transferSize,Z=T.initiatorType;G&&x0(Z)&&(T=T.responseEnd,v+=G*(T<w?1:(w-P)/(T-P)))}if(--l,s+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pu=null,Bu=null;function Ul(e){return e.nodeType===9?e:e.ownerDocument}function w0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function zu(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vu=null;function Iw(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(e){return T0.resolve(null).then(e).catch(Fw)}:_0;function Fw(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function j0(e,s){var i=s,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(d),Ba(s);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Xi(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Xi(i);for(var f=i.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[hi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&Xi(e.ownerDocument.body);i=d}while(i);Ba(s)}function E0(e,s){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?s?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(s?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function Hu(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Hu(i),Io(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Qw(e,s,i,l){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function Jw(e,s,i){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=tn(e.nextSibling),e===null))return null;return e}function A0(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=tn(e.nextSibling),e===null))return null;return e}function qu(e){return e.data==="$?"||e.data==="$~"}function $u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zw(e,s){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||i.readyState!=="loading")s();else{var l=function(){s(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function tn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Gu=null;function N0(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(s===0)return tn(e.nextSibling);s--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||s++}e=e.nextSibling}return null}function C0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(s===0)return e;s--}else i!=="/$"&&i!=="/&"||s++}e=e.previousSibling}return null}function R0(e,s,i){switch(s=Ul(i),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xi(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Io(e)}var nn=new Map,O0=new Set;function Pl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=z.d;z.d={f:Ww,r:eS,D:tS,C:nS,L:sS,m:aS,X:rS,S:iS,M:lS};function Ww(){var e=Hn.f(),s=Nl();return e||s}function eS(e){var s=sa(e);s!==null&&s.tag===5&&s.type==="form"?Xm(s):Hn.r(e)}var La=typeof document>"u"?null:document;function k0(e,s,i){var l=La;if(l&&typeof s=="string"&&s){var d=Xt(s);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),O0.has(d)||(O0.add(d),e={rel:e,crossOrigin:i,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),yt(s,"link",e),ct(s),l.head.appendChild(s)))}}function tS(e){Hn.D(e),k0("dns-prefetch",e,null)}function nS(e,s){Hn.C(e,s),k0("preconnect",e,s)}function sS(e,s,i){Hn.L(e,s,i);var l=La;if(l&&e&&s){var d='link[rel="preload"][as="'+Xt(s)+'"]';s==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Xt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Xt(i.imageSizes)+'"]')):d+='[href="'+Xt(e)+'"]';var f=d;switch(s){case"style":f=Ua(e);break;case"script":f=Pa(e)}nn.has(f)||(e=b({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:e,as:s},i),nn.set(f,e),l.querySelector(d)!==null||s==="style"&&l.querySelector(Fi(f))||s==="script"&&l.querySelector(Qi(f))||(s=l.createElement("link"),yt(s,"link",e),ct(s),l.head.appendChild(s)))}}function aS(e,s){Hn.m(e,s);var i=La;if(i&&e){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!nn.has(f)&&(e=b({rel:"modulepreload",href:e},s),nn.set(f,e),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Qi(f)))return}l=i.createElement("link"),yt(l,"link",e),ct(l),i.head.appendChild(l)}}}function iS(e,s,i){Hn.S(e,s,i);var l=La;if(l&&e){var d=aa(l).hoistableStyles,f=Ua(e);s=s||"default";var v=d.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Fi(f)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},i),(i=nn.get(f))&&Ku(e,i);var T=v=l.createElement("link");ct(T),yt(T,"link",e),T._p=new Promise(function(P,G){T.onload=P,T.onerror=G}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bl(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(f,v)}}}function rS(e,s){Hn.X(e,s);var i=La;if(i&&e){var l=aa(i).hoistableScripts,d=Pa(e),f=l.get(d);f||(f=i.querySelector(Qi(d)),f||(e=b({src:e,async:!0},s),(s=nn.get(d))&&Iu(e,s),f=i.createElement("script"),ct(f),yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function lS(e,s){Hn.M(e,s);var i=La;if(i&&e){var l=aa(i).hoistableScripts,d=Pa(e),f=l.get(d);f||(f=i.querySelector(Qi(d)),f||(e=b({src:e,async:!0,type:"module"},s),(s=nn.get(d))&&Iu(e,s),f=i.createElement("script"),ct(f),yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function D0(e,s,i,l){var d=(d=we.current)?Pl(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=Ua(i.href),i=aa(d).hoistableStyles,l=i.get(s),l||(l={type:"style",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ua(i.href);var f=aa(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(Fi(e)))&&!f._p&&(v.instance=f,v.state.loading=5),nn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},nn.set(e,i),f||oS(d,e,i,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pa(i),i=aa(d).hoistableScripts,l=i.get(s),l||(l={type:"script",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ua(e){return'href="'+Xt(e)+'"'}function Fi(e){return'link[rel="stylesheet"]['+e+"]"}function M0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function oS(e,s,i,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),yt(s,"link",i),ct(s),e.head.appendChild(s))}function Pa(e){return'[src="'+Xt(e)+'"]'}function Qi(e){return"script[async]"+e}function L0(e,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(i.href)+'"]');if(l)return s.instance=l,ct(l),l;var d=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),yt(l,"style",d),Bl(l,i.precedence,e),s.instance=l;case"stylesheet":d=Ua(i.href);var f=e.querySelector(Fi(d));if(f)return s.state.loading|=4,s.instance=f,ct(f),f;l=M0(i),(d=nn.get(d))&&Ku(l,d),f=(e.ownerDocument||e).createElement("link"),ct(f);var v=f;return v._p=new Promise(function(w,T){v.onload=w,v.onerror=T}),yt(f,"link",l),s.state.loading|=4,Bl(f,i.precedence,e),s.instance=f;case"script":return f=Pa(i.src),(d=e.querySelector(Qi(f)))?(s.instance=d,ct(d),d):(l=i,(d=nn.get(f))&&(l=b({},i),Iu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),ct(d),yt(d,"link",l),e.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bl(l,i.precedence,e));return s.instance}function Bl(e,s,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===s)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(e,s.firstChild))}function Ku(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Iu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var zl=null;function U0(e,s,i){if(zl===null){var l=new Map,d=zl=new Map;d.set(i,l)}else d=zl,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var f=i[d];if(!(f[hi]||f[ht]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(s)||"";v=e+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function P0(e,s,i){e=e.ownerDocument||e,e.head.insertBefore(i,s==="title"?e.querySelector("head > title"):null)}function cS(e,s,i){if(i===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function B0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uS(e,s,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Ua(l.href),f=s.querySelector(Fi(d));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Vl.bind(e),s.then(e,e)),i.state.loading|=4,i.instance=f,ct(f);return}f=s.ownerDocument||s,l=M0(l),(d=nn.get(d))&&Ku(l,d),f=f.createElement("link"),ct(f);var v=f;v._p=new Promise(function(w,T){v.onload=w,v.onerror=T}),yt(f,"link",l),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Vl.bind(e),s.addEventListener("load",i),s.addEventListener("error",i))}}var Yu=0;function dS(e,s){return e.stylesheets&&e.count===0&&ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+s);0<e.imgBytes&&Yu===0&&(Yu=62500*Kw());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Yu?50:800)+s);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hl=null;function ql(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hl=new Map,s.forEach(hS,e),Hl=null,Vl.call(e))}function hS(e,s){if(!(s.state.loading&4)){var i=Hl.get(e);if(i)var l=i.get(null);else{i=new Map,Hl.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),f=i.get(v)||l,f===l&&i.set(null,d),i.set(v,d),this.count++,l=Vl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),s.state.loading|=4}}var Ji={$$typeof:R,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function fS(e,s,i,l,d,f,v,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.hiddenUpdates=qo(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function z0(e,s,i,l,d,f,v,w,T,P,G,Z){return e=new fS(e,s,i,v,T,P,G,Z,w),s=1,f===!0&&(s|=24),f=zt(3,null,null,s),e.current=f,f.stateNode=e,s=Ec(),s.refCount++,e.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:s},Rc(f),e}function V0(e){return e?(e=ma,e):ma}function H0(e,s,i,l,d,f){d=V0(d),l.context===null?l.context=d:l.pendingContext=d,l=es(s),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=ts(e,l,s),i!==null&&(Mt(i,e,s),Ci(i,e,s))}function q0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function Xu(e,s){q0(e,s),(e=e.alternate)&&q0(e,s)}function $0(e){if(e.tag===13||e.tag===31){var s=Rs(e,67108864);s!==null&&Mt(s,e,67108864),Xu(e,67108864)}}function G0(e){if(e.tag===13||e.tag===31){var s=Gt();s=$o(s);var i=Rs(e,s);i!==null&&Mt(i,e,s),Xu(e,s)}}var $l=!0;function mS(e,s,i,l){var d=j.T;j.T=null;var f=z.p;try{z.p=2,Fu(e,s,i,l)}finally{z.p=f,j.T=d}}function pS(e,s,i,l){var d=j.T;j.T=null;var f=z.p;try{z.p=8,Fu(e,s,i,l)}finally{z.p=f,j.T=d}}function Fu(e,s,i,l){if($l){var d=Qu(l);if(d===null)Lu(e,s,l,Gl,i),I0(e,l);else if(gS(d,e,s,i,l))l.stopPropagation();else if(I0(e,l),s&4&&-1<yS.indexOf(e)){for(;d!==null;){var f=sa(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=js(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var T=1<<31-Pt(v);w.entanglements[1]|=T,v&=~T}bn(f),(Oe&6)===0&&(El=Lt()+500,Ki(0))}}break;case 31:case 13:w=Rs(f,2),w!==null&&Mt(w,f,2),Nl(),Xu(f,2)}if(f=Qu(l),f===null&&Lu(e,s,l,Gl,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else Lu(e,s,l,null,i)}}function Qu(e){return e=Zo(e),Ju(e)}var Gl=null;function Ju(e){if(Gl=null,e=na(e),e!==null){var s=c(e);if(s===null)e=null;else{var i=s.tag;if(i===13){if(e=u(s),e!==null)return e;e=null}else if(i===31){if(e=m(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Gl=e,null}function K0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tx()){case Zh:return 2;case Wh:return 8;case Dr:case nx:return 32;case ef:return 268435456;default:return 32}default:return 32}}var Zu=!1,hs=null,fs=null,ms=null,Zi=new Map,Wi=new Map,ps=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(e,s){switch(e){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Zi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(s.pointerId)}}function er(e,s,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:s,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=sa(s),s!==null&&$0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),e)}function gS(e,s,i,l,d){switch(s){case"focusin":return hs=er(hs,e,s,i,l,d),!0;case"dragenter":return fs=er(fs,e,s,i,l,d),!0;case"mouseover":return ms=er(ms,e,s,i,l,d),!0;case"pointerover":var f=d.pointerId;return Zi.set(f,er(Zi.get(f)||null,e,s,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Wi.set(f,er(Wi.get(f)||null,e,s,i,l,d)),!0}return!1}function Y0(e){var s=na(e.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=u(i),s!==null){e.blockedOn=s,lf(e.priority,function(){G0(i)});return}}else if(s===31){if(s=m(i),s!==null){e.blockedOn=s,lf(e.priority,function(){G0(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Qu(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Jo=l,i.target.dispatchEvent(l),Jo=null}else return s=sa(i),s!==null&&$0(s),e.blockedOn=i,!1;s.shift()}return!0}function X0(e,s,i){Kl(e)&&i.delete(s)}function vS(){Zu=!1,hs!==null&&Kl(hs)&&(hs=null),fs!==null&&Kl(fs)&&(fs=null),ms!==null&&Kl(ms)&&(ms=null),Zi.forEach(X0),Wi.forEach(X0)}function Il(e,s){e.blockedOn===s&&(e.blockedOn=null,Zu||(Zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vS)))}var Yl=null;function F0(e){Yl!==e&&(Yl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yl===e&&(Yl=null);for(var s=0;s<e.length;s+=3){var i=e[s],l=e[s+1],d=e[s+2];if(typeof l!="function"){if(Ju(l||i)===null)continue;break}var f=sa(i);f!==null&&(e.splice(s,3),s-=3,Qc(f,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function Ba(e){function s(T){return Il(T,e)}hs!==null&&Il(hs,e),fs!==null&&Il(fs,e),ms!==null&&Il(ms,e),Zi.forEach(s),Wi.forEach(s);for(var i=0;i<ps.length;i++){var l=ps[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ps.length&&(i=ps[0],i.blockedOn===null);)Y0(i),i.blockedOn===null&&ps.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],v=d[Nt]||null;if(typeof f=="function")v||F0(i);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Nt]||null)w=v.formAction;else if(Ju(d)!==null)continue}else w=v.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),F0(i)}}}function Q0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Wu(e){this._internalRoot=e}Xl.prototype.render=Wu.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var i=s.current,l=Gt();H0(i,l,e,s,null,null)},Xl.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;H0(e.current,2,null,e,null,null),Nl(),s[ta]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var s=rf();e={blockedOn:null,target:e,priority:s};for(var i=0;i<ps.length&&s!==0&&s<ps[i].priority;i++);ps.splice(i,0,e),i===0&&Y0(e)}};var J0=t.version;if(J0!=="19.2.4")throw Error(r(527,J0,"19.2.4"));z.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var bS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{ci=Fl.inject(bS),Ut=Fl}catch{}}return nr.createRoot=function(e,s){if(!o(e))throw Error(r(299));var i=!1,l="",d=ap,f=ip,v=rp;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=z0(e,1,!1,null,null,i,l,null,d,f,v,Q0),e[ta]=s.current,Mu(e),new Wu(s)},nr.hydrateRoot=function(e,s,i){if(!o(e))throw Error(r(299));var l=!1,d="",f=ap,v=ip,w=rp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),s=z0(e,1,!0,s,i??null,l,d,T,f,v,w,Q0),s.context=V0(null),i=s.current,l=Gt(),l=$o(l),d=es(l),d.callback=null,ts(i,d,l),i=l,s.current.lanes=i,di(s,i),bn(s),e[ta]=s.current,Mu(e),new Xl(s)},nr.version="19.2.4",nr}var ly;function CS(){if(ly)return nd.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),nd.exports=NS(),nd.exports}var RS=CS();const vt=[];for(let n=0;n<256;++n)vt.push((n+256).toString(16).slice(1));function OS(n,t=0){return(vt[n[t+0]]+vt[n[t+1]]+vt[n[t+2]]+vt[n[t+3]]+"-"+vt[n[t+4]]+vt[n[t+5]]+"-"+vt[n[t+6]]+vt[n[t+7]]+"-"+vt[n[t+8]]+vt[n[t+9]]+"-"+vt[n[t+10]]+vt[n[t+11]]+vt[n[t+12]]+vt[n[t+13]]+vt[n[t+14]]+vt[n[t+15]]).toLowerCase()}let rd;const kS=new Uint8Array(16);function DS(){if(!rd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rd=crypto.getRandomValues.bind(crypto)}return rd(kS)}const MS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oy={randomUUID:MS};function LS(n,t,a){n=n||{};const r=n.random??n.rng?.()??DS();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,OS(r)}function St(n,t,a){return oy.randomUUID&&!n?oy.randomUUID():LS(n)}const Ye=[{type:"dragon",emoji:"",name:"Dragon",description:"Fierce and loyal, guards your treasure"},{type:"eagle",emoji:"",name:"Eagle",description:"Soars high, sees the big picture"},{type:"wolf",emoji:"",name:"Wolf",description:"Strong pack instincts, steady growth"},{type:"lion",emoji:"",name:"Lion",description:"Courageous, king of savings"},{type:"turtle",emoji:"",name:"Turtle",description:"Slow and steady wins the race"},{type:"owl",emoji:"",name:"Owl",description:"Wise investor, patient wealth"}],po=[{level:0,name:"Egg",minBalance:0,emoji:""},{level:1,name:"Baby",minBalance:25,emoji:""},{level:2,name:"Young",minBalance:100,emoji:""},{level:3,name:"Teen",minBalance:250,emoji:""},{level:4,name:"Adult",minBalance:500,emoji:""},{level:5,name:"Elder",minBalance:1e3,emoji:""}];function mn(n,t=0){const a=Math.max(0,n-t);return a>=1e3?5:a>=500?4:a>=250?3:a>=100?2:a>=25?1:0}function kd(n){return po[n]?.name||"Egg"}function US(n){return n>=5?1e3:po[n+1]?.minBalance||1e3}function Er(n,t){if(t===0)return"";const a=Ye.find(r=>r.type===n);return t===5?`${a?.emoji||""}`:a?.emoji||""}const $n=[{rank:1,name:"Novice Warrior",emoji:"",minXP:0,description:"Just starting your quest"},{rank:2,name:"Bronze Warrior",emoji:"",minXP:100,description:"Learning the basics"},{rank:3,name:"Silver Warrior",emoji:"",minXP:300,description:"Building good habits"},{rank:4,name:"Gold Warrior",emoji:"",minXP:600,description:"Strong money skills"},{rank:5,name:"Platinum Warrior",emoji:"",minXP:1e3,description:"Expert level"},{rank:6,name:"Diamond Warrior",emoji:"",minXP:2e3,description:"Master of money"},{rank:7,name:"Legendary Warrior",emoji:"",minXP:4e3,description:"Elite steward"}];function Is(n){for(let t=$n.length-1;t>=0;t--)if(n>=$n[t].minXP)return $n[t].rank;return 1}function Ao(n){return $n.find(t=>t.rank===n)||$n[0]}function PS(n){return $n.find(a=>a.rank===n+1)?.minXP||$n[$n.length-1].minXP}function BS(n){return $n.find(t=>t.rank===n)?.minXP||0}const Fe={ALLOCATE_TO_BUCKET:1,PET_LEVEL_UP:10,COMPLETE_GOAL:10,COMPLETE_DONATION:10,EARN_INTEREST:1},zS=[{emoji:"",label:"Video Game"},{emoji:"",label:"Toy"},{emoji:"",label:"Tech"},{emoji:"",label:"Shoes"},{emoji:"",label:"Clothes"},{emoji:"",label:"Headphones"},{emoji:"",label:"Books"},{emoji:"",label:"Art Supplies"},{emoji:"",label:"Sports"},{emoji:"",label:"Music"},{emoji:"",label:"Gift"},{emoji:"",label:"Entertainment"},{emoji:"",label:"Skateboard"},{emoji:"",label:"Bike"},{emoji:"",label:"Beauty"},{emoji:"",label:"Backpack"}],ir=[{type:"community-starter",name:"Community Starter",threshold:10,emoji:"",description:"First steps to making a difference"},{type:"community-helper",name:"Community Helper",threshold:25,emoji:"",description:"Building connections through giving"},{type:"community-builder",name:"Community Builder",threshold:50,emoji:"",description:"A pillar of your community"},{type:"community-champion",name:"Community Champion",threshold:100,emoji:"",description:"A true leader in giving back"}];function yo(n){const t=new Date,a=new Date(n);let r=t.getFullYear()-a.getFullYear();const o=t.getMonth()-a.getMonth();return(o<0||o===0&&t.getDate()<a.getDate())&&r--,r}const VS=[{id:"animal-shelter",name:"Animal Shelter",emoji:"",description:"Help homeless pets find loving homes"},{id:"food-bank",name:"Food Bank",emoji:"",description:"Feed hungry families in need"},{id:"ocean-cleanup",name:"Ocean Cleanup",emoji:"",description:"Keep our oceans clean and healthy"},{id:"library",name:"Library",emoji:"",description:"Help kids discover the joy of reading"},{id:"plant-trees",name:"Plant Trees",emoji:"",description:"Grow forests for a greener planet"},{id:"kids-hospital",name:"Kids Hospital",emoji:"",description:"Help sick children get better"}],mh=["","","","","","","","","",""];function No(n,t){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(a[r[o]]=n[r[o]]);return a}function HS(n,t,a,r){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function m(g){try{y(r.next(g))}catch(b){u(b)}}function p(g){try{y(r.throw(g))}catch(b){u(b)}}function y(g){g.done?c(g.value):o(g.value).then(m,p)}y((r=r.apply(n,t||[])).next())})}const qS=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class ph extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}}class $S extends ph{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cy extends ph{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uy extends ph{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Dd||(Dd={}));class GS{constructor(t,{headers:a={},customFetch:r,region:o=Dd.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=qS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return HS(this,arguments,void 0,function*(a,r={}){var o;let c,u;try{const{headers:m,method:p,body:y,signal:g,timeout:b}=r;let x={},{region:S}=r;S||(S=this.region);const _=new URL(`${this.url}/${a}`);S&&S!=="any"&&(x["x-region"]=S,_.searchParams.set("forceFunctionRegion",S));let A;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",A=y):typeof y=="string"?(x["Content-Type"]="text/plain",A=y):typeof FormData<"u"&&y instanceof FormData?A=y:(x["Content-Type"]="application/json",A=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?A=JSON.stringify(y):A=y;let E=g;b&&(u=new AbortController,c=setTimeout(()=>u.abort(),b),g?(E=u.signal,g.addEventListener("abort",()=>u.abort())):E=u.signal);const k=yield this.fetch(_.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:A,signal:E}).catch(K=>{throw new $S(K)}),L=k.headers.get("x-relay-error");if(L&&L==="true")throw new cy(k);if(!k.ok)throw new uy(k);let R=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),q;return R==="application/json"?q=yield k.json():R==="application/octet-stream"||R==="application/pdf"?q=yield k.blob():R==="text/event-stream"?q=k:R==="multipart/form-data"?q=yield k.formData():q=yield k.text(),{data:q,error:null,response:k}}catch(m){return{data:null,error:m,response:m instanceof uy||m instanceof cy?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var KS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},IS=class{constructor(n){var t,a,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,m=null,p=null,y=c.status,g=c.statusText;if(c.ok){var b,x;if(a.method!=="HEAD"){var S;const k=await c.text();k===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((S=a.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=k:m=JSON.parse(k))}const A=(b=a.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),E=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");A&&E&&E.length>1&&(p=parseInt(E[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,y=406,g="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var _;const A=await c.text();try{u=JSON.parse(A),Array.isArray(u)&&c.status===404&&(m=[],u=null,y=200,g="OK")}catch{c.status===404&&A===""?(y=204,g="No Content"):u={message:A}}if(u&&a.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,y=200,g="OK"),u&&a.shouldThrowOnError)throw new KS(u)}return{error:u,data:m,count:p,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var u;let m="",p="",y="";const g=c?.cause;if(g){var b,x,S,_;const k=(b=g?.message)!==null&&b!==void 0?b:"",L=(x=g?.code)!==null&&x!==void 0?x:"";m=`${(S=c?.name)!==null&&S!==void 0?S:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(_=g?.name)!==null&&_!==void 0?_:"Error"}: ${k}`,L&&(m+=` (${L})`),g?.stack&&(m+=`
${g.stack}`)}else{var A;m=(A=c?.stack)!==null&&A!==void 0?A:""}const E=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(y="",p="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",p="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(p+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:m,hint:p,code:y},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}},YS=class extends IS{select(n){let t=!1;const a=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:r,referencedTable:o=r}={}){const c=o?`${o}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:r=a}={}){const o=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(c,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:r=!1,wal:o=!1,format:c="text"}={}){var u;const m=[n?"analyze":null,t?"verbose":null,a?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const dy=new RegExp("[,()]");var Ka=class extends YS{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(r=>typeof r=="string"&&dy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,t){const a=Array.from(new Set(t)).map(r=>typeof r=="string"&&dy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${o}fts${c}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}},XS=class{constructor(n,{headers:t={},schema:a,fetch:r,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(t),this.schema=a,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:a=!1,count:r}=t??{},o=a?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",u),r&&p.append("Prefer",`count=${r}`),new Ka({method:o,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:a=!0}={}){var r;const o="POST",{url:c,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),a||u.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);c.searchParams.set("columns",p.join(","))}}return new Ka({method:o,url:c,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:r,defaultToNull:o=!0}={}){var c;const u="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),r&&p.append("Prefer",`count=${r}`),o||p.append("Prefer","missing=default"),Array.isArray(n)){const y=n.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(y.length>0){const g=[...new Set(y)].map(b=>`"${b}"`);m.searchParams.set("columns",g.join(","))}}return new Ka({method:u,url:m,headers:p,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var a;const r="PATCH",{url:o,headers:c}=this.cloneRequestState();return t&&c.append("Prefer",`count=${t}`),new Ka({method:r,url:o,headers:c,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const a="DELETE",{url:r,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Ka({method:a,url:r,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function mr(n){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(n)}function FS(n,t){if(mr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(mr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function QS(n){var t=FS(n,"string");return mr(t)=="symbol"?t:t+""}function JS(n,t,a){return(t=QS(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function hy(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,r)}return a}function Ql(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(a),!0).forEach(function(r){JS(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):hy(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var ZS=class Qg{constructor(t,{headers:a={},schema:r,fetch:o,timeout:c,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=r,this.urlLengthLimit=u;const m=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(p,y)=>{const g=new AbortController,b=setTimeout(()=>g.abort(),c),x=y?.signal;if(x){if(x.aborted)return clearTimeout(b),m(p,y);const S=()=>{clearTimeout(b),g.abort()};return x.addEventListener("abort",S,{once:!0}),m(p,Ql(Ql({},y),{},{signal:g.signal})).finally(()=>{clearTimeout(b),x.removeEventListener("abort",S)})}return m(p,Ql(Ql({},y),{},{signal:g.signal})).finally(()=>clearTimeout(b))}:this.fetch=m}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new XS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Qg(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:r=!1,get:o=!1,count:c}={}){var u;let m;const p=new URL(`${this.url}/rpc/${t}`);let y;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),b=r&&Object.values(a).some(g);b?(m="POST",y=a):r||o?(m=r?"HEAD":"GET",Object.entries(a).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{p.searchParams.append(S,_)})):(m="POST",y=a);const x=new Headers(this.headers);return b?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new Ka({method:m,url:p,headers:x,schema:this.schemaName,body:y,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class WS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const r=a.versions;if(r&&r.node){const o=r.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const r=this.getWebSocketConstructor();return new r(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e_="2.95.3",t_=`realtime-js/${e_}`,n_="1.0.0",Jg="2.0.0",fy=Jg,Md=1e4,s_=1e3,a_=100;var vs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(vs||(vs={}));var lt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(lt||(lt={}));var fn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(fn||(fn={}));var Ld;(function(n){n.websocket="websocket"})(Ld||(Ld={}));var Fs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Fs||(Fs={}));class i_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,r;const o=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,r;const o=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,a,r){var o,c;const u=t.topic,m=(o=t.ref)!==null&&o!==void 0?o:"",p=(c=t.join_ref)!==null&&c!==void 0?c:"",y=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+u.length+y.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let _=new DataView(S),A=0;_.setUint8(A++,this.KINDS.userBroadcastPush),_.setUint8(A++,p.length),_.setUint8(A++,m.length),_.setUint8(A++,u.length),_.setUint8(A++,y.length),_.setUint8(A++,b.length),_.setUint8(A++,a),Array.from(p,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(m,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(u,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(y,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(b,k=>_.setUint8(A++,k.charCodeAt(0)));var E=new Uint8Array(S.byteLength+r.byteLength);return E.set(new Uint8Array(S),0),E.set(new Uint8Array(r),S.byteLength),E.buffer}decode(t,a){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return a(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,c,u,m,p]=r;return a({join_ref:o,ref:c,topic:u,event:m,payload:p})}return a({})}_binaryDecode(t){const a=new DataView(t),r=a.getUint8(0),o=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,o)}_decodeUserBroadcast(t,a,r){const o=a.getUint8(1),c=a.getUint8(2),u=a.getUint8(3),m=a.getUint8(4);let p=this.HEADER_LENGTH+4;const y=r.decode(t.slice(p,p+o));p=p+o;const g=r.decode(t.slice(p,p+c));p=p+c;const b=r.decode(t.slice(p,p+u));p=p+u;const x=t.slice(p,t.byteLength),S=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,_={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(_.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>a.includes(r)))}}class Zg{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Be||(Be={}));const my=(n,t,a={})=>{var r;const o=(r=a.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=r_(u,n,t,o),c),{}):{}},r_=(n,t,a,r)=>{const o=t.find(m=>m.name===n),c=o?.type,u=a[n];return c&&!r.includes(c)?Wg(c,u):Ud(u)},Wg=(n,t)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return u_(t,a)}switch(n){case Be.bool:return l_(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return o_(t);case Be.json:case Be.jsonb:return c_(t);case Be.timestamp:return d_(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Ud(t);default:return Ud(t)}},Ud=n=>n,l_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},o_=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},c_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},u_=(n,t)=>{if(typeof n!="string")return n;const a=n.length-1,r=n[a];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,a);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(m=>Wg(t,m))}return n},d_=n=>typeof n=="string"?n.replace(" ","T"):n,ev=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ld{constructor(t,a,r={},o=Md){this.channel=t,this.event=a,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var py;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(py||(py={}));class or{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=or.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=or.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=or.syncDiff(this.state,o,c,u),m())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,o){const c=this.cloneDeep(t),u=this.transformState(a),m={},p={};return this.map(c,(y,g)=>{u[y]||(p[y]=g)}),this.map(u,(y,g)=>{const b=c[y];if(b){const x=g.map(E=>E.presence_ref),S=b.map(E=>E.presence_ref),_=g.filter(E=>S.indexOf(E.presence_ref)<0),A=b.filter(E=>x.indexOf(E.presence_ref)<0);_.length>0&&(m[y]=_),A.length>0&&(p[y]=A)}else m[y]=g}),this.syncDiff(c,{joins:m,leaves:p},r,o)}static syncDiff(t,a,r,o){const{joins:c,leaves:u}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(m,p)=>{var y;const g=(y=t[m])!==null&&y!==void 0?y:[];if(t[m]=this.cloneDeep(p),g.length>0){const b=t[m].map(S=>S.presence_ref),x=g.filter(S=>b.indexOf(S.presence_ref)<0);t[m].unshift(...x)}r(m,g,p)}),this.map(u,(m,p)=>{let y=t[m];if(!y)return;const g=p.map(b=>b.presence_ref);y=y.filter(b=>g.indexOf(b.presence_ref)<0),t[m]=y,o(m,y,p),y.length===0&&delete t[m]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const o=t[r];return"metas"in o?a[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[r]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yy;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(yy||(yy={}));var cr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(cr||(cr={}));var qn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class Fa{constructor(t,a={config:{}},r){var o,c;if(this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new ld(this,fn.join,this.params,this.timeout),this.rejoinTimer=new Zg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new or(this),this.broadcastEndpointURL=ev(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:u,presence:m,private:p}}=this.params,y=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[cr.PRESENCE]&&this.bindings[cr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},x={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:g}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(qn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(qn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,E=(_=A?.length)!==null&&_!==void 0?_:0,k=[];for(let L=0;L<E;L++){const R=A[L],{filter:{event:q,schema:K,table:I,filter:te}}=R,ne=S&&S[L];if(ne&&ne.event===q&&Fa.isFilterValueEqual(ne.schema,K)&&Fa.isFilterValueEqual(ne.table,I)&&Fa.isFilterValueEqual(ne.filter,te))k.push(Object.assign(Object.assign({},R),{id:ne.id}));else{this.unsubscribe(),this.state=lt.errored,t?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(qn.SUBSCRIBED);return}}).receive("error",S=>{this.state=lt.errored,t?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this.state===lt.joined&&t===cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,r)}async httpSend(t,a,r={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(t,a={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,m,p;const y=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ld(this,fn.leave,{},t),r.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,a,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),u}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ld(this,t,a,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>a_){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var o,c;const u=t.toLocaleLowerCase(),{close:m,error:p,leave:y,join:g}=fn;if(r&&[m,p,y,g].indexOf(u)>=0&&r!==this._joinRef())return;let x=this._onMessage(u,a,r);if(a&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var _,A,E;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(A=S.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(S=>S.callback(x,r)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var _,A,E,k,L,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const q=S.id,K=(_=S.filter)===null||_===void 0?void 0:_.event;return q&&((A=a.ids)===null||A===void 0?void 0:A.includes(q))&&(K==="*"||K?.toLocaleLowerCase()===((E=a.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const q=(L=(k=S?.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return q==="*"||q===((R=a?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:A,table:E,commit_timestamp:k,type:L,errors:R}=_;x=Object.assign(Object.assign({},{schema:A,table:E,commit_timestamp:k,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(_))}S.callback(x,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const o=t.toLocaleLowerCase(),c={type:o,filter:a,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Fa.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fn.close,{},t)}_onError(t){this._on(fn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=my(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=my(t.columns,t.old_record)),a}}const od=()=>{},Jl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h_=[1e3,2e3,5e3,1e4],f_=1e4,m_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p_{constructor(t,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Md,this.transport=null,this.heartbeatIntervalMs=Jl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=od,this.ref=0,this.reconnectTimer=null,this.vsn=fy,this.logger=od,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Ld.websocket}`,this.httpEndpoint=ev(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return a==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return Fs.Connecting;case vs.open:return Fs.Open;case vs.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new Fa(`realtime:${t}`,a,this);return this.channels.push(c),c}}push(t){const{topic:a,event:r,payload:o,ref:c}=t,u=()=>{this.encode(t,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${a} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s_,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Jl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",y)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:c,ref:u}=a,m=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${r} ${o} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(o,c,u)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===vs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vs.open||this.conn.readyState===vs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(fn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${r}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([m_],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,r=!1;if(t)a=t,r=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const c={access_token:a,version:t_};a&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(fn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Zg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,r,o,c,u,m,p,y,g,b,x,S;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Md,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Jl.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:od,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:fy,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=t?.reconnectAfterMs)!==null&&y!==void 0?y:(_=>h_[_-1]||f_),this.vsn){case n_:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((_,A)=>A(JSON.stringify(_))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((_,A)=>A(JSON.parse(_)));break;case Jg:this.encode=(x=t?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var pr=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function y_(n,t,a){const r=new URL(t,n);if(a)for(const[o,c]of Object.entries(a))c!==void 0&&r.searchParams.set(o,c);return r.toString()}async function g_(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function v_(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:r,query:o,body:c,headers:u}){const m=y_(n.baseUrl,r,o),p=await g_(n.auth),y=await t(m,{method:a,headers:{...c?{"Content-Type":"application/json"}:{},...p,...u},body:c?JSON.stringify(c):void 0}),g=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),x=b&&g?JSON.parse(g):g;if(!y.ok){const S=b?x:void 0,_=S?.error;throw new pr(_?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:_?.type,icebergCode:_?.code,details:S})}return{status:y.status,headers:y.headers,data:x}}}}function Zl(n){return n.join("")}var b_=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Zl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const a={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zl(n.namespace)}`}),!0}catch(t){if(t instanceof pr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(a){if(a instanceof pr&&a.status===409)return;throw a}}};function za(n){return n.join("")}var x_=class{constructor(n,t="",a){this.client=n,this.prefix=t,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(n,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${za(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(a){if(a instanceof pr&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(a){if(a instanceof pr&&a.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw a}}},w_=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=v_({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new b_(this.client,t),this.tableOps=new x_(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Co=class extends Error{constructor(n,t="storage",a,r){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=r}};function Ro(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Wl=class extends Co{constructor(n,t,a,r="storage"){super(n,r,t,a),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tv=class extends Co{constructor(n,t,a="storage"){super(n,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const S_=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),__=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Pd=n=>{if(Array.isArray(n))return n.map(a=>Pd(a));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([a,r])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=Pd(r)}),t},T_=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function yr(n){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(n)}function j_(n,t){if(yr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(yr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function E_(n){var t=j_(n,"string");return yr(t)=="symbol"?t:t+""}function A_(n,t,a){return(t=E_(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function gy(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,r)}return a}function ye(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gy(Object(a),!0).forEach(function(r){A_(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):gy(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}const vy=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},N_=async(n,t,a,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!a?.noResolveJson){const o=n,c=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const m=u?.statusCode||u?.code||c+"";t(new Wl(vy(u),c,m,r))}).catch(()=>{if(r==="vectors"){const u=c+"";t(new Wl(o.statusText||`HTTP ${c} error`,c,u,r))}else{const u=c+"";t(new Wl(o.statusText||`HTTP ${c} error`,c,u,r))}});else{const u=c+"";t(new Wl(o.statusText||`HTTP ${c} error`,c,u,r))}}else t(new tv(vy(n),n,r))},C_=(n,t,a,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||n==="HEAD"||!r?ye(ye({},o),a):(__(r)?(o.headers=ye({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),ye(ye({},o),a))};async function sr(n,t,a,r,o,c,u){return new Promise((m,p)=>{n(a,C_(t,r,o,c)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;if(u==="vectors"){const g=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!g||!g.includes("application/json"))return{}}return y.json()}).then(y=>m(y)).catch(y=>N_(y,p,r,u))})}function nv(n="storage"){return{get:async(t,a,r,o)=>sr(t,"GET",a,r,o,void 0,n),post:async(t,a,r,o,c)=>sr(t,"POST",a,o,c,r,n),put:async(t,a,r,o,c)=>sr(t,"PUT",a,o,c,r,n),head:async(t,a,r,o)=>sr(t,"HEAD",a,ye(ye({},r),{},{noResolveJson:!0}),o,void 0,n),remove:async(t,a,r,o,c)=>sr(t,"DELETE",a,o,c,r,n)}}const R_=nv("storage"),{get:gr,post:hn,put:Bd,head:O_,remove:yh}=R_,It=nv("vectors");var ai=class{constructor(n,t={},a,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=S_(a),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ro(a))return{data:null,error:a};throw a}}},k_=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ro(t))return{data:null,error:t};throw t}}};let sv;sv=Symbol.toStringTag;var D_=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[sv]="BlobDownloadBuilder",this.promise=null}asStream(){return new k_(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ro(t))return{data:null,error:t};throw t}}};const M_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},by={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L_=class extends ai{constructor(n,t={},a,r){super(n,t,r,"storage"),this.bucketId=a}async uploadOrUpdate(n,t,a,r){var o=this;return o.handleOperation(async()=>{let c;const u=ye(ye({},by),r);let m=ye(ye({},o.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",o.encodeMetadata(p)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),p&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(p))):(c=a,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,p&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),r?.headers&&(m=ye(ye({},m),r.headers));const y=o._removeEmptyFolders(t),g=o._getFinalPath(y),b=await(n=="PUT"?Bd:hn)(o.fetch,`${o.url}/object/${g}`,c,ye({headers:m},u?.duplex?{duplex:u.duplex}:{}));return{path:y,id:b.Id,fullPath:b.Key}})}async upload(n,t,a){return this.uploadOrUpdate("POST",n,t,a)}async uploadToSignedUrl(n,t,a,r){var o=this;const c=o._removeEmptyFolders(n),u=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${u}`);return m.searchParams.set("token",t),o.handleOperation(async()=>{let p;const y=ye({upsert:by.upsert},r),g=ye(ye({},o.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",y.cacheControl)):(p=a,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType),{path:c,fullPath:(await Bd(o.fetch,m.toString(),p,{headers:g})).Key}})}async createSignedUploadUrl(n,t){var a=this;return a.handleOperation(async()=>{let r=a._getFinalPath(n);const o=ye({},a.headers);t?.upsert&&(o["x-upsert"]="true");const c=await hn(a.fetch,`${a.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(a.url+c.url),m=u.searchParams.get("token");if(!m)throw new Co("No token returned by API");return{signedUrl:u.toString(),path:n,token:m}})}async update(n,t,a){return this.uploadOrUpdate("PUT",n,t,a)}async move(n,t,a){var r=this;return r.handleOperation(async()=>await hn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:r.headers}))}async copy(n,t,a){var r=this;return r.handleOperation(async()=>({path:(await hn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,t,a){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(n),c=await hn(r.fetch,`${r.url}/object/sign/${o}`,ye({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:r.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${r.url}${c.signedURL}${u}`)}})}async createSignedUrls(n,t,a){var r=this;return r.handleOperation(async()=>{const o=await hn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o.map(u=>ye(ye({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${c}`):null}))})}download(n,t,a){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",u=this._getFinalPath(n),m=()=>gr(this.fetch,`${this.url}/${r}/${u}${c}`,{headers:this.headers,noResolveJson:!0},a);return new D_(m,this.shouldThrowOnError)}async info(n){var t=this;const a=t._getFinalPath(n);return t.handleOperation(async()=>Pd(await gr(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(n){var t=this;const a=t._getFinalPath(n);try{return await O_(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ro(r)&&r instanceof tv){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const a=this._getFinalPath(n),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const c=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&r.push(u);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${m}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await yh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,a){var r=this;return r.handleOperation(async()=>{const o=ye(ye(ye({},M_),t),{},{prefix:n||""});return await hn(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},a)})}async listV2(n,t){var a=this;return a.handleOperation(async()=>{const r=ye({},n);return await hn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,r,{headers:a.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const U_="2.95.3",Ar={"X-Client-Info":`storage-js/${U_}`};var P_=class extends ai{constructor(n,t={},a,r){const o=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),u=ye(ye({},Ar),t);super(c,u,a,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(n);return await gr(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await gr(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var a=this;return a.handleOperation(async()=>await hn(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(n,t){var a=this;return a.handleOperation(async()=>await Bd(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await hn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await yh(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},B_=class extends ai{constructor(n,t={},a){const r=n.replace(/\/$/,""),o=ye(ye({},Ar),t);super(r,o,a,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await hn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const r=a.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await gr(t.fetch,o,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await yh(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!T_(n))throw new Co("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new w_({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(a,{get(o,c){const u=o[c];return typeof u!="function"?u:async(...m)=>{try{return{data:await u.apply(o,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},z_=class extends ai{constructor(n,t={},a){const r=n.replace(/\/$/,""),o=ye(ye({},Ar),{},{"Content-Type":"application/json"},t);super(r,o,a,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var a=this;return a.handleOperation(async()=>await It.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var a=this;return a.handleOperation(async()=>await It.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers})||{})}},V_=class extends ai{constructor(n,t={},a){const r=n.replace(/\/$/,""),o=ye(ye({},Ar),{},{"Content-Type":"application/json"},t);super(r,o,a,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},H_=class extends ai{constructor(n,t={},a){const r=n.replace(/\/$/,""),o=ye(ye({},Ar),{},{"Content-Type":"application/json"},t);super(r,o,a,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},q_=class extends H_{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new $_(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,a=this;return t().call(a,n)}async getBucket(n){var t=()=>super.getBucket,a=this;return t().call(a,n)}async listBuckets(n={}){var t=()=>super.listBuckets,a=this;return t().call(a,n)}async deleteBucket(n){var t=()=>super.deleteBucket,a=this;return t().call(a,n)}},$_=class extends z_{constructor(n,t,a,r){super(n,t,r),this.vectorBucketName=a}async createIndex(n){var t=()=>super.createIndex,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,n)}index(n){return new G_(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},G_=class extends V_{constructor(n,t,a,r,o){super(n,t,o),this.vectorBucketName=a,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var t=()=>super.getVectors,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,a=this;return t().call(a,ye(ye({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},K_=class extends P_{constructor(n,t={},a,r){super(n,t,a,r)}from(n){return new L_(this.url,this.headers,n,this.fetch)}get vectors(){return new q_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B_(this.url+"/iceberg",this.headers,this.fetch)}};const av="2.95.3",Ia=30*1e3,zd=3,cd=zd*Ia,I_="http://localhost:9999",Y_="supabase.auth.token",X_={"X-Client-Info":`gotrue-js/${av}`},Vd="X-Supabase-Api-Version",iv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q_=600*1e3;class vr extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class J_ extends vr{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function Z_(n){return ue(n)&&n.name==="AuthApiError"}class Qs extends vr{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Kn extends vr{constructor(t,a,r,o){super(t,r,o),this.name=a,this.status=r}}class Kt extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ud(n){return ue(n)&&n.name==="AuthSessionMissingError"}class Va extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eo extends Kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class to extends Kn{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W_(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}class xy extends Kn{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e1 extends Kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hd extends Kn{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function dd(n){return ue(n)&&n.name==="AuthRetryableFetchError"}class wy extends Kn{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class qd extends Kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sy=` 	
\r=`.split(""),t1=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Sy.length;t+=1)n[Sy[t].charCodeAt(0)]=-2;for(let t=0;t<go.length;t+=1)n[go[t].charCodeAt(0)]=t;return n})();function _y(n,t,a){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(go[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(go[r]),t.queuedBits-=6}}function rv(n,t,a){const r=t1[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ty(n){const t=[],a=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{a1(u,r,a)};for(let u=0;u<n.length;u+=1)rv(n.charCodeAt(u),o,c);return t.join("")}function n1(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function s1(n,t){for(let a=0;a<n.length;a+=1){let r=n.charCodeAt(a);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}n1(r,t)}}function a1(n,t,a){if(t.utf8seq===0){if(n<=127){a(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function ti(n){const t=[],a={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)rv(n.charCodeAt(o),a,r);return new Uint8Array(t)}function i1(n){const t=[];return s1(n,a=>t.push(a)),new Uint8Array(t)}function Js(n){const t=[],a={queue:0,queuedBits:0},r=o=>{t.push(o)};return n.forEach(o=>_y(o,a,r)),_y(null,a,r),t.join("")}function r1(n){return Math.round(Date.now()/1e3)+n}function l1(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},lv=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function o1(n){const t={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return a.searchParams.forEach((r,o)=>{t[o]=r}),t}const ov=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),c1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ya=async(n,t,a)=>{await n.setItem(t,JSON.stringify(a))},Gs=async(n,t)=>{const a=await n.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},gt=async(n,t)=>{await n.removeItem(t)};class Oo{constructor(){this.promise=new Oo.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Oo.promiseConstructor=Promise;function no(n){const t=n.split(".");if(t.length!==3)throw new qd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!F_.test(t[r]))throw new qd("JWT not in base64url format");return{header:JSON.parse(Ty(t[0])),payload:JSON.parse(Ty(t[1])),signature:ti(t[2]),raw:{header:t[0],payload:t[1]}}}async function u1(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function d1(n,t){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!t(c,null,u)){r(u);return}}catch(u){if(!t(c,u)){o(u);return}}})()})}function h1(n){return("0"+n.toString(16)).substr(-2)}function f1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,h1).join("")}async function m1(n){const a=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function p1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await m1(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ha(n,t,a=!1){const r=f1();let o=r;a&&(o+="/PASSWORD_RECOVERY"),await Ya(n,`${t}-code-verifier`,o);const c=await p1(r);return[c,r===c?"plain":"s256"]}const y1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g1(n){const t=n.headers.get(Vd);if(!t||!t.match(y1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function v1(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function b1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qa(n){if(!x1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const n={};return new Proxy(n,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function w1(n,t){return new Proxy(n,{get:(a,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,r,o)}})}function jy(n){return JSON.parse(JSON.stringify(n))}const Ys=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),S1=[502,503,504];async function Ey(n){var t;if(!c1(n))throw new Hd(Ys(n),0);if(S1.includes(n.status))throw new Hd(Ys(n),n.status);let a;try{a=await n.json()}catch(c){throw new Qs(Ys(c),c)}let r;const o=g1(n);if(o&&o.getTime()>=iv["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new wy(Ys(a),n.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Kt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new wy(Ys(a),n.status,a.weak_password.reasons);throw new J_(Ys(a),n.status||500,r)}const _1=(n,t,a,r)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),a))};async function me(n,t,a,r){var o;const c=Object.assign({},r?.headers);c[Vd]||(c[Vd]=iv["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await T1(n,t,a+m,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function T1(n,t,a,r,o,c){const u=_1(t,r,o,c);let m;try{m=await n(a,Object.assign({},u))}catch(p){throw console.error(p),new Hd(Ys(p),0)}if(m.ok||await Ey(m),r?.noResolveJson)return m;try{return await m.json()}catch(p){await Ey(p)}}function un(n){var t;let a=null;A1(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=r1(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:a,user:r},error:null}}function Ay(n){const t=un(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function bs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function j1(n){return{data:n,error:null}}function E1(n){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c}=n,u=No(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:a,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:m,user:p},error:null}}function Ny(n){return n}function A1(n){return n.access_token&&n.refresh_token&&n.expires_in}const fd=["global","local","others"];class N1{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=ov(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=fd[0]){if(fd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fd.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:bs})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=No(t,["options"]),o=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:E1,redirectTo:a?.redirectTo})}catch(a){if(ue(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,o,c,u,m,p;try{const y={nextPage:null,lastPage:0,total:0},g=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Ny});if(g.error)throw g.error;const b=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(m=g.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);y[`${E}Page`]=A}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(ue(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){qa(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(a){if(ue(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){qa(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:bs})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){qa(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:bs})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qa(t.userId);try{const{data:a,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:r}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _deleteFactor(t){qa(t.userId),qa(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,r,o,c,u,m,p;try{const y={nextPage:null,lastPage:0,total:0},g=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Ny});if(g.error)throw g.error;const b=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(m=g.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(_=>{const A=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);y[`${E}Page`]=A}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(ue(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ue(a))return{data:null,error:a};throw a}}}function Cy(n={}){return{getItem:t=>n[t]||null,setItem:(t,a)=>{n[t]=a},removeItem:t=>{delete n[t]}}}const $a={debug:!!(globalThis&&lv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class C1 extends cv{}async function R1(n,t,a){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await a()}finally{$a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw $a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new C1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($a.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function O1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function k1(n){return parseInt(n,16)}function D1(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function M1(n){var t;const{chainId:a,domain:r,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:m,requestId:p,resources:y,scheme:g,uri:b,version:x}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=uv(n.address),_=g?`${g}://${r}`:r,A=n.statement?`${n.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${S}

${A}`;let k=`URI: ${b}
Version: ${x}
Chain ID: ${a}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),m&&(k+=`
Not Before: ${m.toISOString()}`),p&&(k+=`
Request ID: ${p}`),y){let L=`
Resources:`;for(const R of y){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);L+=`
- ${R}`}k+=L}return`${E}
${k}`}class at extends Error{constructor({message:t,code:a,cause:r,name:o}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=o??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class vo extends at{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function L1({error:n,options:t}){var a,r,o;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new at({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(dv(u)){if(c.rp.id!==u)return new at({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function U1({error:n,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new at({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(dv(r)){if(a.rpId!==r)return new at({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class P1{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const B1=new P1;function z1(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:a,excludeCredentials:r}=n,o=No(n,["challenge","user","excludeCredentials"]),c=ti(t).buffer,u=Object.assign(Object.assign({},a),{id:ti(a.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:u});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const y=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:ti(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function V1(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:a}=n,r=No(n,["challenge","allowCredentials"]),o=ti(t).buffer,c=Object.assign(Object.assign({},r),{challenge:o});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const m=a[u];c.allowCredentials[u]=Object.assign(Object.assign({},m),{id:ti(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function H1(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:Js(new Uint8Array(n.response.attestationObject)),clientDataJSON:Js(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function q1(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Js(new Uint8Array(o.authenticatorData)),clientDataJSON:Js(new Uint8Array(o.clientDataJSON)),signature:Js(new Uint8Array(o.signature)),userHandle:o.userHandle?Js(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ry(){var n,t;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $1(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",t)}:{data:null,error:new vo("Empty credential response",t)}}catch(t){return{data:null,error:L1({error:t,options:n})}}}async function G1(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",t)}:{data:null,error:new vo("Empty credential response",t)}}catch(t){return{data:null,error:U1({error:t,options:n})}}}const K1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},I1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bo(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))r[c]=u;else if(a(u))r[c]=u;else if(t(u)){const m=r[c];t(m)?r[c]=bo(m,u):r[c]=bo(u)}else r[c]=u}return r}function Y1(n,t){return bo(K1,n,t||{})}function X1(n,t){return bo(I1,n,t||{})}class F1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:r,signal:o},c){var u;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!m)return{data:null,error:p};const y=o??B1.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:g}=m.webauthn.credential_options.publicKey;if(!g.name){const b=r;if(b)g.name=`${g.id}:${b}`;else{const S=(await this.client.getUser()).data.user,_=((u=S?.user_metadata)===null||u===void 0?void 0:u.name)||S?.email||S?.id||"User";g.name=`${g.id}:${_}`}}g.displayName||(g.displayName=g.name)}switch(m.webauthn.type){case"create":{const g=Y1(m.webauthn.credential_options.publicKey,c?.create),{data:b,error:x}=await $1({publicKey:g,signal:y});return b?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const g=X1(m.webauthn.credential_options.publicKey,c?.request),{data:b,error:x}=await G1(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:g,signal:y}));return b?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(m){return ue(m)?{data:null,error:m}:{data:null,error:new Qs("Unexpected error in challenge",m)}}}async _verify({challengeId:t,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new vr("rpId is required for WebAuthn authentication")};try{if(!Ry())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:r},signal:o},{request:c});if(!u)return{data:null,error:m};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:r,credential_response:p.credential_response}})}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new Qs("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!a)return{data:null,error:new vr("rpId is required for WebAuthn registration")};try{if(!Ry())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:o},{create:c});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new Qs("Unexpected error in register",u)}}}}O1();const Q1={url:I_,storageKey:Y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Oy(n,t,a){return await a()}const Ga={};class br{get jwks(){var t,a;return(a=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Ga[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ga[this.storageKey]=Object.assign(Object.assign({},Ga[this.storageKey]),{cachedAt:t})}constructor(t){var a,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},Q1),t);if(this.storageKey=c.storageKey,this.instanceID=(a=br.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,br.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&bt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new N1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ov(c.fetch),this.lock=c.lock||Oy,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&bt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=R1:this.lock=Oy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:lv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cy(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Cy(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${av}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},r="none";if(bt()&&(a=o1(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),bt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),W_(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:u,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ue(a)?this._returnResult({error:a}):this._returnResult({error:new Qs("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,o;try{const c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:un}),{data:u,error:m}=c;if(m||!u)return this._returnResult({data:{user:null,session:null},error:m});const p=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var a,r,o;try{let c;if("email"in t){const{email:g,password:b,options:x}=t;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await Ha(this.storage,this.storageKey)),c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:b,data:(a=x?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:_},xform:un})}else if("phone"in t){const{phone:g,password:b,options:x}=t;c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(r=x?.data)!==null&&r!==void 0?r:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:un})}else throw new eo("You must provide either an email or phone number and a password");const{data:u,error:m}=c;if(m||!u)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let a;if("email"in t){const{email:c,password:u,options:m}=t;a=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ay})}else if("phone"in t){const{phone:c,password:u,options:m}=t;a=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ay})}else throw new eo("You must provide either an email or phone number and a password");const{data:r,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const c=new Va;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,r,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,r,o,c,u,m,p,y,g,b,x;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:A,wallet:E,statement:k,options:L}=t;let R;if(bt())if(typeof E=="object")R=E;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")R=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const q=new URL((a=L?.url)!==null&&a!==void 0?a:window.location.href),K=await R.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=uv(K[0]);let te=(r=L?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!te){const Q=await R.request({method:"eth_chainId"});te=k1(Q)}const ne={domain:q.host,address:I,statement:k,uri:q.href,version:"1",chainId:te,nonce:(o=L?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=M1(ne),_=await R.request({method:"personal_sign",params:[D1(S),I]})}try{const{data:A,error:E}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:un});if(E)throw E;if(!A||!A.session||!A.user){const k=new Va;return this._returnResult({data:{user:null,session:null},error:k})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:E})}catch(A){if(ue(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var a,r,o,c,u,m,p,y,g,b,x,S;let _,A;if("message"in t)_=t.message,A=t.signature;else{const{chain:E,wallet:k,statement:L,options:R}=t;let q;if(bt())if(typeof k=="object")q=k;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))q=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=k}const K=new URL((a=R?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in q&&q.signIn){const I=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),L?{statement:L}:null));let te;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")te=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)te=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)_=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),A=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${K.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((y=R?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const I=await q.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:E,error:k}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Js(A)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:un});if(k)throw k;if(!E||!E.session||!E.user){const L=new Va;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:k})}catch(E){if(ue(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const a=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(a??"").split("/");try{if(!r&&this.flowType==="pkce")throw new e1;const{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:un});if(await gt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const m=new Va;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:a,provider:r,token:o,access_token:c,nonce:u}=t,m=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:un}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const g=new Va;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,r,o,c,u;try{if("email"in t){const{email:m,options:p}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Ha(this.storage,this.storageKey));const{error:b}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:p}=t,{data:y,error:g}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:g})}throw new eo("You must provide either an email or phone number.")}catch(m){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var a,r;try{let o,c;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:m}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:un});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,y=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(o){if(ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,r,o,c,u;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ha(this.storage,this.storageKey));const y=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:j1});return!((c=y.data)===null||c===void 0)&&c.url&&bt()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new Kt;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:c}=t,{error:u}=await me(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:r,type:o,options:c}=t,{data:u,error:m}=await me(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:m})}throw new eo("You must provide either an email or phone number and a type")}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<cd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await Gs(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=hd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=w1(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async a=>{var r,o,c;const{data:u,error:m}=a;if(m)throw m;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:bs})})}catch(a){if(ue(a))return ud(a)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new Kt;const u=o.session;let m=null,p=null;this.flowType==="pkce"&&t.email!=null&&([m,p]=await Ha(this.storage,this.storageKey));const{data:y,error:g}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:p}),jwt:u.access_token,xform:bs});if(g)throw g;return u.user=y.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const a=Date.now()/1e3;let r=a,o=!0,c=null;const{payload:u}=no(t.access_token);if(u.exp&&(r=u.exp,o=r<=a),o){const{data:m,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(a){if(ue(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:u,error:m}=a;if(m)throw m;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Kt;const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!bt())throw new to("No browser detected.");if(t.error||t.error_description||t.error_code)throw new to(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new xy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new to("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xy("No code detected.");const{data:L,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:m,expires_at:p,token_type:y}=t;if(!c||!m||!u||!y)throw new to("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(m);let x=g+b;p&&(x=parseInt(p));const S=x-g;S*1e3<=Ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const _=x-b;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,g);const{data:A,error:E}=await this._getUser(c);if(E)throw E;const k={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:x,refresh_token:u,token_type:y,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c&&!ud(c))return this._returnResult({error:c});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(Z_(m)&&(m.status===404||m.status===401||m.status===403)||ud(m)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=l1(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,o;try{const{data:{session:c},error:u}=a;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,a={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Ha(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:r,error:o}=await this._useSession(async c=>{var u,m,p,y,g;const{data:b,error:x}=c;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return bt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var r;try{const{error:o,data:{session:c}}=a;if(o)throw o;const{options:u,provider:m,token:p,access_token:y,nonce:g}=t,b=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:y,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:un}),{data:x,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Va}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,o;const{data:c,error:u}=a;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await d1(async o=>(o>0&&await u1(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:un})),(o,c)=>{const u=200*Math.pow(2,o);return c&&dd(c)&&Date.now()+u-r<Ia})}catch(r){if(this._debug(a,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),bt()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Gs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ya(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:hd()}else if(o&&!o.user&&!o.user){const u=await Gs(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await gt(this.storage,this.storageKey+"-user"),await Ya(this.storage,this.storageKey,o)):o.user=hd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<cd;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${cd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),dd(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(o.access_token);!m&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Oo;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new Kt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),ue(c)){const u={data:null,error:c};return dd(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,a)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ya(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=jy(o);await Ya(this.storage,this.storageKey,c)}else{const o=jy(a);await Ya(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ia}ms, refresh threshold is ${zd} ticks`),o<=zd&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const o=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await Ha(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(m.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;return c?this._returnResult({data:null,error:c}):await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,o;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:y}=await me(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?H1(t.webauthn.credential_response):q1(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:p}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:m}=u;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:z1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:V1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=a?.factors)!==null&&t!==void 0?t:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,r,o,c;if(t)try{const{payload:S}=no(t);let _=null;S.aal&&(_=S.aal);let A=_;const{data:{user:E},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((r=(a=E?.factors)===null||a===void 0?void 0:a.filter(q=>q.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(A="aal2");const R=S.amr||[];return{data:{currentLevel:_,nextLevel:A,currentAuthenticationMethods:R},error:null}}catch(S){if(ue(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=no(u.access_token);let y=null;p.aal&&(y=p.aal);let g=y;((c=(o=u.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(g="aal2");const x=p.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Kt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&bt()&&!a?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Kt});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&bt()&&!a?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;return r?this._returnResult({data:null,error:r}):a?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Kt})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:r},error:o}=a;return o?this._returnResult({data:null,error:o}):r?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Kt})})}catch(a){if(ue(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(m=>m.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===t),r&&this.jwks_cached_at+Q_>o)return r;const{data:c,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(m=>m.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:S,error:_}=await this.getSession();if(_||!S.session)return this._returnResult({data:null,error:_});r=S.session.access_token}const{header:o,payload:c,signature:u,raw:{header:m,payload:p}}=no(r);a?.allowExpired||v1(c.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!y){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:o,signature:u},error:null}}const g=b1(o.alg),b=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,u,i1(`${m}.${p}`)))throw new qd("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}br.nextInstanceID={};const J1=br,Z1="2.95.3";let rr="";typeof Deno<"u"?rr="deno":typeof document<"u"?rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rr="react-native":rr="node";const W1={"X-Client-Info":`supabase-js-${rr}/${Z1}`},eT={headers:W1},tT={schema:"public"},nT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sT={};function xr(n){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(n)}function aT(n,t){if(xr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(xr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function iT(n){var t=aT(n,"string");return xr(t)=="symbol"?t:t+""}function rT(n,t,a){return(t=iT(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function ky(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,r)}return a}function Xe(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(a),!0).forEach(function(r){rT(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):ky(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}const lT=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),oT=()=>Headers,cT=(n,t,a)=>{const r=lT(a),o=oT();return async(c,u)=>{var m;const p=(m=await t())!==null&&m!==void 0?m:n;let y=new o(u?.headers);return y.has("apikey")||y.set("apikey",n),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),r(c,Xe(Xe({},u),{},{headers:y}))}};function uT(n){return n.endsWith("/")?n:n+"/"}function dT(n,t){var a,r;const{db:o,auth:c,realtime:u,global:m}=n,{db:p,auth:y,realtime:g,global:b}=t,x={db:Xe(Xe({},p),o),auth:Xe(Xe({},y),c),realtime:Xe(Xe({},g),u),storage:{},global:Xe(Xe(Xe({},b),m),{},{headers:Xe(Xe({},(a=b?.headers)!==null&&a!==void 0?a:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function hT(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fT=class extends J1{constructor(n){super(n)}},mT=class{constructor(n,t,a){var r,o;this.supabaseUrl=n,this.supabaseKey=t;const c=hT(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:tT,realtime:sT,auth:Xe(Xe({},nT),{},{storageKey:u}),global:eT},p=dT(a??{},m);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=cT(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new ZS(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new K_(this.storageUrl.href,this.headers,this.fetch,a?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new GS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,a;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,userStorage:o,storageKey:c,flowType:u,lock:m,debug:p,throwOnError:y},g,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fT({url:this.authUrl.href,headers:Xe(Xe({},x),g),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,userStorage:o,flowType:u,lock:m,debug:p,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new p_(this.realtimeUrl.href,Xe(Xe({},n),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pT=(n,t,a)=>new mT(n,t,a);function yT(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}yT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gT="https://ydcxzufqdodiphhefdos.supabase.co",hv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkY3h6dWZxZG9kaXBoaGVmZG9zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODkyMjEsImV4cCI6MjA4NjA2NTIyMX0.6uBQ-QMZNYuLjnb_N5P7t2hzEpru0X83Ot2oqKLUTnY",ge=!!hv;let $d=null;ge&&($d=pT(gT,hv));function vT(){if(!$d)throw new Error("Supabase is not configured");return $d}function $e(){return vT()}function bT(n,t,a,r,o,c,u,m){return{id:n.id,name:n.name,age:n.birthday?yo(n.birthday):n.age,birthday:n.birthday||void 0,avatar:n.avatar,totalXP:n.total_xp,warriorRank:n.warrior_rank,currentPet:a?{id:a.id,type:a.type,name:a.name,level:mn(Number(t?.save_balance||0),Number(t?.save_baseline||0)),createdAt:a.created_at}:null,petStable:r.map(p=>({id:p.id,type:p.type,name:p.name,level:5,raisedToElderAt:p.raised_to_elder_at})),buckets:{save:{balance:Number(t?.save_balance||0),interestRate:Number(t?.save_interest_rate||5),baseline:Number(t?.save_baseline||0),interestDay:Number(t?.save_interest_day||0),lastInterestDate:t?.save_last_interest_date||void 0},spend:{balance:Number(t?.spend_balance||0),goals:o.map(p=>({id:p.id,name:p.name,targetAmount:Number(p.target_amount),currentAmount:Number(p.current_amount),visual:p.visual||void 0,visualType:p.visual_type,imageUrl:p.image_url||void 0,linkUrl:p.link_url||void 0,completed:p.completed,purchased:p.purchased,purchasedAt:p.purchased_at||void 0,createdAt:p.created_at}))},share:{balance:Number(t?.share_balance||0),totalGiven:Number(t?.share_total_given||0),customCauses:c.map(p=>({id:p.id,name:p.name,description:p.description||"",emoji:p.emoji||void 0,imageUrl:p.image_url||void 0,isCustom:!0}))}},pendingAllocation:n.pending_allocation?Number(n.pending_allocation):null,badges:u.map(p=>({type:p.type,name:p.name,threshold:p.threshold,earnedAt:p.earned_at})),transactions:m.map(p=>({id:p.id,type:p.type,amount:Number(p.amount),bucket:p.bucket,description:p.description||"",xpEarned:p.xp_earned,timestamp:p.created_at}))}}const Te={async getFamily(){if(!ge)return null;const{data:n,error:t}=await $e().from("families").select("*").limit(1);if(t||!n||n.length===0)return null;const a=n[0],r=await this.getKidsByFamily(a.id);return{id:a.id,name:a.name,kids:r,settings:{weeklyAllowances:{},parentPin:a.parent_pin||void 0}}},async createFamily(n){if(!ge)throw new Error("Supabase not configured");const{data:t,error:a}=await $e().from("families").insert({name:n}).select().single();if(a)throw a;return{id:t.id,name:t.name,kids:[],settings:{weeklyAllowances:{}}}},async updateFamilyPin(n,t){ge&&await $e().from("families").update({parent_pin:t}).eq("id",n)},async getKidsByFamily(n){if(!ge)return[];const{data:t,error:a}=await $e().from("kids").select("*").eq("family_id",n);if(a||!t)return[];const r=t.map(async o=>{const c=$e(),[u,m,p,y,g,b,x]=await Promise.all([c.from("buckets").select("*").eq("kid_id",o.id).single(),c.from("pets").select("*").eq("kid_id",o.id).single(),c.from("pet_stable").select("*").eq("kid_id",o.id),c.from("goals").select("*").eq("kid_id",o.id),c.from("custom_causes").select("*").eq("kid_id",o.id),c.from("badges").select("*").eq("kid_id",o.id),c.from("transactions").select("*").eq("kid_id",o.id).order("created_at",{ascending:!1})]);return bT(o,u.data,m.data,p.data||[],y.data||[],g.data||[],b.data||[],x.data||[])});return Promise.all(r)},async addKid(n,t,a,r,o){if(!ge)throw new Error("Supabase not configured");const c=$e(),{data:u,error:m}=await c.from("kids").insert({family_id:n,name:t,age:a,birthday:o||null,avatar:r,total_xp:0,warrior_rank:1}).select().single();if(m)throw m;return await c.from("buckets").insert({kid_id:u.id,save_balance:0,save_interest_rate:5,save_baseline:0,save_interest_day:0,spend_balance:0,share_balance:0,share_total_given:0}),{id:u.id,name:u.name,age:o?yo(o):u.age,birthday:o,avatar:u.avatar,totalXP:0,warriorRank:1,currentPet:null,petStable:[],buckets:{save:{balance:0,interestRate:5,baseline:0,interestDay:0},spend:{balance:0,goals:[]},share:{balance:0,totalGiven:0}},pendingAllocation:null,badges:[],transactions:[]}},async updateKidXP(n,t){if(!ge)return;const a=Is(t);await $e().from("kids").update({total_xp:t,warrior_rank:a}).eq("id",n)},async updateKid(n,t){ge&&await $e().from("kids").update(t).eq("id",n)},async updatePendingAllocation(n,t){ge&&await $e().from("kids").update({pending_allocation:t}).eq("id",n)},async updateBuckets(n,t,a,r,o){if(!ge)return;const c={save_balance:t,spend_balance:a,share_balance:r};o!==void 0&&(c.share_total_given=o),await $e().from("buckets").update(c).eq("kid_id",n)},async setInterestRate(n,t){ge&&await $e().from("buckets").update({save_interest_rate:t}).eq("kid_id",n)},async setBaseline(n,t){ge&&await $e().from("buckets").update({save_baseline:t}).eq("kid_id",n)},async setInterestDay(n,t){ge&&await $e().from("buckets").update({save_interest_day:t}).eq("kid_id",n)},async updateLastInterestDate(n,t){ge&&await $e().from("buckets").update({save_last_interest_date:t}).eq("kid_id",n)},async setPet(n,t,a,r){if(!ge)throw new Error("Supabase not configured");const o=$e();await o.from("pets").delete().eq("kid_id",n);const{data:c,error:u}=await o.from("pets").insert({kid_id:n,type:t,name:a,level:r}).select().single();if(u)throw u;return{id:c.id,type:c.type,name:c.name,level:c.level,createdAt:c.created_at}},async updatePetLevel(n,t){ge&&await $e().from("pets").update({level:t}).eq("kid_id",n)},async movePetToStable(n,t){if(!ge)return;const a=$e();await a.from("pet_stable").insert({kid_id:n,type:t.type,name:t.name}),await a.from("pets").delete().eq("id",t.id)},async addGoal(n,t,a,r,o,c){if(!ge)throw new Error("Supabase not configured");const{data:u,error:m}=await $e().from("goals").insert({kid_id:n,name:t,target_amount:a,visual:r,visual_type:o?"image":"emoji",image_url:o||null,link_url:c||null}).select().single();if(m)throw m;return{id:u.id,name:u.name,targetAmount:Number(u.target_amount),currentAmount:0,visual:u.visual||void 0,visualType:u.visual_type,imageUrl:u.image_url||void 0,linkUrl:u.link_url||void 0,completed:!1,purchased:!1,createdAt:u.created_at}},async fundGoal(n,t,a){ge&&await $e().from("goals").update({current_amount:t,completed:a}).eq("id",n)},async purchaseGoal(n){ge&&await $e().from("goals").update({purchased:!0,purchased_at:new Date().toISOString()}).eq("id",n)},async addCustomCause(n,t){ge&&await $e().from("custom_causes").insert({kid_id:n,name:t.name,description:t.description,emoji:t.emoji||null,image_url:t.imageUrl||null})},async addBadge(n,t){ge&&await $e().from("badges").insert({kid_id:n,type:t.type,name:t.name,threshold:t.threshold,earned_at:t.earnedAt})},async addTransaction(n,t){ge&&await $e().from("transactions").insert({kid_id:n,type:t.type,amount:t.amount,bucket:t.bucket||null,description:t.description||null,xp_earned:t.xpEarned||0})}},md="wealth-warriors-data",fv={family:null,currentMode:"parent",selectedKidId:null};function xT(n){const t=[...n.badges],a=n.buckets.share.totalGiven;for(const r of ir)!t.some(c=>c.type===r.type)&&a>=r.threshold&&t.push({type:r.type,name:r.name,threshold:r.threshold,earnedAt:new Date().toISOString()});return t}function Dy(n){if(!n.currentPet)return n;const t=n.buckets.save.baseline||0,a=mn(n.buckets.save.balance,t);return a===5&&n.currentPet.level<5?{...n,currentPet:{...n.currentPet,level:5}}:a!==n.currentPet.level?{...n,currentPet:{...n.currentPet,level:a}}:n}function wT(n,t){switch(t.type){case"SET_FAMILY":return{...n,family:t.payload};case"ADD_KID":{if(!n.family)return n;const{birthday:a}=t.payload,r={id:St(),name:t.payload.name,age:a?yo(a):t.payload.age,birthday:a,avatar:t.payload.avatar,totalXP:0,warriorRank:1,currentPet:null,petStable:[],buckets:{save:{balance:0,interestRate:5,baseline:0,interestDay:0},spend:{balance:0,goals:[]},share:{balance:0,totalGiven:0}},pendingAllocation:null,badges:[],transactions:[]};return{...n,family:{...n.family,kids:[...n.family.kids,r]}}}case"UPDATE_KID":{if(!n.family)return n;const{kidId:a,name:r,age:o,avatar:c,birthday:u}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(m=>m.id!==a?m:{...m,...r!==void 0&&{name:r},...o!==void 0&&{age:o},...c!==void 0&&{avatar:c},...u!==void 0&&{birthday:u,age:yo(u)}})}}}case"SET_PET":{if(!n.family)return n;const{kidId:a,petType:r,petName:o}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(c=>{if(c.id!==a)return c;const u=c.buckets.save.baseline||0,m={id:St(),type:r,name:o,level:mn(c.buckets.save.balance,u),createdAt:new Date().toISOString()};return{...c,currentPet:m}})}}}case"HATCH_NEW_PET":{if(!n.family)return n;const{kidId:a,petType:r,petName:o}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(c=>{if(c.id!==a)return c;let u=[...c.petStable];if(c.currentPet&&c.currentPet.level===5){const p={id:c.currentPet.id,type:c.currentPet.type,name:c.currentPet.name,level:5,raisedToElderAt:new Date().toISOString()};u=[...u,p]}const m={id:St(),type:r,name:o,level:0,createdAt:new Date().toISOString()};return{...c,currentPet:m,petStable:u}})}}}case"ADD_XP":{if(!n.family)return n;const{kidId:a,amount:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>{if(o.id!==a)return o;const c=o.totalXP+r,u=Is(c);return{...o,totalXP:c,warriorRank:u}})}}}case"SET_XP":{if(!n.family)return n;const{kidId:a,totalXP:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>{if(o.id!==a)return o;const c=Math.max(0,r),u=Is(c);return{...o,totalXP:c,warriorRank:u}})}}}case"GRANT_MONEY":{if(!n.family)return n;const{kidId:a,amount:r,description:o}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(c=>{if(c.id!==a)return c;const u={id:St(),type:"grant",amount:r,description:o,timestamp:new Date().toISOString()};return{...c,pendingAllocation:(c.pendingAllocation||0)+r,transactions:[u,...c.transactions]}})}}}case"ALLOCATE_MONEY":{if(!n.family)return n;const{kidId:a,save:r,spend:o,share:c}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(u=>{if(u.id!==a)return u;const m=new Date().toISOString(),p=[];let y=0;r>0&&(y+=Fe.ALLOCATE_TO_BUCKET),o>0&&(y+=Fe.ALLOCATE_TO_BUCKET),c>0&&(y+=Fe.ALLOCATE_TO_BUCKET);const g=u.buckets.save.baseline||0,b=u.buckets.save.balance+r,x=u.currentPet?.level||0;mn(b,g)>x&&(y+=Fe.PET_LEVEL_UP),r>0&&p.push({id:St(),type:"allocation",amount:r,bucket:"save",description:`Allocated $${r.toFixed(2)} to Save`,xpEarned:Fe.ALLOCATE_TO_BUCKET,timestamp:m}),o>0&&p.push({id:St(),type:"allocation",amount:o,bucket:"spend",description:`Allocated $${o.toFixed(2)} to Spend`,xpEarned:Fe.ALLOCATE_TO_BUCKET,timestamp:m}),c>0&&p.push({id:St(),type:"allocation",amount:c,bucket:"share",description:`Allocated $${c.toFixed(2)} to Share`,xpEarned:Fe.ALLOCATE_TO_BUCKET,timestamp:m});const _=u.totalXP+y,A=Is(_);let E={...u,pendingAllocation:null,totalXP:_,warriorRank:A,buckets:{save:{...u.buckets.save,balance:b},spend:{...u.buckets.spend,balance:u.buckets.spend.balance+o},share:{...u.buckets.share,balance:u.buckets.share.balance+c}},transactions:[...p,...u.transactions]};return E=Dy(E),E})}}}case"SET_INTEREST_RATE":{if(!n.family)return n;const{kidId:a,rate:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>o.id!==a?o:{...o,buckets:{...o.buckets,save:{...o.buckets.save,interestRate:r}}})}}}case"SET_BASELINE":{if(!n.family)return n;const{kidId:a,baseline:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>{if(o.id!==a)return o;const c=mn(o.buckets.save.balance,r);return{...o,currentPet:o.currentPet?{...o.currentPet,level:c}:null,buckets:{...o.buckets,save:{...o.buckets.save,baseline:r}}}})}}}case"SET_INTEREST_DAY":{if(!n.family)return n;const{kidId:a,day:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>o.id!==a?o:{...o,buckets:{...o.buckets,save:{...o.buckets.save,interestDay:r}}})}}}case"UPDATE_LAST_INTEREST_DATE":{if(!n.family)return n;const{kidId:a,date:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>o.id!==a?o:{...o,buckets:{...o.buckets,save:{...o.buckets.save,lastInterestDate:r}}})}}}case"ADD_GOAL":{if(!n.family)return n;const{kidId:a,name:r,targetAmount:o,icon:c,imageUrl:u,linkUrl:m}=t.payload,p={id:St(),name:r,targetAmount:o,currentAmount:0,visual:c,visualType:u?"image":"emoji",imageUrl:u,linkUrl:m,completed:!1,purchased:!1,createdAt:new Date().toISOString()};return{...n,family:{...n.family,kids:n.family.kids.map(y=>y.id!==a?y:{...y,buckets:{...y.buckets,spend:{...y.buckets.spend,goals:[...y.buckets.spend.goals,p]}}})}}}case"ADD_CUSTOM_CAUSE":{if(!n.family)return n;const{kidId:a,cause:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>o.id!==a?o:{...o,buckets:{...o.buckets,share:{...o.buckets.share,customCauses:[...o.buckets.share.customCauses||[],r]}}})}}}case"FUND_GOAL":{if(!n.family)return n;const{kidId:a,goalId:r,amount:o}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(c=>c.id!==a?c:{...c,buckets:{...c.buckets,spend:{...c.buckets.spend,goals:c.buckets.spend.goals.map(u=>{if(u.id!==r)return u;const m=u.currentAmount+o;return{...u,currentAmount:m,completed:m>=u.targetAmount}})}}})}}}case"PURCHASE_GOAL":{if(!n.family)return n;const{kidId:a,goalId:r}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(o=>{if(o.id!==a)return o;const c=o.buckets.spend.goals.find(g=>g.id===r);if(!c||c.purchased||o.buckets.spend.balance<c.targetAmount)return o;const u=Fe.COMPLETE_GOAL,m=o.totalXP+u,p=Is(m),y={id:St(),type:"goal_purchase",amount:-c.targetAmount,bucket:"spend",description:`Purchased: ${c.name}`,xpEarned:u,timestamp:new Date().toISOString()};return{...o,totalXP:m,warriorRank:p,buckets:{...o.buckets,spend:{balance:o.buckets.spend.balance-c.targetAmount,goals:o.buckets.spend.goals.map(g=>g.id!==r?g:{...g,purchased:!0,purchasedAt:new Date().toISOString()})}},transactions:[y,...o.transactions]}})}}}case"DONATE":{if(!n.family)return n;const{kidId:a,amount:r,causeName:o}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(c=>{if(c.id!==a||c.buckets.share.balance<r)return c;const u=Fe.COMPLETE_DONATION,m=c.totalXP+u,p=Is(m),y={id:St(),type:"donation",amount:-r,bucket:"share",description:`Donated to ${o}`,xpEarned:u,timestamp:new Date().toISOString()},g={...c,totalXP:m,warriorRank:p,buckets:{...c.buckets,share:{balance:c.buckets.share.balance-r,totalGiven:c.buckets.share.totalGiven+r}},transactions:[y,...c.transactions]};return g.badges=xT(g),g})}}}case"SET_WEEKLY_ALLOWANCE":{if(!n.family)return n;const{kidId:a,amount:r}=t.payload;return{...n,family:{...n.family,settings:{...n.family.settings,weeklyAllowances:{...n.family.settings.weeklyAllowances,[a]:r}}}}}case"APPLY_INTEREST":{if(!n.family)return n;const{kidId:a}=t.payload;return{...n,family:{...n.family,kids:n.family.kids.map(r=>{if(r.id!==a)return r;const o=r.buckets.save.interestRate/12/100,c=r.buckets.save.balance*o;if(c<=0)return r;const u=Fe.EARN_INTEREST,m=r.totalXP+u,p=Is(m),y={id:St(),type:"interest",amount:c,bucket:"save",description:`Monthly interest (${r.buckets.save.interestRate}% APR)`,xpEarned:u,timestamp:new Date().toISOString()},g=r.buckets.save.balance+c;let b={...r,totalXP:m,warriorRank:p,buckets:{...r.buckets,save:{...r.buckets.save,balance:g}},transactions:[y,...r.transactions]};return b=Dy(b),b})}}}case"SWITCH_MODE":return{...n,currentMode:t.payload,selectedKidId:null};case"SELECT_KID":return{...n,selectedKidId:t.payload};case"LOAD_STATE":return t.payload;case"SET_PARENT_PIN":return n.family?{...n,family:{...n.family,settings:{...n.family.settings,parentPin:t.payload}}}:n;case"RESET":return fv;default:return n}}const mv=H.createContext(null);function ST({children:n}){const[t,a]=H.useReducer(wT,fv),[r,o]=H.useState(!0);H.useEffect(()=>{async function $(){if(ge)try{const O=await Te.getFamily();O&&a({type:"LOAD_STATE",payload:{family:O,currentMode:"parent",selectedKidId:null}})}catch(O){console.error("Failed to load from Supabase:",O)}else{const O=localStorage.getItem(md);if(O)try{const ee=JSON.parse(O);a({type:"LOAD_STATE",payload:ee})}catch(ee){console.error("Failed to load saved state:",ee)}}o(!1)}$()},[]),H.useEffect(()=>{r||localStorage.setItem(md,JSON.stringify(t))},[t,r]),H.useEffect(()=>{if(r||!t.family)return;(async()=>{const O=new Date,ee=O.getDate(),ae=O.getMonth(),j=O.getFullYear(),z=O.toISOString().split("T")[0],ie=new Date(j,ae+1,0).getDate();for(const Y of t.family.kids){const{interestDay:ce,lastInterestDate:N}=Y.buckets.save;if(!ce||ce===0)continue;if(N){const se=new Date(N);if(se.getMonth()===ae&&se.getFullYear()===j)continue}if(ee>=(ce===-1?ie:ce)){console.log(`Auto-applying interest for ${Y.name} on day ${ee}`);const se=Y.buckets.save.interestRate/12/100,J=Y.buckets.save.balance*se;if(J>0){if(a({type:"APPLY_INTEREST",payload:{kidId:Y.id}}),a({type:"UPDATE_LAST_INTEREST_DATE",payload:{kidId:Y.id,date:z}}),ge)try{const pe=Y.buckets.save.balance+J;await Te.updateBuckets(Y.id,pe,Y.buckets.spend.balance,Y.buckets.share.balance);const we=Y.buckets.save.baseline||0,Ne=mn(pe,we);Y.currentPet&&Ne!==Y.currentPet.level&&await Te.updatePetLevel(Y.id,Ne);const dt=Y.totalXP+Fe.EARN_INTEREST;await Te.updateKidXP(Y.id,dt),await Te.updateLastInterestDate(Y.id,z)}catch(pe){console.error("Failed to auto-apply interest:",pe)}}else a({type:"UPDATE_LAST_INTEREST_DATE",payload:{kidId:Y.id,date:z}}),ge&&await Te.updateLastInterestDate(Y.id,z)}}})()},[r,t.family?.id]);const c=async $=>{let O;if(ge)try{O=await Te.createFamily($)}catch(ee){console.error("Failed to create family in Supabase:",ee),O={id:St(),name:$,kids:[],settings:{weeklyAllowances:{}}}}else O={id:St(),name:$,kids:[],settings:{weeklyAllowances:{}}};a({type:"SET_FAMILY",payload:O})},u=async($,O,ee,ae)=>{if(ge&&t.family)try{await Te.addKid(t.family.id,$,O,ee,ae)}catch(j){console.error("Failed to add kid in Supabase:",j)}a({type:"ADD_KID",payload:{name:$,age:O,avatar:ee,birthday:ae}})},m=async($,O)=>{if(a({type:"UPDATE_KID",payload:{kidId:$,...O}}),ge)try{await Te.updateKid($,O)}catch(ee){console.error("Failed to update kid in Supabase:",ee)}},p=async($,O,ee)=>{if(a({type:"GRANT_MONEY",payload:{kidId:$,amount:O,description:ee}}),ge)try{const j=(t.family?.kids.find(z=>z.id===$)?.pendingAllocation||0)+O;await Te.updatePendingAllocation($,j),await Te.addTransaction($,{id:St(),type:"grant",amount:O,description:ee,timestamp:new Date().toISOString()})}catch(ae){console.error("Failed to grant money in Supabase:",ae)}},y=async($,O,ee,ae)=>{if(a({type:"ALLOCATE_MONEY",payload:{kidId:$,save:O,spend:ee,share:ae}}),ge)try{const j=t.family?.kids.find(z=>z.id===$);if(j){const z=j.buckets.save.balance+O,ie=j.buckets.spend.balance+ee,Y=j.buckets.share.balance+ae;await Te.updateBuckets($,z,ie,Y),await Te.updatePendingAllocation($,null);const ce=j.buckets.save.baseline||0,N=j.currentPet?.level||0,X=mn(z,ce);j.currentPet&&X!==N&&await Te.updatePetLevel($,X);let se=0;O>0&&(se+=Fe.ALLOCATE_TO_BUCKET),ee>0&&(se+=Fe.ALLOCATE_TO_BUCKET),ae>0&&(se+=Fe.ALLOCATE_TO_BUCKET),X>N&&(se+=Fe.PET_LEVEL_UP);const J=j.totalXP+se;await Te.updateKidXP($,J)}}catch(j){console.error("Failed to allocate money in Supabase:",j)}},g=async($,O)=>{if(a({type:"SET_INTEREST_RATE",payload:{kidId:$,rate:O}}),ge)try{await Te.setInterestRate($,O)}catch(ee){console.error("Failed to set interest rate in Supabase:",ee)}},b=async($,O)=>{if(a({type:"SET_BASELINE",payload:{kidId:$,baseline:O}}),ge)try{await Te.setBaseline($,O);const ee=t.family?.kids.find(ae=>ae.id===$);if(ee?.currentPet){const ae=mn(ee.buckets.save.balance,O);await Te.updatePetLevel($,ae)}}catch(ee){console.error("Failed to set baseline in Supabase:",ee)}},x=async($,O)=>{if(a({type:"SET_INTEREST_DAY",payload:{kidId:$,day:O}}),ge)try{await Te.setInterestDay($,O)}catch(ee){console.error("Failed to set interest day in Supabase:",ee)}},S=async($,O,ee,ae,j,z)=>{if(a({type:"ADD_GOAL",payload:{kidId:$,name:O,targetAmount:ee,icon:ae,imageUrl:j,linkUrl:z}}),ge)try{await Te.addGoal($,O,ee,ae,j,z)}catch(ie){console.error("Failed to add goal in Supabase:",ie)}},_=async($,O)=>{if(a({type:"ADD_CUSTOM_CAUSE",payload:{kidId:$,cause:O}}),ge)try{await Te.addCustomCause($,O)}catch(ee){console.error("Failed to add custom cause in Supabase:",ee)}},A=async($,O,ee)=>{if(a({type:"FUND_GOAL",payload:{kidId:$,goalId:O,amount:ee}}),ge)try{const j=t.family?.kids.find(z=>z.id===$)?.buckets.spend.goals.find(z=>z.id===O);if(j){const z=j.currentAmount+ee,ie=z>=j.targetAmount;await Te.fundGoal(O,z,ie)}}catch(ae){console.error("Failed to fund goal in Supabase:",ae)}},E=async $=>{if(a({type:"SET_PARENT_PIN",payload:$}),ge&&t.family)try{await Te.updateFamilyPin(t.family.id,$)}catch(O){console.error("Failed to set parent pin in Supabase:",O)}},k=async($,O)=>{const ee=t.family?.kids.find(j=>j.id===$),ae=ee?.buckets.spend.goals.find(j=>j.id===O);if(a({type:"PURCHASE_GOAL",payload:{kidId:$,goalId:O}}),ge&&ee&&ae)try{await Te.purchaseGoal(O);const j=ee.buckets.spend.balance-ae.targetAmount;await Te.updateBuckets($,ee.buckets.save.balance,j,ee.buckets.share.balance);const z=ee.totalXP+Fe.COMPLETE_GOAL;await Te.updateKidXP($,z)}catch(j){console.error("Failed to purchase goal in Supabase:",j)}},L=async($,O,ee)=>{if(a({type:"DONATE",payload:{kidId:$,amount:O,causeName:ee}}),ge)try{const ae=t.family?.kids.find(j=>j.id===$);if(ae){const j=ae.buckets.share.balance-O,z=ae.buckets.share.totalGiven+O;await Te.updateBuckets($,ae.buckets.save.balance,ae.buckets.spend.balance,j,z);const ie=Fe.COMPLETE_DONATION,Y=ae.totalXP+ie;await Te.updateKidXP($,Y),await Te.addTransaction($,{id:St(),type:"donation",amount:-O,bucket:"share",description:`Donated to ${ee}`,xpEarned:ie,timestamp:new Date().toISOString()})}}catch(ae){console.error("Failed to donate in Supabase:",ae)}},R=($,O)=>{a({type:"SET_WEEKLY_ALLOWANCE",payload:{kidId:$,amount:O}})},q=async $=>{const O=new Date().toISOString().split("T")[0];if(a({type:"APPLY_INTEREST",payload:{kidId:$}}),a({type:"UPDATE_LAST_INTEREST_DATE",payload:{kidId:$,date:O}}),ge)try{const ee=t.family?.kids.find(ae=>ae.id===$);if(ee){const ae=ee.buckets.save.interestRate/12/100,j=ee.buckets.save.balance*ae;if(j>0){const z=ee.buckets.save.balance+j;await Te.updateBuckets($,z,ee.buckets.spend.balance,ee.buckets.share.balance);const ie=ee.buckets.save.baseline||0,Y=mn(z,ie);ee.currentPet&&Y!==ee.currentPet.level&&await Te.updatePetLevel($,Y);const ce=ee.totalXP+Fe.EARN_INTEREST;await Te.updateKidXP($,ce)}await Te.updateLastInterestDate($,O)}}catch(ee){console.error("Failed to apply interest in Supabase:",ee)}},K=$=>{a({type:"SWITCH_MODE",payload:$})},I=$=>{a({type:"SELECT_KID",payload:$})},te=()=>!t.family||!t.selectedKidId?null:t.family.kids.find($=>$.id===t.selectedKidId)||null,ne=async($,O,ee)=>{if(ge)try{const ae=t.family?.kids.find(ie=>ie.id===$),j=ae?.buckets.save.baseline||0,z=ae?mn(ae.buckets.save.balance,j):0;await Te.setPet($,O,ee,z)}catch(ae){console.error("Failed to set pet in Supabase:",ae)}a({type:"SET_PET",payload:{kidId:$,petType:O,petName:ee}})},Q=async($,O,ee)=>{if(ge)try{const ae=t.family?.kids.find(j=>j.id===$);ae?.currentPet&&ae.currentPet.level===5&&await Te.movePetToStable($,ae.currentPet),await Te.setPet($,O,ee,0)}catch(ae){console.error("Failed to hatch pet in Supabase:",ae)}a({type:"HATCH_NEW_PET",payload:{kidId:$,petType:O,petName:ee}})},W=async($,O)=>{if(a({type:"SET_XP",payload:{kidId:$,totalXP:O}}),ge)try{await Te.updateKidXP($,Math.max(0,O))}catch(ee){console.error("Failed to set XP in Supabase:",ee)}},he=()=>{localStorage.removeItem(md),a({type:"RESET"})};return h.jsx(mv.Provider,{value:{state:t,dispatch:a,isLoading:r,isSupabaseEnabled:ge,createFamily:c,addKid:u,updateKid:m,grantMoney:p,allocateMoney:y,setInterestRate:g,setBaseline:b,setInterestDay:x,addGoal:S,addCustomCause:_,fundGoal:A,purchaseGoal:k,setParentPin:E,donate:L,setWeeklyAllowance:R,applyInterest:q,switchMode:K,selectKid:I,getSelectedKid:te,setPet:ne,hatchNewPet:Q,setXP:W,resetApp:he},children:n})}function pn(){const n=H.useContext(mv);if(!n)throw new Error("useApp must be used within an AppProvider");return n}const gh=H.createContext({});function vh(n){const t=H.useRef(null);return t.current===null&&(t.current=n()),t.current}const pv=typeof window<"u",yv=pv?H.useLayoutEffect:H.useEffect,ko=H.createContext(null);function bh(n,t){n.indexOf(t)===-1&&n.push(t)}function xh(n,t){const a=n.indexOf(t);a>-1&&n.splice(a,1)}const _n=(n,t,a)=>a>t?t:a<n?n:a;let wh=()=>{};const Gn={},gv=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function vv(n){return typeof n=="object"&&n!==null}const bv=n=>/^0[^.\s]+$/u.test(n);function Sh(n){let t;return()=>(t===void 0&&(t=n()),t)}const an=n=>n,_T=(n,t)=>a=>t(n(a)),Nr=(...n)=>n.reduce(_T),wr=(n,t,a)=>{const r=t-n;return r===0?1:(a-n)/r};class _h{constructor(){this.subscriptions=[]}add(t){return bh(this.subscriptions,t),()=>xh(this.subscriptions,t)}notify(t,a,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,a,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wn=n=>n*1e3,sn=n=>n/1e3;function xv(n,t){return t?n*(1e3/t):0}const wv=(n,t,a)=>(((1-3*a+3*t)*n+(3*a-6*t))*n+3*t)*n,TT=1e-7,jT=12;function ET(n,t,a,r,o){let c,u,m=0;do u=t+(a-t)/2,c=wv(u,r,o)-n,c>0?a=u:t=u;while(Math.abs(c)>TT&&++m<jT);return u}function Cr(n,t,a,r){if(n===t&&a===r)return an;const o=c=>ET(c,0,1,n,a);return c=>c===0||c===1?c:wv(o(c),t,r)}const Sv=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,_v=n=>t=>1-n(1-t),Tv=Cr(.33,1.53,.69,.99),Th=_v(Tv),jv=Sv(Th),Ev=n=>(n*=2)<1?.5*Th(n):.5*(2-Math.pow(2,-10*(n-1))),jh=n=>1-Math.sin(Math.acos(n)),Av=_v(jh),Nv=Sv(jh),AT=Cr(.42,0,1,1),NT=Cr(0,0,.58,1),Cv=Cr(.42,0,.58,1),CT=n=>Array.isArray(n)&&typeof n[0]!="number",Rv=n=>Array.isArray(n)&&typeof n[0]=="number",RT={linear:an,easeIn:AT,easeInOut:Cv,easeOut:NT,circIn:jh,circInOut:Nv,circOut:Av,backIn:Th,backInOut:jv,backOut:Tv,anticipate:Ev},OT=n=>typeof n=="string",My=n=>{if(Rv(n)){wh(n.length===4);const[t,a,r,o]=n;return Cr(t,a,r,o)}else if(OT(n))return RT[n];return n},so=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kT(n,t){let a=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(y.schedule(g),n()),g(m)}const y={schedule:(g,b=!1,x=!1)=>{const _=x&&o?a:r;return b&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(m=g,o){c=!0;return}o=!0,[a,r]=[r,a],a.forEach(p),a.clear(),o=!1,c&&(c=!1,y.process(g))}};return y}const DT=40;function Ov(n,t){let a=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,u=so.reduce((R,q)=>(R[q]=kT(c),R),{}),{setup:m,read:p,resolveKeyframes:y,preUpdate:g,update:b,preRender:x,render:S,postRender:_}=u,A=()=>{const R=Gn.useManualTiming?o.timestamp:performance.now();a=!1,Gn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(R-o.timestamp,DT),1)),o.timestamp=R,o.isProcessing=!0,m.process(o),p.process(o),y.process(o),g.process(o),b.process(o),x.process(o),S.process(o),_.process(o),o.isProcessing=!1,a&&t&&(r=!1,n(A))},E=()=>{a=!0,r=!0,o.isProcessing||n(A)};return{schedule:so.reduce((R,q)=>{const K=u[q];return R[q]=(I,te=!1,ne=!1)=>(a||E(),K.schedule(I,te,ne)),R},{}),cancel:R=>{for(let q=0;q<so.length;q++)u[so[q]].cancel(R)},state:o,steps:u}}const{schedule:ze,cancel:ws,state:xt,steps:pd}=Ov(typeof requestAnimationFrame<"u"?requestAnimationFrame:an,!0);let lo;function MT(){lo=void 0}const Et={now:()=>(lo===void 0&&Et.set(xt.isProcessing||Gn.useManualTiming?xt.timestamp:performance.now()),lo),set:n=>{lo=n,queueMicrotask(MT)}},kv=n=>t=>typeof t=="string"&&t.startsWith(n),Dv=kv("--"),LT=kv("var(--"),Eh=n=>LT(n)?UT.test(n.split("/*")[0].trim()):!1,UT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Ly(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const ii={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sr={...ii,transform:n=>_n(0,1,n)},ao={...ii,default:1},ur=n=>Math.round(n*1e5)/1e5,Ah=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PT(n){return n==null}const BT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nh=(n,t)=>a=>!!(typeof a=="string"&&BT.test(a)&&a.startsWith(n)||t&&!PT(a)&&Object.prototype.hasOwnProperty.call(a,t)),Mv=(n,t,a)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(Ah);return{[n]:parseFloat(o),[t]:parseFloat(c),[a]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},zT=n=>_n(0,255,n),yd={...ii,transform:n=>Math.round(zT(n))},Zs={test:Nh("rgb","red"),parse:Mv("red","green","blue"),transform:({red:n,green:t,blue:a,alpha:r=1})=>"rgba("+yd.transform(n)+", "+yd.transform(t)+", "+yd.transform(a)+", "+ur(Sr.transform(r))+")"};function VT(n){let t="",a="",r="",o="";return n.length>5?(t=n.substring(1,3),a=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),a=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,a+=a,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Gd={test:Nh("#"),parse:VT,transform:Zs.transform},Rr=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),gs=Rr("deg"),Sn=Rr("%"),le=Rr("px"),HT=Rr("vh"),qT=Rr("vw"),Uy={...Sn,parse:n=>Sn.parse(n)/100,transform:n=>Sn.transform(n*100)},Qa={test:Nh("hsl","hue"),parse:Mv("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sn.transform(ur(t))+", "+Sn.transform(ur(a))+", "+ur(Sr.transform(r))+")"},it={test:n=>Zs.test(n)||Gd.test(n)||Qa.test(n),parse:n=>Zs.test(n)?Zs.parse(n):Qa.test(n)?Qa.parse(n):Gd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zs.transform(n):Qa.transform(n),getAnimatableNone:n=>{const t=it.parse(n);return t.alpha=0,it.transform(t)}},$T=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GT(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ah)?.length||0)+(n.match($T)?.length||0)>0}const Lv="number",Uv="color",KT="var",IT="var(",Py="${}",YT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _r(n){const t=n.toString(),a=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(YT,p=>(it.test(p)?(r.color.push(c),o.push(Uv),a.push(it.parse(p))):p.startsWith(IT)?(r.var.push(c),o.push(KT),a.push(p)):(r.number.push(c),o.push(Lv),a.push(parseFloat(p))),++c,Py)).split(Py);return{values:a,split:m,indexes:r,types:o}}function Pv(n){return _r(n).values}function Bv(n){const{split:t,types:a}=_r(n),r=t.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],o[u]!==void 0){const m=a[u];m===Lv?c+=ur(o[u]):m===Uv?c+=it.transform(o[u]):c+=o[u]}return c}}const XT=n=>typeof n=="number"?0:it.test(n)?it.getAnimatableNone(n):n;function FT(n){const t=Pv(n);return Bv(n)(t.map(XT))}const Ss={test:GT,parse:Pv,createTransformer:Bv,getAnimatableNone:FT};function gd(n,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(t-n)*6*a:a<1/2?t:a<2/3?n+(t-n)*(2/3-a)*6:n}function QT({hue:n,saturation:t,lightness:a,alpha:r}){n/=360,t/=100,a/=100;let o=0,c=0,u=0;if(!t)o=c=u=a;else{const m=a<.5?a*(1+t):a+t-a*t,p=2*a-m;o=gd(p,m,n+1/3),c=gd(p,m,n),u=gd(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function xo(n,t){return a=>a>0?t:n}const Ge=(n,t,a)=>n+(t-n)*a,vd=(n,t,a)=>{const r=n*n,o=a*(t*t-r)+r;return o<0?0:Math.sqrt(o)},JT=[Gd,Zs,Qa],ZT=n=>JT.find(t=>t.test(n));function By(n){const t=ZT(n);if(!t)return!1;let a=t.parse(n);return t===Qa&&(a=QT(a)),a}const zy=(n,t)=>{const a=By(n),r=By(t);if(!a||!r)return xo(n,t);const o={...a};return c=>(o.red=vd(a.red,r.red,c),o.green=vd(a.green,r.green,c),o.blue=vd(a.blue,r.blue,c),o.alpha=Ge(a.alpha,r.alpha,c),Zs.transform(o))},Kd=new Set(["none","hidden"]);function WT(n,t){return Kd.has(n)?a=>a<=0?n:t:a=>a>=1?t:n}function ej(n,t){return a=>Ge(n,t,a)}function Ch(n){return typeof n=="number"?ej:typeof n=="string"?Eh(n)?xo:it.test(n)?zy:sj:Array.isArray(n)?zv:typeof n=="object"?it.test(n)?zy:tj:xo}function zv(n,t){const a=[...n],r=a.length,o=n.map((c,u)=>Ch(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)a[u]=o[u](c);return a}}function tj(n,t){const a={...n,...t},r={};for(const o in a)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Ch(n[o])(n[o],t[o]));return o=>{for(const c in r)a[c]=r[c](o);return a}}function nj(n,t){const a=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=n.indexes[c][r[c]],m=n.values[u]??0;a[o]=m,r[c]++}return a}const sj=(n,t)=>{const a=Ss.createTransformer(t),r=_r(n),o=_r(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Kd.has(n)&&!o.values.length||Kd.has(t)&&!r.values.length?WT(n,t):Nr(zv(nj(r,o),o.values),a):xo(n,t)};function Vv(n,t,a){return typeof n=="number"&&typeof t=="number"&&typeof a=="number"?Ge(n,t,a):Ch(n)(n,t)}const aj=n=>{const t=({timestamp:a})=>n(a);return{start:(a=!0)=>ze.update(t,a),stop:()=>ws(t),now:()=>xt.isProcessing?xt.timestamp:Et.now()}},Hv=(n,t,a=10)=>{let r="";const o=Math.max(Math.round(t/a),2);for(let c=0;c<o;c++)r+=Math.round(n(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wo=2e4;function Rh(n){let t=0;const a=50;let r=n.next(t);for(;!r.done&&t<wo;)t+=a,r=n.next(t);return t>=wo?1/0:t}function ij(n,t=100,a){const r=a({...n,keyframes:[0,t]}),o=Math.min(Rh(r),wo);return{type:"keyframes",ease:c=>r.next(o*c).value/t,duration:sn(o)}}const rj=5;function qv(n,t,a){const r=Math.max(t-rj,0);return xv(a-n(r),t-r)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bd=.001;function lj({duration:n=Qe.duration,bounce:t=Qe.bounce,velocity:a=Qe.velocity,mass:r=Qe.mass}){let o,c,u=1-t;u=_n(Qe.minDamping,Qe.maxDamping,u),n=_n(Qe.minDuration,Qe.maxDuration,sn(n)),u<1?(o=y=>{const g=y*u,b=g*n,x=g-a,S=Id(y,u),_=Math.exp(-b);return bd-x/S*_},c=y=>{const b=y*u*n,x=b*a+a,S=Math.pow(u,2)*Math.pow(y,2)*n,_=Math.exp(-b),A=Id(Math.pow(y,2),u);return(-o(y)+bd>0?-1:1)*((x-S)*_)/A}):(o=y=>{const g=Math.exp(-y*n),b=(y-a)*n+1;return-bd+g*b},c=y=>{const g=Math.exp(-y*n),b=(a-y)*(n*n);return g*b});const m=5/n,p=cj(o,c,m);if(n=wn(n),isNaN(p))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:n};{const y=Math.pow(p,2)*r;return{stiffness:y,damping:u*2*Math.sqrt(r*y),duration:n}}}const oj=12;function cj(n,t,a){let r=a;for(let o=1;o<oj;o++)r=r-n(r)/t(r);return r}function Id(n,t){return n*Math.sqrt(1-t*t)}const uj=["duration","bounce"],dj=["stiffness","damping","mass"];function Vy(n,t){return t.some(a=>n[a]!==void 0)}function hj(n){let t={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...n};if(!Vy(n,dj)&&Vy(n,uj))if(n.visualDuration){const a=n.visualDuration,r=2*Math.PI/(a*1.2),o=r*r,c=2*_n(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Qe.mass,stiffness:o,damping:c}}else{const a=lj(n);t={...t,...a,mass:Qe.mass},t.isResolvedFromDuration=!0}return t}function So(n=Qe.visualDuration,t=Qe.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=a;const c=a.keyframes[0],u=a.keyframes[a.keyframes.length-1],m={done:!1,value:c},{stiffness:p,damping:y,mass:g,duration:b,velocity:x,isResolvedFromDuration:S}=hj({...a,velocity:-sn(a.velocity||0)}),_=x||0,A=y/(2*Math.sqrt(p*g)),E=u-c,k=sn(Math.sqrt(p/g)),L=Math.abs(E)<5;r||(r=L?Qe.restSpeed.granular:Qe.restSpeed.default),o||(o=L?Qe.restDelta.granular:Qe.restDelta.default);let R;if(A<1){const K=Id(k,A);R=I=>{const te=Math.exp(-A*k*I);return u-te*((_+A*k*E)/K*Math.sin(K*I)+E*Math.cos(K*I))}}else if(A===1)R=K=>u-Math.exp(-k*K)*(E+(_+k*E)*K);else{const K=k*Math.sqrt(A*A-1);R=I=>{const te=Math.exp(-A*k*I),ne=Math.min(K*I,300);return u-te*((_+A*k*E)*Math.sinh(ne)+K*E*Math.cosh(ne))/K}}const q={calculatedDuration:S&&b||null,next:K=>{const I=R(K);if(S)m.done=K>=b;else{let te=K===0?_:0;A<1&&(te=K===0?wn(_):qv(R,K,I));const ne=Math.abs(te)<=r,Q=Math.abs(u-I)<=o;m.done=ne&&Q}return m.value=m.done?u:I,m},toString:()=>{const K=Math.min(Rh(q),wo),I=Hv(te=>q.next(K*te).value,K,30);return K+"ms "+I},toTransition:()=>{}};return q}So.applyToOptions=n=>{const t=ij(n,100,So);return n.ease=t.ease,n.duration=wn(t.duration),n.type="keyframes",n};function Yd({keyframes:n,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:p,restDelta:y=.5,restSpeed:g}){const b=n[0],x={done:!1,value:b},S=ne=>m!==void 0&&ne<m||p!==void 0&&ne>p,_=ne=>m===void 0?p:p===void 0||Math.abs(m-ne)<Math.abs(p-ne)?m:p;let A=a*t;const E=b+A,k=u===void 0?E:u(E);k!==E&&(A=k-b);const L=ne=>-A*Math.exp(-ne/r),R=ne=>k+L(ne),q=ne=>{const Q=L(ne),W=R(ne);x.done=Math.abs(Q)<=y,x.value=x.done?k:W};let K,I;const te=ne=>{S(x.value)&&(K=ne,I=So({keyframes:[x.value,_(x.value)],velocity:qv(R,ne,x.value),damping:o,stiffness:c,restDelta:y,restSpeed:g}))};return te(0),{calculatedDuration:null,next:ne=>{let Q=!1;return!I&&K===void 0&&(Q=!0,q(ne),te(ne)),K!==void 0&&ne>=K?I.next(ne-K):(!Q&&q(ne),x)}}}function fj(n,t,a){const r=[],o=a||Gn.mix||Vv,c=n.length-1;for(let u=0;u<c;u++){let m=o(n[u],n[u+1]);if(t){const p=Array.isArray(t)?t[u]||an:t;m=Nr(p,m)}r.push(m)}return r}function mj(n,t,{clamp:a=!0,ease:r,mixer:o}={}){const c=n.length;if(wh(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=fj(t,r,o),p=m.length,y=g=>{if(u&&g<n[0])return t[0];let b=0;if(p>1)for(;b<n.length-2&&!(g<n[b+1]);b++);const x=wr(n[b],n[b+1],g);return m[b](x)};return a?g=>y(_n(n[0],n[c-1],g)):y}function pj(n,t){const a=n[n.length-1];for(let r=1;r<=t;r++){const o=wr(0,t,r);n.push(Ge(a,1,o))}}function yj(n){const t=[0];return pj(t,n.length-1),t}function gj(n,t){return n.map(a=>a*t)}function vj(n,t){return n.map(()=>t||Cv).splice(0,n.length-1)}function dr({duration:n=300,keyframes:t,times:a,ease:r="easeInOut"}){const o=CT(r)?r.map(My):My(r),c={done:!1,value:t[0]},u=gj(a&&a.length===t.length?a:yj(t),n),m=mj(u,t,{ease:Array.isArray(o)?o:vj(t,o)});return{calculatedDuration:n,next:p=>(c.value=m(p),c.done=p>=n,c)}}const bj=n=>n!==null;function Oh(n,{repeat:t,repeatType:a="loop"},r,o=1){const c=n.filter(bj),m=o<0||t&&a!=="loop"&&t%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const xj={decay:Yd,inertia:Yd,tween:dr,keyframes:dr,spring:So};function $v(n){typeof n.type=="string"&&(n.type=xj[n.type])}class kh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const wj=n=>n/100;class Dh extends kh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Et.now()&&this.tick(Et.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$v(t);const{type:a=dr,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:m}=t;const p=a||dr;p!==dr&&typeof m[0]!="number"&&(this.mixKeyframes=Nr(wj,Vv(m[0],m[1])),m=[0,100]);const y=p({...t,keyframes:m});c==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=Rh(y));const{calculatedDuration:g}=y;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=y}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:S,type:_,onUpdate:A,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const k=this.currentTime-y*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,q=r;if(b){const ne=Math.min(this.currentTime,o)/m;let Q=Math.floor(ne),W=ne%1;!W&&ne>=1&&(W=1),W===1&&Q--,Q=Math.min(Q,b+1),Q%2&&(x==="reverse"?(W=1-W,S&&(W-=S/m)):x==="mirror"&&(q=u)),R=_n(0,1,W)*m}const K=L?{done:!1,value:g[0]}:q.next(R);c&&(K.value=c(K.value));let{done:I}=K;!L&&p!==null&&(I=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return te&&_!==Yd&&(K.value=Oh(g,this.options,E,this.speed)),A&&A(K.value),te&&this.finish(),K}then(t,a){return this.finished.then(t,a)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sn(t)}get time(){return sn(this.currentTime)}set time(t){t=wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Et.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=sn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=aj,startTime:a}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Et.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Sj(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ws=n=>n*180/Math.PI,Xd=n=>{const t=Ws(Math.atan2(n[1],n[0]));return Fd(t)},_j={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Xd,rotateZ:Xd,skewX:n=>Ws(Math.atan(n[1])),skewY:n=>Ws(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Fd=n=>(n=n%360,n<0&&(n+=360),n),Hy=Xd,qy=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),$y=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Tj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qy,scaleY:$y,scale:n=>(qy(n)+$y(n))/2,rotateX:n=>Fd(Ws(Math.atan2(n[6],n[5]))),rotateY:n=>Fd(Ws(Math.atan2(-n[2],n[0]))),rotateZ:Hy,rotate:Hy,skewX:n=>Ws(Math.atan(n[4])),skewY:n=>Ws(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Qd(n){return n.includes("scale")?1:0}function Jd(n,t){if(!n||n==="none")return Qd(t);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(a)r=Tj,o=a;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_j,o=m}if(!o)return Qd(t);const c=r[t],u=o[1].split(",").map(Ej);return typeof c=="function"?c(u):u[c]}const jj=(n,t)=>{const{transform:a="none"}=getComputedStyle(n);return Jd(a,t)};function Ej(n){return parseFloat(n.trim())}const ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(ri),Gy=n=>n===ii||n===le,Aj=new Set(["x","y","z"]),Nj=ri.filter(n=>!Aj.has(n));function Cj(n){const t=[];return Nj.forEach(a=>{const r=n.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const xs={width:({x:n},{paddingLeft:t="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),height:({y:n},{paddingTop:t="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Jd(t,"x"),y:(n,{transform:t})=>Jd(t,"y")};xs.translateX=xs.x;xs.translateY=xs.y;const ea=new Set;let Zd=!1,Wd=!1,eh=!1;function Gv(){if(Wd){const n=Array.from(ea).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),a=new Map;t.forEach(r=>{const o=Cj(r);o.length&&(a.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=a.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wd=!1,Zd=!1,ea.forEach(n=>n.complete(eh)),ea.clear()}function Kv(){ea.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Wd=!0)})}function Rj(){eh=!0,Kv(),Gv(),eh=!1}class Mh{constructor(t,a,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),Zd||(Zd=!0,ze.read(Kv),ze.resolveKeyframes(Gv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:o}=this;if(t[0]===null){const c=o?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&a){const m=r.readValue(a,u);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}Sj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Oj=n=>n.startsWith("--");function kj(n,t,a){Oj(t)?n.style.setProperty(t,a):n.style[t]=a}const Dj=Sh(()=>window.ScrollTimeline!==void 0),Mj={};function Lj(n,t){const a=Sh(n);return()=>Mj[t]??a()}const Iv=Lj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lr=([n,t,a,r])=>`cubic-bezier(${n}, ${t}, ${a}, ${r})`,Ky={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lr([0,.65,.55,1]),circOut:lr([.55,0,1,.45]),backIn:lr([.31,.01,.66,-.59]),backOut:lr([.33,1.53,.69,.99])};function Yv(n,t){if(n)return typeof n=="function"?Iv()?Hv(n,t):"ease-out":Rv(n)?lr(n):Array.isArray(n)?n.map(a=>Yv(a,t)||Ky.easeOut):Ky[n]}function Uj(n,t,a,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:p}={},y=void 0){const g={[t]:a};p&&(g.offset=p);const b=Yv(m,o);Array.isArray(b)&&(g.easing=b);const x={delay:r,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(x.pseudoElement=y),n.animate(g,x)}function Xv(n){return typeof n=="function"&&"applyToOptions"in n}function Pj({type:n,...t}){return Xv(n)&&Iv()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Bj extends kh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:a,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,wh(typeof t.type!="string");const y=Pj(t);this.animation=Uj(a,r,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Oh(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(g):kj(a,r,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return sn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sn(t)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Dj()?(this.animation.timeline=t,an):a(this)}}const Fv={anticipate:Ev,backInOut:jv,circInOut:Nv};function zj(n){return n in Fv}function Vj(n){typeof n.ease=="string"&&zj(n.ease)&&(n.ease=Fv[n.ease])}const xd=10;class Hj extends Bj{constructor(t){Vj(t),$v(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const m=new Dh({...u,autoplay:!1}),p=Math.max(xd,Et.now()-this.startTime),y=_n(0,xd,p-xd);a.setWithVelocity(m.sample(Math.max(0,p-y)).value,m.sample(p).value,y),m.stop()}}const Iy=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ss.test(n)||n==="0")&&!n.startsWith("url("));function qj(n){const t=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==t)return!0}function $j(n,t,a,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=n[n.length-1],u=Iy(o,t),m=Iy(c,t);return!u||!m?!1:qj(n)||(a==="spring"||Xv(a))&&r}function th(n){n.duration=0,n.type="keyframes"}const Gj=new Set(["opacity","clipPath","filter","transform"]),Kj=Sh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ij(n){const{motionValue:t,name:a,repeatDelay:r,repeatType:o,damping:c,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=t.owner.getProps();return Kj()&&a&&Gj.has(a)&&(a!=="transform"||!y)&&!p&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const Yj=40;class Xj extends kh{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:p,motionValue:y,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Et.now();const x={autoplay:t,delay:a,type:r,repeat:o,repeatDelay:c,repeatType:u,name:p,motionValue:y,element:g,...b},S=g?.KeyframeResolver||Mh;this.keyframeResolver=new S(m,(_,A,E)=>this.onKeyframesResolved(_,A,x,!E),p,y,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:p,isHandoff:y,onUpdate:g}=r;this.resolvedAt=Et.now(),$j(t,c,u,m)||((Gn.instantAnimations||!p)&&g?.(Oh(t,r,a)),t[0]=t[t.length-1],th(r),r.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Yj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},S=!y&&Ij(x),_=x.motionValue?.owner?.current,A=S?new Hj({...x,element:_}):new Dh(x);A.finished.then(()=>{this.notifyFinished()}).catch(an),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Rj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Qv(n,t,a,r=0,o=1){const c=Array.from(n).sort((y,g)=>y.sortNodePosition(g)).indexOf(t),u=n.size,m=(u-1)*r;return typeof a=="function"?a(c,u):o===1?c*r:m-c*r}const Fj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qj(n){const t=Fj.exec(n);if(!t)return[,];const[,a,r,o]=t;return[`--${a??r}`,o]}function Jv(n,t,a=1){const[r,o]=Qj(n);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return gv(u)?parseFloat(u):u}return Eh(o)?Jv(o,t,a+1):o}const Jj={type:"spring",stiffness:500,damping:25,restSpeed:10},Zj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Wj={type:"keyframes",duration:.8},eE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tE=(n,{keyframes:t})=>t.length>2?Wj:li.has(n)?n.startsWith("scale")?Zj(t[1]):Jj:eE,nE=n=>n!==null;function sE(n,{repeat:t,repeatType:a="loop"},r){const o=n.filter(nE),c=t&&a!=="loop"&&t%2===1?0:o.length-1;return o[c]}function Zv(n,t){if(n?.inherit&&t){const{inherit:a,...r}=n;return{...t,...r}}return n}function Lh(n,t){const a=n?.[t]??n?.default??n;return a!==n?Zv(a,n):a}function aE({when:n,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:p,elapsed:y,...g}){return!!Object.keys(g).length}const Uh=(n,t,a,r={},o,c)=>u=>{const m=Lh(r,n)||{},p=m.delay||r.delay||0;let{elapsed:y=0}=r;y=y-wn(p);const g={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-y,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:c?void 0:o};aE(m)||Object.assign(g,tE(n,g)),g.duration&&(g.duration=wn(g.duration)),g.repeatDelay&&(g.repeatDelay=wn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(th(g),g.delay===0&&(b=!0)),(Gn.instantAnimations||Gn.skipAnimations||o?.shouldSkipAnimations)&&(b=!0,th(g),g.delay=0),g.allowFlatten=!m.type&&!m.ease,b&&!c&&t.get()!==void 0){const x=sE(g.keyframes,m);if(x!==void 0){ze.update(()=>{g.onUpdate(x),g.onComplete()});return}}return m.isSync?new Dh(g):new Xj(g)};function Yy(n){const t=[{},{}];return n?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function Ph(n,t,a,r){if(typeof t=="function"){const[o,c]=Yy(r);t=t(a!==void 0?a:n.custom,o,c)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,c]=Yy(r);t=t(a!==void 0?a:n.custom,o,c)}return t}function ni(n,t,a){const r=n.getProps();return Ph(r,t,a!==void 0?a:r.custom,n)}const Wv=new Set(["width","height","top","left","right","bottom",...ri]),Xy=30,iE=n=>!isNaN(parseFloat(n));class rE{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Et.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new _h);const r=this.events[t].add(a);return t==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Xy)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Xy);return xv(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function si(n,t){return new rE(n,t)}const nh=n=>Array.isArray(n);function lE(n,t,a){n.hasValue(t)?n.getValue(t).set(a):n.addValue(t,si(a))}function oE(n){return nh(n)?n[n.length-1]||0:n}function cE(n,t){const a=ni(n,t);let{transitionEnd:r={},transition:o={},...c}=a||{};c={...c,...r};for(const u in c){const m=oE(c[u]);lE(n,u,m)}}const Tt=n=>!!(n&&n.getVelocity);function uE(n){return!!(Tt(n)&&n.add)}function sh(n,t){const a=n.getValue("willChange");if(uE(a))return a.add(t);if(!a&&Gn.WillChange){const r=new Gn.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Bh(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const dE="framerAppearId",eb="data-"+Bh(dE);function tb(n){return n.props[eb]}function hE({protectedKeys:n,needsAnimating:t},a){const r=n.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function nb(n,t,{delay:a=0,transitionOverride:r,type:o}={}){let{transition:c,transitionEnd:u,...m}=t;const p=n.getDefaultTransition();c=c?Zv(c,p):p;const y=c?.reduceMotion;r&&(c=r);const g=[],b=o&&n.animationState&&n.animationState.getState()[o];for(const x in m){const S=n.getValue(x,n.latestValues[x]??null),_=m[x];if(_===void 0||b&&hE(b,x))continue;const A={delay:a,...Lh(c||{},x)},E=S.get();if(E!==void 0&&!S.isAnimating&&!Array.isArray(_)&&_===E&&!A.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const q=tb(n);if(q){const K=window.MotionHandoffAnimation(q,x,ze);K!==null&&(A.startTime=K,k=!0)}}sh(n,x);const L=y??n.shouldReduceMotion;S.start(Uh(x,S,_,L&&Wv.has(x)?{type:!1}:A,n,k));const R=S.animation;R&&g.push(R)}if(u){const x=()=>ze.update(()=>{u&&cE(n,u)});g.length?Promise.all(g).then(x):x()}return g}function ah(n,t,a={}){const r=ni(n,t,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(o=a.transitionOverride);const c=r?()=>Promise.all(nb(n,r,a)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:b}=o;return fE(n,t,p,y,g,b,a)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,y]=m==="beforeChildren"?[c,u]:[u,c];return p().then(()=>y())}else return Promise.all([c(),u(a.delay)])}function fE(n,t,a=0,r=0,o=0,c=1,u){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(ah(p,t,{...u,delay:a+(typeof r=="function"?0:r)+Qv(n.variantChildren,p,r,o,c)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function mE(n,t,a={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(c=>ah(n,c,a));r=Promise.all(o)}else if(typeof t=="string")r=ah(n,t,a);else{const o=typeof t=="function"?ni(n,t,a.custom):t;r=Promise.all(nb(n,o,a))}return r.then(()=>{n.notify("AnimationComplete",t)})}const pE={test:n=>n==="auto",parse:n=>n},sb=n=>t=>t.test(n),ab=[ii,le,Sn,gs,qT,HT,pE],Fy=n=>ab.find(sb(n));function yE(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||bv(n):!0}const gE=new Set(["brightness","contrast","saturate","opacity"]);function vE(n){const[t,a]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=a.match(Ah)||[];if(!r)return n;const o=a.replace(r,"");let c=gE.has(t)?1:0;return r!==a&&(c*=100),t+"("+c+o+")"}const bE=/\b([a-z-]*)\(.*?\)/gu,ih={...Ss,getAnimatableNone:n=>{const t=n.match(bE);return t?t.map(vE).join(" "):n}},Qy={...ii,transform:Math.round},xE={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:ao,scaleX:ao,scaleY:ao,scaleZ:ao,skew:gs,skewX:gs,skewY:gs,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Sr,originX:Uy,originY:Uy,originZ:le},zh={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,inset:le,insetBlock:le,insetBlockStart:le,insetBlockEnd:le,insetInline:le,insetInlineStart:le,insetInlineEnd:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,paddingBlock:le,paddingBlockStart:le,paddingBlockEnd:le,paddingInline:le,paddingInlineStart:le,paddingInlineEnd:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,marginBlock:le,marginBlockStart:le,marginBlockEnd:le,marginInline:le,marginInlineStart:le,marginInlineEnd:le,fontSize:le,backgroundPositionX:le,backgroundPositionY:le,...xE,zIndex:Qy,fillOpacity:Sr,strokeOpacity:Sr,numOctaves:Qy},wE={...zh,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:ih,WebkitFilter:ih},ib=n=>wE[n];function rb(n,t){let a=ib(n);return a!==ih&&(a=Ss),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const SE=new Set(["auto","none","0"]);function _E(n,t,a){let r=0,o;for(;r<n.length&&!o;){const c=n[r];typeof c=="string"&&!SE.has(c)&&_r(c).values.length&&(o=n[r]),r++}if(o&&a)for(const c of t)n[c]=rb(a,o)}class TE extends Mh{constructor(t,a,r,o,c){super(t,a,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let b=t[g];if(typeof b=="string"&&(b=b.trim(),Eh(b))){const x=Jv(b,a.current);x!==void 0&&(t[g]=x),g===t.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!Wv.has(r)||t.length!==2)return;const[o,c]=t,u=Fy(o),m=Fy(c),p=Ly(o),y=Ly(c);if(p!==y&&xs[r]){this.needsMeasurement=!0;return}if(u!==m)if(Gy(u)&&Gy(m))for(let g=0;g<t.length;g++){const b=t[g];typeof b=="string"&&(t[g]=parseFloat(b))}else xs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||yE(t[o]))&&r.push(o);r.length&&_E(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(a);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=xs[a](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function lb(n,t,a){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=a?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(r=>r!=null)}const ob=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function rh(n){return vv(n)&&"offsetHeight"in n}const{schedule:Vh}=Ov(queueMicrotask,!1),dn={x:!1,y:!1};function cb(){return dn.x||dn.y}function jE(n){return n==="x"||n==="y"?dn[n]?null:(dn[n]=!0,()=>{dn[n]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function ub(n,t){const a=lb(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[a,o,()=>r.abort()]}function EE(n){return!(n.pointerType==="touch"||cb())}function AE(n,t,a={}){const[r,o,c]=ub(n,a);return r.forEach(u=>{let m=!1,p=!1,y;const g=()=>{u.removeEventListener("pointerleave",_)},b=E=>{y&&(y(E),y=void 0),g()},x=E=>{m=!1,window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",x),p&&(p=!1,b(E))},S=()=>{m=!0,window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",x,o)},_=E=>{if(E.pointerType!=="touch"){if(m){p=!0;return}b(E)}},A=E=>{if(!EE(E))return;p=!1;const k=t(u,E);typeof k=="function"&&(y=k,u.addEventListener("pointerleave",_,o))};u.addEventListener("pointerenter",A,o),u.addEventListener("pointerdown",S,o)}),c}const db=(n,t)=>t?n===t?!0:db(n,t.parentElement):!1,Hh=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,NE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CE(n){return NE.has(n.tagName)||n.isContentEditable===!0}const RE=new Set(["INPUT","SELECT","TEXTAREA"]);function OE(n){return RE.has(n.tagName)||n.isContentEditable===!0}const oo=new WeakSet;function Jy(n){return t=>{t.key==="Enter"&&n(t)}}function wd(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kE=(n,t)=>{const a=n.currentTarget;if(!a)return;const r=Jy(()=>{if(oo.has(a))return;wd(a,"down");const o=Jy(()=>{wd(a,"up")}),c=()=>wd(a,"cancel");a.addEventListener("keyup",o,t),a.addEventListener("blur",c,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function Zy(n){return Hh(n)&&!cb()}const Wy=new WeakSet;function DE(n,t,a={}){const[r,o,c]=ub(n,a),u=m=>{const p=m.currentTarget;if(!Zy(m)||Wy.has(m))return;oo.add(p),a.stopPropagation&&Wy.add(m);const y=t(p,m),g=(S,_)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),oo.has(p)&&oo.delete(p),Zy(S)&&typeof y=="function"&&y(S,{success:_})},b=S=>{g(S,p===window||p===document||a.useGlobalTarget||db(p,S.target))},x=S=>{g(S,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",x,o)};return r.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),rh(m)&&(m.addEventListener("focus",y=>kE(y,o)),!CE(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function qh(n){return vv(n)&&"ownerSVGElement"in n}const co=new WeakMap;let uo;const hb=(n,t,a)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:qh(r)&&"getBBox"in r?r.getBBox()[t]:r[a],ME=hb("inline","width","offsetWidth"),LE=hb("block","height","offsetHeight");function UE({target:n,borderBoxSize:t}){co.get(n)?.forEach(a=>{a(n,{get width(){return ME(n,t)},get height(){return LE(n,t)}})})}function PE(n){n.forEach(UE)}function BE(){typeof ResizeObserver>"u"||(uo=new ResizeObserver(PE))}function zE(n,t){uo||BE();const a=lb(n);return a.forEach(r=>{let o=co.get(r);o||(o=new Set,co.set(r,o)),o.add(t),uo?.observe(r)}),()=>{a.forEach(r=>{const o=co.get(r);o?.delete(t),o?.size||uo?.unobserve(r)})}}const ho=new Set;let Ja;function VE(){Ja=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};ho.forEach(t=>t(n))},window.addEventListener("resize",Ja)}function HE(n){return ho.add(n),Ja||VE(),()=>{ho.delete(n),!ho.size&&typeof Ja=="function"&&(window.removeEventListener("resize",Ja),Ja=void 0)}}function eg(n,t){return typeof n=="function"?HE(n):zE(n,t)}function qE(n){return qh(n)&&n.tagName==="svg"}const $E=[...ab,it,Ss],GE=n=>$E.find(sb(n)),tg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:tg(),y:tg()}),ng=()=>({min:0,max:0}),ot=()=>({x:ng(),y:ng()}),lh={current:null},fb={current:!1},KE=typeof window<"u";function IE(){if(fb.current=!0,!!KE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>lh.current=n.matches;n.addEventListener("change",t),t()}else lh.current=!1}const YE=new WeakMap;function Do(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Tr(n){return typeof n=="string"||Array.isArray(n)}const $h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gh=["initial",...$h];function Mo(n){return Do(n.animate)||Gh.some(t=>Tr(n[t]))}function mb(n){return!!(Mo(n)||n.variants)}function XE(n,t,a){for(const r in t){const o=t[r],c=a[r];if(Tt(o))n.addValue(r,o);else if(Tt(c))n.addValue(r,si(o,{owner:n}));else if(c!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,si(u!==void 0?u:o,{owner:n}))}}for(const r in a)t[r]===void 0&&n.removeValue(r);return t}const sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _o={};function pb(n){_o=n}function FE(){return _o}class QE{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:o,skipAnimations:c,blockInitialAnimation:u,visualState:m},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Mh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Et.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ze.render(this.render,!1,!0))};const{latestValues:y,renderState:g}=m;this.latestValues=y,this.baseTarget={...y},this.initialValues=a.initial?{...y}:{},this.renderState=g,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=c,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Mo(a),this.isVariantNode=mb(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(a,{},this);for(const S in x){const _=x[S];y[S]!==void 0&&Tt(_)&&_.set(y[S])}}mount(t){if(this.hasBeenMounted)for(const a in this.initialValues)this.values.get(a)?.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=t,YE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(fb.current||IE(),this.shouldReduceMotion=lh.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=li.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _o){const a=_o[t];if(!a)continue;const{isEnabled:r,Feature:o}=a;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<sg.length;r++){const o=sg[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=XE(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=si(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gv(r)||bv(r))?r=parseFloat(r):!GE(r)&&Ss.test(a)&&(r=rb(t,a)),this.setBaseTarget(t,Tt(r)?r.get():r)),Tt(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const c=Ph(this.props,a,this.presenceContext?.custom);c&&(r=c[t])}if(a&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Tt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new _h),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){Vh.render(this.render)}}class yb extends QE{constructor(){super(...arguments),this.KeyframeResolver=TE}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){const r=t.style;return r?r[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tt(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gb({top:n,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:n,max:r}}}function JE({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function ZE(n,t){if(!t)return n;const a=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Sd(n){return n===void 0||n===1}function oh({scale:n,scaleX:t,scaleY:a}){return!Sd(n)||!Sd(t)||!Sd(a)}function Xs(n){return oh(n)||vb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vb(n){return ag(n.x)||ag(n.y)}function ag(n){return n&&n!=="0%"}function To(n,t,a){const r=n-a,o=t*r;return a+o}function ig(n,t,a,r,o){return o!==void 0&&(n=To(n,o,r)),To(n,a,r)+t}function ch(n,t=0,a=1,r,o){n.min=ig(n.min,t,a,r,o),n.max=ig(n.max,t,a,r,o)}function bb(n,{x:t,y:a}){ch(n.x,t.translate,t.scale,t.originPoint),ch(n.y,a.translate,a.scale,a.originPoint)}const rg=.999999999999,lg=1.0000000000001;function WE(n,t,a,r=!1){const o=a.length;if(!o)return;t.x=t.y=1;let c,u;for(let m=0;m<o;m++){c=a[m],u=c.projectionDelta;const{visualElement:p}=c.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ei(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,bb(n,u)),r&&Xs(c.latestValues)&&ei(n,c.latestValues))}t.x<lg&&t.x>rg&&(t.x=1),t.y<lg&&t.y>rg&&(t.y=1)}function Wa(n,t){n.min=n.min+t,n.max=n.max+t}function og(n,t,a,r,o=.5){const c=Ge(n.min,n.max,o);ch(n,t,a,c,r)}function ei(n,t){og(n.x,t.x,t.scaleX,t.scale,t.originX),og(n.y,t.y,t.scaleY,t.scale,t.originY)}function xb(n,t){return gb(ZE(n.getBoundingClientRect(),t))}function eA(n,t,a){const r=xb(n,a),{scroll:o}=t;return o&&(Wa(r.x,o.offset.x),Wa(r.y,o.offset.y)),r}const tA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nA=ri.length;function sA(n,t,a){let r="",o=!0;for(let c=0;c<nA;c++){const u=ri[c],m=n[u];if(m===void 0)continue;let p=!0;if(typeof m=="number")p=m===(u.startsWith("scale")?1:0);else{const y=parseFloat(m);p=u.startsWith("scale")?y===1:y===0}if(!p||a){const y=ob(m,zh[u]);if(!p){o=!1;const g=tA[u]||u;r+=`${g}(${y}) `}a&&(t[u]=y)}}return r=r.trim(),a?r=a(t,o?"":r):o&&(r="none"),r}function Kh(n,t,a){const{style:r,vars:o,transformOrigin:c}=n;let u=!1,m=!1;for(const p in t){const y=t[p];if(li.has(p)){u=!0;continue}else if(Dv(p)){o[p]=y;continue}else{const g=ob(y,zh[p]);p.startsWith("origin")?(m=!0,c[p]=g):r[p]=g}}if(t.transform||(u||a?r.transform=sA(t,n.transform,a):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:y="50%",originZ:g=0}=c;r.transformOrigin=`${p} ${y} ${g}`}}function wb(n,{style:t,vars:a},r,o){const c=n.style;let u;for(u in t)c[u]=t[u];o?.applyProjectionStyles(c,r);for(u in a)c.setProperty(u,a[u])}function cg(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const ar={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(le.test(n))n=parseFloat(n);else return n;const a=cg(n,t.target.x),r=cg(n,t.target.y);return`${a}% ${r}%`}},aA={correct:(n,{treeScale:t,projectionDelta:a})=>{const r=n,o=Ss.parse(n);if(o.length>5)return r;const c=Ss.createTransformer(n),u=typeof o[0]!="number"?1:0,m=a.x.scale*t.x,p=a.y.scale*t.y;o[0+u]/=m,o[1+u]/=p;const y=Ge(m,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},uh={borderRadius:{...ar,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ar,borderTopRightRadius:ar,borderBottomLeftRadius:ar,borderBottomRightRadius:ar,boxShadow:aA};function Sb(n,{layout:t,layoutId:a}){return li.has(n)||n.startsWith("origin")||(t||a!==void 0)&&(!!uh[n]||n==="opacity")}function Ih(n,t,a){const r=n.style,o=t?.style,c={};if(!r)return c;for(const u in r)(Tt(r[u])||o&&Tt(o[u])||Sb(u,n)||a?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function iA(n){return window.getComputedStyle(n)}class rA extends yb{constructor(){super(...arguments),this.type="html",this.renderInstance=wb}readValueFromInstance(t,a){if(li.has(a))return this.projection?.isProjecting?Qd(a):jj(t,a);{const r=iA(t),o=(Dv(a)?r.getPropertyValue(a):r[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:a}){return xb(t,a)}build(t,a,r){Kh(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return Ih(t,a,r)}}const lA={offset:"stroke-dashoffset",array:"stroke-dasharray"},oA={offset:"strokeDashoffset",array:"strokeDasharray"};function cA(n,t,a=1,r=0,o=!0){n.pathLength=1;const c=o?lA:oA;n[c.offset]=`${-r}`,n[c.array]=`${t} ${a}`}const uA=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _b(n,{attrX:t,attrY:a,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},p,y,g){if(Kh(n,m,y),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:x}=n;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const S of uA)b[S]!==void 0&&(x[S]=b[S],delete b[S]);t!==void 0&&(b.x=t),a!==void 0&&(b.y=a),r!==void 0&&(b.scale=r),o!==void 0&&cA(b,o,c,u,!1)}const Tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),jb=n=>typeof n=="string"&&n.toLowerCase()==="svg";function dA(n,t,a,r){wb(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Tb.has(o)?o:Bh(o),t.attrs[o])}function Eb(n,t,a){const r=Ih(n,t,a);for(const o in n)if(Tt(n[o])||Tt(t[o])){const c=ri.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=n[o]}return r}class hA extends yb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(li.has(a)){const r=ib(a);return r&&r.default||0}return a=Tb.has(a)?a:Bh(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return Eb(t,a,r)}build(t,a,r){_b(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,o){dA(t,a,r,o)}mount(t){this.isSVGTag=jb(t.tagName),super.mount(t)}}const fA=Gh.length;function Ab(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?Ab(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const t={};for(let a=0;a<fA;a++){const r=Gh[a],o=n.props[r];(Tr(o)||o===!1)&&(t[r]=o)}return t}function Nb(n,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==n.length)return!1;for(let r=0;r<a;r++)if(t[r]!==n[r])return!1;return!0}const mA=[...$h].reverse(),pA=$h.length;function yA(n){return t=>Promise.all(t.map(({animation:a,options:r})=>mE(n,a,r)))}function gA(n){let t=yA(n),a=ug(),r=!0;const o=p=>(y,g)=>{const b=ni(n,g,p==="exit"?n.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:S,..._}=b;y={...y,..._,...S}}return y};function c(p){t=p(n)}function u(p){const{props:y}=n,g=Ab(n.parent)||{},b=[],x=new Set;let S={},_=1/0;for(let E=0;E<pA;E++){const k=mA[E],L=a[k],R=y[k]!==void 0?y[k]:g[k],q=Tr(R),K=k===p?L.isActive:null;K===!1&&(_=E);let I=R===g[k]&&R!==y[k]&&q;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),L.protectedKeys={...S},!L.isActive&&K===null||!R&&!L.prevProp||Do(R)||typeof R=="boolean")continue;const te=vA(L.prevProp,R);let ne=te||k===p&&L.isActive&&!I&&q||E>_&&q,Q=!1;const W=Array.isArray(R)?R:[R];let he=W.reduce(o(k),{});K===!1&&(he={});const{prevResolvedValues:$={}}=L,O={...$,...he},ee=z=>{ne=!0,x.has(z)&&(Q=!0,x.delete(z)),L.needsAnimating[z]=!0;const ie=n.getValue(z);ie&&(ie.liveStyle=!1)};for(const z in O){const ie=he[z],Y=$[z];if(S.hasOwnProperty(z))continue;let ce=!1;nh(ie)&&nh(Y)?ce=!Nb(ie,Y):ce=ie!==Y,ce?ie!=null?ee(z):x.add(z):ie!==void 0&&x.has(z)?ee(z):L.protectedKeys[z]=!0}L.prevProp=R,L.prevResolvedValues=he,L.isActive&&(S={...S,...he}),r&&n.blockInitialAnimation&&(ne=!1);const ae=I&&te;ne&&(!ae||Q)&&b.push(...W.map(z=>{const ie={type:k};if(typeof z=="string"&&r&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,ce=ni(Y,z);if(Y.enteringChildren&&ce){const{delayChildren:N}=ce.transition||{};ie.delay=Qv(Y.enteringChildren,n,N)}}return{animation:z,options:ie}}))}if(x.size){const E={};if(typeof y.initial!="boolean"){const k=ni(n,Array.isArray(y.initial)?y.initial[0]:y.initial);k&&k.transition&&(E.transition=k.transition)}x.forEach(k=>{const L=n.getBaseTarget(k),R=n.getValue(k);R&&(R.liveStyle=!0),E[k]=L??null}),b.push({animation:E})}let A=!!b.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(b):Promise.resolve()}function m(p,y){if(a[p].isActive===y)return Promise.resolve();n.variantChildren?.forEach(b=>b.animationState?.setActive(p,y)),a[p].isActive=y;const g=u(p);for(const b in a)a[b].protectedKeys={};return g}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>a,reset:()=>{a=ug()}}}function vA(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Nb(t,n):!1}function Ks(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ug(){return{animate:Ks(!0),whileInView:Ks(),whileHover:Ks(),whileTap:Ks(),whileDrag:Ks(),whileFocus:Ks(),exit:Ks()}}function dg(n,t){n.min=t.min,n.max=t.max}function cn(n,t){dg(n.x,t.x),dg(n.y,t.y)}function hg(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const Cb=1e-4,bA=1-Cb,xA=1+Cb,Rb=.01,wA=0-Rb,SA=0+Rb;function At(n){return n.max-n.min}function _A(n,t,a){return Math.abs(n-t)<=a}function fg(n,t,a,r=.5){n.origin=r,n.originPoint=Ge(t.min,t.max,n.origin),n.scale=At(a)/At(t),n.translate=Ge(a.min,a.max,n.origin)-n.originPoint,(n.scale>=bA&&n.scale<=xA||isNaN(n.scale))&&(n.scale=1),(n.translate>=wA&&n.translate<=SA||isNaN(n.translate))&&(n.translate=0)}function hr(n,t,a,r){fg(n.x,t.x,a.x,r?r.originX:void 0),fg(n.y,t.y,a.y,r?r.originY:void 0)}function mg(n,t,a){n.min=a.min+t.min,n.max=n.min+At(t)}function TA(n,t,a){mg(n.x,t.x,a.x),mg(n.y,t.y,a.y)}function pg(n,t,a){n.min=t.min-a.min,n.max=n.min+At(t)}function jo(n,t,a){pg(n.x,t.x,a.x),pg(n.y,t.y,a.y)}function yg(n,t,a,r,o){return n-=t,n=To(n,1/a,r),o!==void 0&&(n=To(n,1/o,r)),n}function jA(n,t=0,a=1,r=.5,o,c=n,u=n){if(Sn.test(t)&&(t=parseFloat(t),t=Ge(u.min,u.max,t/100)-u.min),typeof t!="number")return;let m=Ge(c.min,c.max,r);n===c&&(m-=t),n.min=yg(n.min,t,a,m,o),n.max=yg(n.max,t,a,m,o)}function gg(n,t,[a,r,o],c,u){jA(n,t[a],t[r],t[o],t.scale,c,u)}const EA=["x","scaleX","originX"],AA=["y","scaleY","originY"];function vg(n,t,a,r){gg(n.x,t,EA,a?a.x:void 0,r?r.x:void 0),gg(n.y,t,AA,a?a.y:void 0,r?r.y:void 0)}function bg(n){return n.translate===0&&n.scale===1}function Ob(n){return bg(n.x)&&bg(n.y)}function xg(n,t){return n.min===t.min&&n.max===t.max}function NA(n,t){return xg(n.x,t.x)&&xg(n.y,t.y)}function wg(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function kb(n,t){return wg(n.x,t.x)&&wg(n.y,t.y)}function Sg(n){return At(n.x)/At(n.y)}function _g(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function xn(n){return[n("x"),n("y")]}function CA(n,t,a){let r="";const o=n.x.translate/t.x,c=n.y.translate/t.y,u=a?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:y,rotate:g,rotateX:b,rotateY:x,skewX:S,skewY:_}=a;y&&(r=`perspective(${y}px) ${r}`),g&&(r+=`rotate(${g}deg) `),b&&(r+=`rotateX(${b}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),_&&(r+=`skewY(${_}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Db=["TopLeft","TopRight","BottomLeft","BottomRight"],RA=Db.length,Tg=n=>typeof n=="string"?parseFloat(n):n,jg=n=>typeof n=="number"||le.test(n);function OA(n,t,a,r,o,c){o?(n.opacity=Ge(0,a.opacity??1,kA(r)),n.opacityExit=Ge(t.opacity??1,0,DA(r))):c&&(n.opacity=Ge(t.opacity??1,a.opacity??1,r));for(let u=0;u<RA;u++){const m=`border${Db[u]}Radius`;let p=Eg(t,m),y=Eg(a,m);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||jg(p)===jg(y)?(n[m]=Math.max(Ge(Tg(p),Tg(y),r),0),(Sn.test(y)||Sn.test(p))&&(n[m]+="%")):n[m]=y}(t.rotate||a.rotate)&&(n.rotate=Ge(t.rotate||0,a.rotate||0,r))}function Eg(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const kA=Mb(0,.5,Av),DA=Mb(.5,.95,an);function Mb(n,t,a){return r=>r<n?0:r>t?1:a(wr(n,t,r))}function MA(n,t,a){const r=Tt(n)?n:si(n);return r.start(Uh("",r,t,a)),r.animation}function jr(n,t,a,r={passive:!0}){return n.addEventListener(t,a,r),()=>n.removeEventListener(t,a)}const LA=(n,t)=>n.depth-t.depth;class UA{constructor(){this.children=[],this.isDirty=!1}add(t){bh(this.children,t),this.isDirty=!0}remove(t){xh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LA),this.isDirty=!1,this.children.forEach(t)}}function PA(n,t){const a=Et.now(),r=({timestamp:o})=>{const c=o-a;c>=t&&(ws(r),n(c-t))};return ze.setup(r,!0),()=>ws(r)}function fo(n){return Tt(n)?n.get():n}class BA{constructor(){this.members=[]}add(t){bh(this.members,t),t.scheduleRender()}remove(t){if(xh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(o=>t===o);if(a===0)return!1;let r;for(let o=a;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,c=t.options.layoutDependency;o!==void 0&&c!==void 0&&o===c||(t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:m}=t.options;m===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const mo={hasAnimatedSinceResize:!0,hasEverUpdated:!1},_d=["","X","Y","Z"],zA=1e3;let VA=0;function Td(n,t,a,r){const{latestValues:o}=t;o[n]&&(a[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function Lb(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const a=tb(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",ze,!(o||c))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Lb(r)}function Ub({attachResizeListener:n,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=t?.()){this.id=VA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($A),this.nodes.forEach(YA),this.nodes.forEach(XA),this.nodes.forEach(GA)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new UA)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new _h),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const p=this.eventHandlers.get(u);p&&p.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=qh(u)&&!qE(u),this.instance=u;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{b=window.innerWidth}),n(u,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,g&&g(),g=PA(x,250),mo.hasAnimatedSinceResize&&(mo.hasAnimatedSinceResize=!1,this.nodes.forEach(Cg)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||y.getDefaultTransition()||WA,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=y.getProps(),k=!this.targetLayout||!kb(this.targetLayout,S),L=!b&&x;if(this.options.layoutRoot||this.resumeFrom||L||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Lh(_,"layout"),onPlay:A,onComplete:E};(y.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,L)}else b||Cg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FA),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ag);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ng);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IA),this.nodes.forEach(HA),this.nodes.forEach(qA)):this.nodes.forEach(Ng),this.clearAllSnapshots();const m=Et.now();xt.delta=_n(0,1e3/60,m-xt.timestamp),xt.timestamp=m,xt.isProcessing=!0,pd.update.process(xt),pd.preRender.process(xt),pd.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KA),this.sharedNodes.forEach(QA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Ob(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,g=y!==this.prevTransformTemplateValue;u&&this.instance&&(m||Xs(this.latestValues)||g)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return u&&(p=this.removeTransform(p)),e2(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ot();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(t2))){const{scroll:y}=this.root;y&&(Wa(m.x,y.offset.x),Wa(m.y,y.offset.y))}return m}removeElementScroll(u){const m=ot();if(cn(m,u),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:g,options:b}=y;y!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&cn(m,u),Wa(m.x,g.offset.x),Wa(m.y,g.offset.y))}return m}applyTransform(u,m=!1){const p=ot();cn(p,u);for(let y=0;y<this.path.length;y++){const g=this.path[y];!m&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ei(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xs(g.latestValues)&&ei(p,g.latestValues)}return Xs(this.latestValues)&&ei(p,this.latestValues),p}removeTransform(u){const m=ot();cn(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!Xs(y.latestValues))continue;oh(y.latestValues)&&y.updateSnapshot();const g=ot(),b=y.measurePageBox();cn(g,b),vg(m,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,g)}return Xs(this.latestValues)&&vg(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=xt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),bb(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||oh(this.parent.latestValues)||vb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,m,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),jo(this.relativeTargetOrigin,m,p),cn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||g))return;cn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;WE(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ot());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hg(this.prevProjectionDelta.x,this.projectionDelta.x),hg(this.prevProjectionDelta.y,this.projectionDelta.y)),hr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!_g(this.projectionDelta.x,this.prevProjectionDelta.x)||!_g(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(u,m=!1){const p=this.snapshot,y=p?p.latestValues:{},g={...this.latestValues},b=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=ot(),S=p?p.source:void 0,_=this.layout?this.layout.source:void 0,A=S!==_,E=this.getStack(),k=!E||E.members.length<=1,L=!!(A&&!k&&this.options.crossfade===!0&&!this.path.some(ZA));this.animationProgress=0;let R;this.mixTargetDelta=q=>{const K=q/1e3;Rg(b.x,u.x,K),Rg(b.y,u.y,K),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jo(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JA(this.relativeTarget,this.relativeTargetOrigin,x,K),R&&NA(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=ot()),cn(R,this.relativeTarget)),A&&(this.animationValues=g,OA(g,y,this.latestValues,K,L,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{mo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=si(0)),this.currentAnimation=MA(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:p,layout:y,latestValues:g}=u;if(!(!m||!p||!y)){if(this!==u&&this.layout&&y&&Pb(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||ot();const b=At(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+b;const x=At(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+x}cn(m,p),ei(m,g),hr(this.projectionDeltaWithTransform,this.layoutCorrected,m,g)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BA),this.sharedNodes.get(u).add(m);const y=m.options.initialPromotionConfig;m.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const y={};p.z&&Td("z",u,y,this.animationValues);for(let g=0;g<_d.length;g++)Td(`rotate${_d[g]}`,u,y,this.animationValues),Td(`skew${_d[g]}`,u,y,this.animationValues);u.render();for(const g in y)u.setStaticValue(g,y[g]),this.animationValues&&(this.animationValues[g]=y[g]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=fo(m?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=fo(m?.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=CA(this.projectionDeltaWithTransform,this.treeScale,g);p&&(b=p(g,b)),u.transform=b;const{x,y:S}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,y.animationValues?u.opacity=y===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=y===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in uh){if(g[_]===void 0)continue;const{correct:A,applyTo:E,isCSSVariable:k}=uh[_],L=b==="none"?g[_]:A(g[_],y);if(E){const R=E.length;for(let q=0;q<R;q++)u[E[q]]=L}else k?this.options.visualElement.renderState.vars[_]=L:u[_]=L}this.options.layoutId&&(u.pointerEvents=y===this?fo(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Ag),this.root.sharedNodes.clear()}}}function HA(n){n.updateLayout()}function qA(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=n.layout,{animationType:o}=n.options,c=t.source!==n.layout.source;o==="size"?xn(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],x=At(b);b.min=a[g].min,b.max=b.min+x}):Pb(o,t.layoutBox,a)&&xn(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],x=At(a[g]);b.max=b.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const u=Za();hr(u,a,t.layoutBox);const m=Za();c?hr(m,n.applyTransform(r,!0),t.measuredBox):hr(m,a,t.layoutBox);const p=!Ob(u);let y=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const S=ot();jo(S,t.layoutBox,b.layoutBox);const _=ot();jo(_,a,x.layoutBox),kb(S,_)||(y=!0),g.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function $A(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function GA(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function KA(n){n.clearSnapshot()}function Ag(n){n.clearMeasurements()}function Ng(n){n.isLayoutDirty=!1}function IA(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Cg(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function YA(n){n.resolveTargetDelta()}function XA(n){n.calcProjection()}function FA(n){n.resetSkewAndRotation()}function QA(n){n.removeLeadSnapshot()}function Rg(n,t,a){n.translate=Ge(t.translate,0,a),n.scale=Ge(t.scale,1,a),n.origin=t.origin,n.originPoint=t.originPoint}function Og(n,t,a,r){n.min=Ge(t.min,a.min,r),n.max=Ge(t.max,a.max,r)}function JA(n,t,a,r){Og(n.x,t.x,a.x,r),Og(n.y,t.y,a.y,r)}function ZA(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const WA={duration:.45,ease:[.4,0,.1,1]},kg=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Dg=kg("applewebkit/")&&!kg("chrome/")?Math.round:an;function Mg(n){n.min=Dg(n.min),n.max=Dg(n.max)}function e2(n){Mg(n.x),Mg(n.y)}function Pb(n,t,a){return n==="position"||n==="preserve-aspect"&&!_A(Sg(t),Sg(a),.2)}function t2(n){return n!==n.root&&n.scroll?.wasRoot}const n2=Ub({attachResizeListener:(n,t)=>jr(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),jd={current:void 0},Bb=Ub({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jd.current){const n=new n2({});n.mount(window),n.setOptions({layoutScroll:!0}),jd.current=n}return jd.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Yh=H.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Lg(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function s2(...n){return t=>{let a=!1;const r=n.map(o=>{const c=Lg(o,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Lg(n[o],null)}}}}function a2(...n){return H.useCallback(s2(...n),n)}class i2 extends H.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=a.offsetParent,o=rh(r)&&r.offsetWidth||0,c=rh(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=a.offsetHeight||0,u.width=a.offsetWidth||0,u.top=a.offsetTop,u.left=a.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function r2({children:n,isPresent:t,anchorX:a,anchorY:r,root:o,pop:c}){const u=H.useId(),m=H.useRef(null),p=H.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:y}=H.useContext(Yh),g=n.props?.ref??n?.ref,b=a2(m,g);return H.useInsertionEffect(()=>{const{width:x,height:S,top:_,left:A,right:E,bottom:k}=p.current;if(t||c===!1||!m.current||!x||!S)return;const L=a==="left"?`left: ${A}`:`right: ${E}`,R=r==="bottom"?`bottom: ${k}`:`top: ${_}`;m.current.dataset.motionPopId=u;const q=document.createElement("style");y&&(q.nonce=y);const K=o??document.head;return K.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${S}px !important;
            ${L}px !important;
            ${R}px !important;
          }
        `),()=>{K.contains(q)&&K.removeChild(q)}},[t]),h.jsx(i2,{isPresent:t,childRef:m,sizeRef:p,pop:c,children:c===!1?n:H.cloneElement(n,{ref:b})})}const l2=({children:n,initial:t,isPresent:a,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,anchorY:p,root:y})=>{const g=vh(o2),b=H.useId();let x=!0,S=H.useMemo(()=>(x=!1,{id:b,initial:t,isPresent:a,custom:o,onExitComplete:_=>{g.set(_,!0);for(const A of g.values())if(!A)return;r&&r()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[a,g,r]);return c&&x&&(S={...S}),H.useMemo(()=>{g.forEach((_,A)=>g.set(A,!1))},[a]),H.useEffect(()=>{!a&&!g.size&&r&&r()},[a]),n=h.jsx(r2,{pop:u==="popLayout",isPresent:a,anchorX:m,anchorY:p,root:y,children:n}),h.jsx(ko.Provider,{value:S,children:n})};function o2(){return new Map}function zb(n=!0){const t=H.useContext(ko);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:o}=t,c=H.useId();H.useEffect(()=>{if(n)return o(c)},[n]);const u=H.useCallback(()=>n&&r&&r(c),[c,r,n]);return!a&&r?[!1,u]:[!0]}const io=n=>n.key||"";function Ug(n){const t=[];return H.Children.forEach(n,a=>{H.isValidElement(a)&&t.push(a)}),t}const _t=({children:n,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",anchorY:p="top",root:y})=>{const[g,b]=zb(u),x=H.useMemo(()=>Ug(n),[n]),S=u&&!g?[]:x.map(io),_=H.useRef(!0),A=H.useRef(x),E=vh(()=>new Map),k=H.useRef(new Set),[L,R]=H.useState(x),[q,K]=H.useState(x);yv(()=>{_.current=!1,A.current=x;for(let ne=0;ne<q.length;ne++){const Q=io(q[ne]);S.includes(Q)?(E.delete(Q),k.current.delete(Q)):E.get(Q)!==!0&&E.set(Q,!1)}},[q,S.length,S.join("-")]);const I=[];if(x!==L){let ne=[...x];for(let Q=0;Q<q.length;Q++){const W=q[Q],he=io(W);S.includes(he)||(ne.splice(Q,0,W),I.push(W))}return c==="wait"&&I.length&&(ne=I),K(Ug(ne)),R(x),null}const{forceRender:te}=H.useContext(gh);return h.jsx(h.Fragment,{children:q.map(ne=>{const Q=io(ne),W=u&&!g?!1:x===q||S.includes(Q),he=()=>{if(k.current.has(Q))return;if(k.current.add(Q),E.has(Q))E.set(Q,!0);else return;let $=!0;E.forEach(O=>{O||($=!1)}),$&&(te?.(),K(A.current),u&&b?.(),r&&r())};return h.jsx(l2,{isPresent:W,initial:!_.current||a?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:y,onExitComplete:W?void 0:he,anchorX:m,anchorY:p,children:ne},Q)})})},Vb=H.createContext({strict:!1}),Pg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Bg=!1;function c2(){if(Bg)return;const n={};for(const t in Pg)n[t]={isEnabled:a=>Pg[t].some(r=>!!a[r])};pb(n),Bg=!0}function Hb(){return c2(),FE()}function u2(n){const t=Hb();for(const a in n)t[a]={...t[a],...n[a]};pb(t)}const d2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Eo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||d2.has(n)}let qb=n=>!Eo(n);function h2(n){typeof n=="function"&&(qb=t=>t.startsWith("on")?!Eo(t):n(t))}try{h2(require("@emotion/is-prop-valid").default)}catch{}function f2(n,t,a){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(qb(o)||a===!0&&Eo(o)||!t&&!Eo(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Lo=H.createContext({});function m2(n,t){if(Mo(n)){const{initial:a,animate:r}=n;return{initial:a===!1||Tr(a)?a:void 0,animate:Tr(r)?r:void 0}}return n.inherit!==!1?t:{}}function p2(n){const{initial:t,animate:a}=m2(n,H.useContext(Lo));return H.useMemo(()=>({initial:t,animate:a}),[zg(t),zg(a)])}function zg(n){return Array.isArray(n)?n.join(" "):n}const Xh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $b(n,t,a){for(const r in t)!Tt(t[r])&&!Sb(r,a)&&(n[r]=t[r])}function y2({transformTemplate:n},t){return H.useMemo(()=>{const a=Xh();return Kh(a,t,n),Object.assign({},a.vars,a.style)},[t])}function g2(n,t){const a=n.style||{},r={};return $b(r,a,n),Object.assign(r,y2(n,t)),r}function v2(n,t){const a={},r=g2(n,t);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=r,a}const Gb=()=>({...Xh(),attrs:{}});function b2(n,t,a,r){const o=H.useMemo(()=>{const c=Gb();return _b(c,t,jb(r),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[t]);if(n.style){const c={};$b(c,n.style,n),o.style={...c,...o.style}}return o}const x2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fh(n){return typeof n!="string"||n.includes("-")?!1:!!(x2.indexOf(n)>-1||/[A-Z]/u.test(n))}function w2(n,t,a,{latestValues:r},o,c=!1,u){const p=(u??Fh(n)?b2:v2)(t,r,o,n),y=f2(t,typeof n=="string",c),g=n!==H.Fragment?{...y,...p,ref:a}:{},{children:b}=t,x=H.useMemo(()=>Tt(b)?b.get():b,[b]);return H.createElement(n,{...g,children:x})}function S2({scrapeMotionValuesFromProps:n,createRenderState:t},a,r,o){return{latestValues:_2(a,r,o,n),renderState:t()}}function _2(n,t,a,r){const o={},c=r(n,{});for(const x in c)o[x]=fo(c[x]);let{initial:u,animate:m}=n;const p=Mo(n),y=mb(n);t&&y&&!p&&n.inherit!==!1&&(u===void 0&&(u=t.initial),m===void 0&&(m=t.animate));let g=a?a.initial===!1:!1;g=g||u===!1;const b=g?m:u;if(b&&typeof b!="boolean"&&!Do(b)){const x=Array.isArray(b)?b:[b];for(let S=0;S<x.length;S++){const _=Ph(n,x[S]);if(_){const{transitionEnd:A,transition:E,...k}=_;for(const L in k){let R=k[L];if(Array.isArray(R)){const q=g?R.length-1:0;R=R[q]}R!==null&&(o[L]=R)}for(const L in A)o[L]=A[L]}}}return o}const Kb=n=>(t,a)=>{const r=H.useContext(Lo),o=H.useContext(ko),c=()=>S2(n,t,r,o);return a?c():vh(c)},T2=Kb({scrapeMotionValuesFromProps:Ih,createRenderState:Xh}),j2=Kb({scrapeMotionValuesFromProps:Eb,createRenderState:Gb}),E2=Symbol.for("motionComponentSymbol");function A2(n,t,a){const r=H.useRef(a);H.useInsertionEffect(()=>{r.current=a});const o=H.useRef(null);return H.useCallback(c=>{c&&n.onMount?.(c),t&&(c?t.mount(c):t.unmount());const u=r.current;if(typeof u=="function")if(c){const m=u(c);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[t])}const Ib=H.createContext({});function Xa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function N2(n,t,a,r,o,c){const{visualElement:u}=H.useContext(Lo),m=H.useContext(Vb),p=H.useContext(ko),y=H.useContext(Yh),g=y.reducedMotion,b=y.skipAnimations,x=H.useRef(null),S=H.useRef(!1);r=r||m.renderer,!x.current&&r&&(x.current=r(n,{visualState:t,parent:u,props:a,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g,skipAnimations:b,isSVG:c}),S.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const _=x.current,A=H.useContext(Ib);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&C2(x.current,a,o,A);const E=H.useRef(!1);H.useInsertionEffect(()=>{_&&E.current&&_.update(a,p)});const k=a[eb],L=H.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return yv(()=>{S.current=!0,_&&(E.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),L.current&&_.animationState&&_.animationState.animateChanges())}),H.useEffect(()=>{_&&(!L.current&&_.animationState&&_.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),L.current=!1),_.enteringChildren=void 0)}),_}function C2(n,t,a,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:p,layoutRoot:y,layoutCrossfade:g}=t;n.projection=new a(n.latestValues,t["data-framer-portal-id"]?void 0:Yb(n.parent)),n.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&Xa(m),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:y})}function Yb(n){if(n)return n.options.allowProjection!==!1?n.projection:Yb(n.parent)}function Ed(n,{forwardMotionProps:t=!1,type:a}={},r,o){r&&u2(r);const c=a?a==="svg":Fh(n),u=c?j2:T2;function m(y,g){let b;const x={...H.useContext(Yh),...y,layoutId:R2(y)},{isStatic:S}=x,_=p2(y),A=u(y,S);if(!S&&pv){O2();const E=k2(x);b=E.MeasureLayout,_.visualElement=N2(n,A,x,o,E.ProjectionNode,c)}return h.jsxs(Lo.Provider,{value:_,children:[b&&_.visualElement?h.jsx(b,{visualElement:_.visualElement,...x}):null,w2(n,y,A2(A,_.visualElement,g),A,S,t,c)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=H.forwardRef(m);return p[E2]=n,p}function R2({layoutId:n}){const t=H.useContext(gh).id;return t&&n!==void 0?t+"-"+n:n}function O2(n,t){H.useContext(Vb).strict}function k2(n){const t=Hb(),{drag:a,layout:r}=t;if(!a&&!r)return{};const o={...a,...r};return{MeasureLayout:a?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function D2(n,t){if(typeof Proxy>"u")return Ed;const a=new Map,r=(c,u)=>Ed(c,u,n,t),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(a.has(u)||a.set(u,Ed(u,void 0,n,t)),a.get(u))})}const M2=(n,t)=>t.isSVG??Fh(n)?new hA(t):new rA(t,{allowProjection:n!==H.Fragment});class L2 extends _s{constructor(t){super(t),t.animationState||(t.animationState=gA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Do(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let U2=0;class P2 extends _s{constructor(){super(...arguments),this.id=U2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);a&&!t&&o.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const B2={animation:{Feature:L2},exit:{Feature:P2}};function Or(n){return{point:{x:n.pageX,y:n.pageY}}}const z2=n=>t=>Hh(t)&&n(t,Or(t));function fr(n,t,a,r){return jr(n,t,z2(a),r)}const Xb=({current:n})=>n?n.ownerDocument.defaultView:null,Vg=(n,t)=>Math.abs(n-t);function V2(n,t){const a=Vg(n.x,t.x),r=Vg(n.y,t.y);return Math.sqrt(a**2+r**2)}const Hg=new Set(["auto","scroll"]);class Fb{constructor(t,a,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Nd(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,A=V2(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!A)return;const{point:E}=S,{timestamp:k}=xt;this.history.push({...E,timestamp:k});const{onStart:L,onMove:R}=this.handlers;_||(L&&L(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,S)},this.handlePointerMove=(S,_)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ad(_,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(S,_)=>{this.end();const{onEnd:A,onSessionEnd:E,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Nd(S.type==="pointercancel"?this.lastMoveEventInfo:Ad(_,this.transformPagePoint),this.history);this.startEvent&&A&&A(S,L),E&&E(S,L)},!Hh(t))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const p=Or(t),y=Ad(p,this.transformPagePoint),{point:g}=y,{timestamp:b}=xt;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=a;x&&x(t,Nd(y,this.history)),this.removeListeners=Nr(fr(this.contextWindow,"pointermove",this.handlePointerMove),fr(this.contextWindow,"pointerup",this.handlePointerUp),fr(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let a=t.parentElement;for(;a;){const r=getComputedStyle(a);(Hg.has(r.overflowX)||Hg.has(r.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const a=this.scrollPositions.get(t);if(!a)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},c={x:o.x-a.x,y:o.y-a.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(t,o),ze.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ws(this.updatePoint)}}function Ad(n,t){return t?{point:t(n.point)}:n}function qg(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Nd({point:n},t){return{point:n,delta:qg(n,Qb(t)),offset:qg(n,H2(t)),velocity:q2(t,.1)}}function H2(n){return n[0]}function Qb(n){return n[n.length-1]}function q2(n,t){if(n.length<2)return{x:0,y:0};let a=n.length-1,r=null;const o=Qb(n);for(;a>=0&&(r=n[a],!(o.timestamp-r.timestamp>wn(t)));)a--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&o.timestamp-r.timestamp>wn(t)*2&&(r=n[1]);const c=sn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function $2(n,{min:t,max:a},r){return t!==void 0&&n<t?n=r?Ge(t,n,r.min):Math.max(n,t):a!==void 0&&n>a&&(n=r?Ge(a,n,r.max):Math.min(n,a)),n}function $g(n,t,a){return{min:t!==void 0?n.min+t:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function G2(n,{top:t,left:a,bottom:r,right:o}){return{x:$g(n.x,a,o),y:$g(n.y,t,r)}}function Gg(n,t){let a=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([a,r]=[r,a]),{min:a,max:r}}function K2(n,t){return{x:Gg(n.x,t.x),y:Gg(n.y,t.y)}}function I2(n,t){let a=.5;const r=At(n),o=At(t);return o>r?a=wr(t.min,t.max-r,n.min):r>o&&(a=wr(n.min,n.max-o,t.min)),_n(0,1,a)}function Y2(n,t){const a={};return t.min!==void 0&&(a.min=t.min-n.min),t.max!==void 0&&(a.max=t.max-n.min),a}const dh=.35;function X2(n=dh){return n===!1?n=0:n===!0&&(n=dh),{x:Kg(n,"left","right"),y:Kg(n,"top","bottom")}}function Kg(n,t,a){return{min:Ig(n,t),max:Ig(n,a)}}function Ig(n,t){return typeof n=="number"?n:n[t]||0}const F2=new WeakMap;class Q2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=b=>{a&&this.snapToCursor(Or(b).point),this.stopAnimation()},u=(b,x)=>{const{drag:S,dragPropagation:_,onDragStart:A}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jE(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(k=>{let L=this.getAxisMotionValue(k).get()||0;if(Sn.test(L)){const{projection:R}=this.visualElement;if(R&&R.layout){const q=R.layout.layoutBox[k];q&&(L=At(q)*(parseFloat(L)/100))}}this.originPoint[k]=L}),A&&ze.update(()=>A(b,x),!1,!0),sh(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:A,onDrag:E}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=x;if(_&&this.currentDirection===null){this.currentDirection=Z2(k),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",x.point,k),this.updateAxis("y",x.point,k),this.visualElement.render(),E&&ze.update(()=>E(b,x),!1,!0)},p=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new Fb(t,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Xb(this.visualElement),element:this.visualElement.current})}stop(t,a){const r=t||this.latestPointerEvent,o=a||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ze.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,a,r){const{drag:o}=this.getProps();if(!r||!ro(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=$2(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=G2(r.layoutBox,t):this.constraints=!1,this.elastic=X2(a),o!==this.constraints&&!Xa(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Y2(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Xa(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=eA(r,o.root,this.visualElement.getTransformPagePoint());let u=K2(o.layout.layoutBox,c);if(a){const m=a(JE(u));this.hasMutatedConstraints=!!m,m&&(u=gb(m))}return u}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},y=xn(g=>{if(!ro(g,a,this.currentDirection))return;let b=p&&p[g]||{};u&&(b={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,_={type:"inertia",velocity:r?t[g]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(g,_)});return Promise.all(y).then(m)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return sh(this.visualElement,t),r.start(Uh(t,r,0,a,this.visualElement,!1))}stopAnimation(){xn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[a];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xn(a=>{const{drag:r}=this.getProps();if(!ro(a,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(a);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[a],p=c.get()||0;c.set(t[a]-Ge(u,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Xa(a)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const p=m.get();o[u]=I2({min:p,max:p},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),xn(u=>{if(!ro(u,t,null))return;const m=this.getAxisMotionValue(u),{min:p,max:y}=this.constraints[u];m.set(Ge(p,y,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;F2.set(this.visualElement,this);const t=this.visualElement.current,a=fr(t,"pointerdown",y=>{const{drag:g,dragListener:b=!0}=this.getProps(),x=y.target,S=x!==t&&OE(x);g&&b&&!S&&this.start(y)});let r;const o=()=>{const{dragConstraints:y}=this.getProps();Xa(y)&&y.current&&(this.constraints=this.resolveRefConstraints(),r||(r=J2(t,y.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),ze.read(o);const m=jr(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:g})=>{this.isDragging&&g&&(xn(b=>{const x=this.getAxisMotionValue(b);x&&(this.originPoint[b]+=y[b].translate,x.set(x.get()+y[b].translate))}),this.visualElement.render())}));return()=>{m(),a(),u(),p&&p(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=dh,dragMomentum:m=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function Yg(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function J2(n,t,a){const r=eg(n,Yg(a)),o=eg(t,Yg(a));return()=>{r(),o()}}function ro(n,t,a){return(t===!0||t===n)&&(a===null||a===n)}function Z2(n,t=10){let a=null;return Math.abs(n.y)>t?a="y":Math.abs(n.x)>t&&(a="x"),a}class W2 extends _s{constructor(t){super(t),this.removeGroupControls=an,this.removeListeners=an,this.controls=new Q2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||an}update(){const{dragControls:t}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};t!==a&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Cd=n=>(t,a)=>{n&&ze.update(()=>n(t,a),!1,!0)};class eN extends _s{constructor(){super(...arguments),this.removePointerDownListener=an}onPointerDown(t){this.session=new Fb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Cd(t),onStart:Cd(a),onMove:Cd(r),onEnd:(c,u)=>{delete this.session,o&&ze.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=fr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rd=!1;class tN extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=t;c&&(a.group&&a.group.add(c),r&&r.register&&o&&r.register(c),Rd&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),mo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,t.layoutDependency!==a&&u.setOptions({...u.options,layoutDependency:a}),Rd=!0,o||t.layoutDependency!==a||a===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||ze.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:o}=t;Rd=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Jb(n){const[t,a]=zb(),r=H.useContext(gh);return h.jsx(tN,{...n,layoutGroup:r,switchLayoutGroup:H.useContext(Ib),isPresent:t,safeToRemove:a})}const nN={pan:{Feature:eN},drag:{Feature:W2,ProjectionNode:Bb,MeasureLayout:Jb}};function Xg(n,t,a){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,c=r[o];c&&ze.postRender(()=>c(t,Or(t)))}class sN extends _s{mount(){const{current:t}=this.node;t&&(this.unmount=AE(t,(a,r)=>(Xg(this.node,r,"Start"),o=>Xg(this.node,o,"End"))))}unmount(){}}class aN extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(jr(this.node.current,"focus",()=>this.onFocus()),jr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fg(n,t,a){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),c=r[o];c&&ze.postRender(()=>c(t,Or(t)))}class iN extends _s{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:a,propagate:r}=this.node.props;this.unmount=DE(t,(o,c)=>(Fg(this.node,c,"Start"),(u,{success:m})=>Fg(this.node,u,m?"End":"Cancel")),{useGlobalTarget:a,stopPropagation:r?.tap===!1})}unmount(){}}const hh=new WeakMap,Od=new WeakMap,rN=n=>{const t=hh.get(n.target);t&&t(n)},lN=n=>{n.forEach(rN)};function oN({root:n,...t}){const a=n||document;Od.has(a)||Od.set(a,{});const r=Od.get(a),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(lN,{root:n,...t})),r[o]}function cN(n,t,a){const r=oN(t);return hh.set(n,a),r.observe(n),()=>{hh.delete(n),r.unobserve(n)}}const uN={some:0,all:1};class dN extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:o="some",once:c}=t,u={root:a?a.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:uN[o]},m=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=y?g:b;x&&x(p)};return cN(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(hN(t,a))&&this.startObserver()}unmount(){}}function hN({viewport:n={}},{viewport:t={}}={}){return a=>n[a]!==t[a]}const fN={inView:{Feature:dN},tap:{Feature:iN},focus:{Feature:aN},hover:{Feature:sN}},mN={layout:{ProjectionNode:Bb,MeasureLayout:Jb}},pN={...B2,...fN,...nN,...mN},M=D2(pN,M2);function yN(){const{createFamily:n,addKid:t,setPet:a,state:r}=pn(),[o,c]=H.useState("welcome"),[u,m]=H.useState(""),[p,y]=H.useState(""),[g,b]=H.useState(8),[x,S]=H.useState(""),[_,A]=H.useState(null),[E,k]=H.useState("dragon"),[L,R]=H.useState(""),q=()=>{u.trim()&&(n(u.trim()),c("kids"))},K=()=>{p.trim()&&(t(p.trim(),g,x),y(""),b(8),S(""))},I=()=>{if(r.family&&r.family.kids.length>0){const Q=r.family.kids.find(W=>!W.currentPet);Q?(A(Q.id),R(""),k("dragon"),c("pet")):c("done")}},te=()=>{if(_&&L.trim()){a(_,E,L.trim());const Q=r.family?.kids.find(W=>W.id!==_&&!W.currentPet);Q?(A(Q.id),R(""),k("dragon")):c("done")}},ne=r.family?.kids.find(Q=>Q.id===_);return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900 flex items-center justify-center p-4",children:h.jsxs(_t,{mode:"wait",children:[o==="welcome"&&h.jsxs(M.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"text-center",children:[h.jsx(M.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"text-8xl",children:""}),h.jsx(M.h1,{className:"mt-8 text-5xl font-bold bg-gradient-to-r from-amber-400 via-yellow-500 to-amber-600 bg-clip-text text-transparent",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Wealth Warriors"}),h.jsx(M.p,{className:"mt-4 text-xl text-slate-300",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"Master your money. Raise your companion. Build your future."}),h.jsx(M.button,{onClick:()=>c("family"),className:"mt-8 px-8 py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 text-xl font-bold rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},whileHover:{scale:1.05},whileTap:{scale:.95},children:"Begin Your Journey"})]},"welcome"),o==="family"&&h.jsxs(M.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"bg-slate-800 border border-slate-700 rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[h.jsx("h2",{className:"text-3xl font-bold text-amber-400 text-center mb-6",children:"Create Your Clan"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Clan Name"}),h.jsx("input",{type:"text",value:u,onChange:Q=>m(Q.target.value),placeholder:"The Smith Clan",className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all text-lg"})]}),h.jsx(M.button,{onClick:q,disabled:!u.trim(),className:"w-full py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 text-xl font-bold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:u.trim()?1.02:1},whileTap:{scale:u.trim()?.98:1},children:"Next: Add Warriors"})]})]},"family"),o==="kids"&&h.jsxs(M.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"bg-slate-800 border border-slate-700 rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[h.jsx("h2",{className:"text-3xl font-bold text-amber-400 text-center mb-2",children:"Add Warriors"}),h.jsxs("p",{className:"text-center text-slate-400 mb-6",children:[r.family?.kids.length||0," warrior(s) enlisted"]}),r.family&&r.family.kids.length>0&&h.jsx("div",{className:"mb-6 flex flex-wrap gap-2 justify-center",children:r.family.kids.map(Q=>h.jsxs(M.div,{initial:{scale:0},animate:{scale:1},className:"bg-gradient-to-r from-slate-700 to-slate-600 px-4 py-2 rounded-full flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl",children:Q.avatar}),h.jsx("span",{className:"font-medium text-amber-400",children:Q.name})]},Q.id))}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Warrior Name"}),h.jsx("input",{type:"text",value:p,onChange:Q=>y(Q.target.value),placeholder:"Alex",className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all text-lg"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Age"}),h.jsx("input",{type:"number",value:g,onChange:Q=>b(parseInt(Q.target.value)||8),min:5,max:18,className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all text-lg"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Choose Your Emblem"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2 justify-center",children:mh.map(Q=>h.jsx(M.button,{onClick:()=>S(Q),className:`text-3xl p-2 rounded-xl transition-all ${x===Q?"bg-amber-500/20 ring-2 ring-amber-500":"bg-slate-700 hover:bg-slate-600"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:Q},Q))})]}),h.jsx(M.button,{onClick:K,disabled:!p.trim(),className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xl font-bold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:p.trim()?1.02:1},whileTap:{scale:p.trim()?.98:1},children:"+ Enlist Warrior"}),r.family&&r.family.kids.length>0&&h.jsx(M.button,{onClick:I,className:"w-full py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 text-xl font-bold rounded-xl shadow-lg",initial:{opacity:0},animate:{opacity:1},whileHover:{scale:1.02},whileTap:{scale:.98},children:"Next: Choose Companions"})]})]},"kids"),o==="pet"&&ne&&h.jsxs(M.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"bg-slate-800 border border-slate-700 rounded-3xl shadow-2xl p-8 w-full max-w-lg",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx("span",{className:"text-2xl",children:ne.avatar}),h.jsx("span",{className:"text-xl font-bold text-white",children:ne.name})]}),h.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Choose Your Companion"}),h.jsx("p",{className:"text-slate-400 mt-2",children:"Your companion will grow with your savings!"})]}),h.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:Ye.map(Q=>h.jsxs(M.button,{onClick:()=>k(Q.type),className:`p-4 rounded-xl border-2 transition-all text-left ${E===Q.type?"bg-amber-500/20 border-amber-500":"bg-slate-700/50 border-slate-600 hover:border-slate-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("div",{className:"text-4xl mb-2",children:Q.emoji}),h.jsx("div",{className:"font-semibold text-white",children:Q.name}),h.jsx("div",{className:"text-xs text-slate-400 mt-1",children:Q.description})]},Q.type))}),h.jsx("div",{className:"mb-6",children:h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Name Your Companion"}),h.jsx("input",{type:"text",value:L,onChange:Q=>R(Q.target.value),placeholder:`My ${Ye.find(Q=>Q.type===E)?.name}`,className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all text-lg"})]})}),h.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-6 text-center",children:[h.jsx(M.div,{className:"text-6xl mb-2",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:""}),h.jsxs("p",{className:"text-slate-400 text-sm",children:["Your ",Ye.find(Q=>Q.type===E)?.name," egg will hatch as you save money!"]})]}),h.jsxs(M.button,{onClick:te,disabled:!L.trim(),className:"w-full py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 text-xl font-bold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:L.trim()?1.02:1},whileTap:{scale:L.trim()?.98:1},children:["Adopt ",L||"Companion","!"]})]},"pet"),o==="done"&&h.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[h.jsx(M.div,{className:"text-8xl",animate:{rotate:[0,10,-10,0],y:[0,-10,0]},transition:{duration:1,repeat:2},children:""}),h.jsx(M.h1,{className:"mt-8 text-4xl font-bold text-amber-400",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Your Clan is Ready!"}),h.jsx(M.p,{className:"mt-4 text-slate-300",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Time to start your wealth journey!"}),h.jsx(M.div,{className:"mt-4 flex justify-center gap-2 text-3xl",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:r.family?.kids.map(Q=>h.jsx("span",{children:Q.currentPet?Ye.find(W=>W.type===Q.currentPet?.type)?.emoji:""},Q.id))})]},"done")]})})}function gN({onSuccess:n,onCancel:t}){const{state:a}=pn(),[r,o]=H.useState(""),[c,u]=H.useState(!1),m=y=>{if(r.length<4){const g=r+y;o(g),u(!1),g.length===4&&(g===a.family?.settings?.parentPin?n():(u(!0),setTimeout(()=>{o(""),u(!1)},500)))}},p=()=>{o(r.slice(0,-1)),u(!1)};return h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-xs shadow-2xl",onClick:y=>y.stopPropagation(),children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx("svg",{className:"w-6 h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Enter Command PIN"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"4-digit PIN required"})]}),h.jsx("div",{className:"flex justify-center gap-3 mb-6",children:[0,1,2,3].map(y=>h.jsx(M.div,{className:`w-12 h-12 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-colors ${c?"border-red-400 bg-red-500/10":r.length>y?"border-amber-400 bg-amber-500/10":"border-slate-600 bg-slate-900"}`,animate:c?{x:[-5,5,-5,5,0]}:{},transition:{duration:.3},children:h.jsx("span",{className:"text-white",children:r.length>y&&""})},y))}),c&&h.jsx("p",{className:"text-center text-red-400 text-sm mb-4",children:"Incorrect PIN"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["1","2","3","4","5","6","7","8","9","","0",""].map(y=>h.jsx(M.button,{onClick:()=>{y===""?p():y&&m(y)},className:`h-14 rounded-xl text-xl font-semibold transition-colors ${y===""?"invisible":y===""?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-700 text-white hover:bg-slate-600"}`,whileHover:{scale:y?1.05:1},whileTap:{scale:y?.95:1},disabled:!y,children:y},y))}),h.jsx(M.button,{onClick:t,className:"w-full mt-4 py-2.5 text-slate-400 font-medium hover:text-slate-200 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})]})})}function vN({onComplete:n,onSkip:t}){const[a,r]=H.useState(""),[o,c]=H.useState(""),[u,m]=H.useState("enter"),[p,y]=H.useState(!1),g=S=>{const _=u==="enter"?a:o,A=u==="enter"?r:c;if(_.length<4){const E=_+S;A(E),y(!1),E.length===4&&(u==="enter"?setTimeout(()=>m("confirm"),300):E===a?n(a):(y(!0),setTimeout(()=>{c(""),y(!1)},500)))}},b=()=>{u==="enter"?r(a.slice(0,-1)):c(o.slice(0,-1)),y(!1)},x=u==="enter"?a:o;return h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-xs shadow-2xl",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx("svg",{className:"w-6 h-6 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:u==="enter"?"Set Command PIN":"Confirm PIN"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:u==="enter"?"Enter a 4-digit PIN":"Enter the PIN again"})]}),h.jsx("div",{className:"flex justify-center gap-3 mb-6",children:[0,1,2,3].map(S=>h.jsx(M.div,{className:`w-12 h-12 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-colors ${p?"border-red-400 bg-red-500/10":x.length>S?"border-amber-400 bg-amber-500/10":"border-slate-600 bg-slate-900"}`,animate:p?{x:[-5,5,-5,5,0]}:{},transition:{duration:.3},children:h.jsx("span",{className:"text-white",children:x.length>S&&""})},S))}),p&&h.jsx("p",{className:"text-center text-red-400 text-sm mb-4",children:"PINs don't match"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["1","2","3","4","5","6","7","8","9","","0",""].map(S=>h.jsx(M.button,{onClick:()=>{S===""?b():S&&g(S)},className:`h-14 rounded-xl text-xl font-semibold transition-colors ${S===""?"invisible":S===""?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-700 text-white hover:bg-slate-600"}`,whileHover:{scale:S?1.05:1},whileTap:{scale:S?.95:1},disabled:!S,children:S},S))}),h.jsx(M.button,{onClick:t,className:"w-full mt-4 py-2.5 text-slate-400 font-medium hover:text-slate-200 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Skip for now"})]})})}function bN(){const{state:n,switchMode:t,grantMoney:a,setInterestRate:r,setBaseline:o,setInterestDay:c,setXP:u,addKid:m,applyInterest:p,setParentPin:y,resetApp:g}=pn(),[b,x]=H.useState(null),[S,_]=H.useState(!1),[A,E]=H.useState(null),[k,L]=H.useState(!1),[R,q]=H.useState(!1),[K,I]=H.useState(""),[te,ne]=H.useState(""),[Q,W]=H.useState(""),[he,$]=H.useState(""),[O,ee]=H.useState("");if(!n.family)return null;const ae=Y=>{const ce=parseFloat(K);ce>0&&(a(Y,ce,te||"Allowance"),I(""),ne(""),x(null))},j=()=>{if(Q.trim()&&he){const Y=Math.floor((Date.now()-new Date(he).getTime())/315576e5);m(Q.trim(),Y,O,he),W(""),$(""),ee(""),_(!1)}},z=Y=>Y.buckets.save.balance+Y.buckets.spend.balance+Y.buckets.share.balance,ie=!!n.family.settings?.parentPin;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-slate-900 text-lg",children:""})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold text-amber-400",children:"Wealth Warriors"}),h.jsx("p",{className:"text-xs text-slate-400",children:n.family.name})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(M.button,{onClick:()=>q(!0),className:"p-2 rounded-lg bg-slate-700 text-slate-400 hover:bg-red-500/20 hover:text-red-400 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Reset App",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),h.jsx(M.button,{onClick:()=>L(!0),className:`p-2 rounded-lg transition-colors ${ie?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,whileHover:{scale:1.05},whileTap:{scale:.95},title:ie?"PIN enabled":"Set parent PIN",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsx(M.button,{onClick:()=>t("kid"),className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl shadow-md text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Warrior Mode"})]})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Command Center"}),h.jsxs(M.button,{onClick:()=>_(!0),className:"px-4 py-2 bg-emerald-500 text-white font-semibold rounded-xl shadow-md text-sm flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Warrior"]})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.family.kids.map((Y,ce)=>{const N=Ao(Y.warriorRank),X=Y.currentPet?Er(Y.currentPet.type,Y.currentPet.level):"";return h.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ce*.1},className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 px-5 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-3xl",children:Y.avatar})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-900",children:Y.name}),h.jsxs("div",{className:"flex items-center gap-2 text-slate-800/70 text-sm",children:[h.jsx("span",{children:N.emoji}),h.jsx("span",{children:N.name})]})]}),h.jsx("div",{className:"text-3xl",children:X})]})}),h.jsxs("div",{className:"px-5 py-3 bg-slate-900/50 border-b border-slate-700 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"XP"}),h.jsx("p",{className:"text-sm font-bold text-amber-400",children:Y.totalXP.toLocaleString()})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Rank"}),h.jsx("p",{className:"text-sm font-bold text-white",children:Y.warriorRank})]}),Y.currentPet&&h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Pet"}),h.jsx("p",{className:"text-sm font-bold text-white",children:Y.currentPet.name})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Stable"}),h.jsxs("p",{className:"text-sm font-bold text-amber-400",children:[Y.petStable.length," Elder",Y.petStable.length!==1?"s":""]})]})]}),h.jsxs("div",{className:"p-5 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 rounded-xl p-4",children:[h.jsx("span",{className:"text-slate-400 font-medium",children:"Total Balance"}),h.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",z(Y).toFixed(2)]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-3 text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Save"}),h.jsxs("div",{className:"font-bold text-amber-400",children:["$",Y.buckets.save.balance.toFixed(2)]})]}),h.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-3 text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Spend"}),h.jsxs("div",{className:"font-bold text-blue-400",children:["$",Y.buckets.spend.balance.toFixed(2)]})]}),h.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-3 text-center",children:[h.jsx("div",{className:"text-lg",children:""}),h.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Share"}),h.jsxs("div",{className:"font-bold text-rose-400",children:["$",Y.buckets.share.balance.toFixed(2)]})]})]}),Y.pendingAllocation&&Y.pendingAllocation>0&&h.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-3 text-center",children:h.jsxs("span",{className:"text-amber-400 font-medium text-sm",children:["$",Y.pendingAllocation.toFixed(2)," pending allocation"]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(M.button,{onClick:()=>x(Y.id),className:"flex-1 py-2.5 bg-emerald-500 text-white font-semibold rounded-xl shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Grant Funds"}),h.jsx(M.button,{onClick:()=>E(Y.id),className:"flex-1 py-2.5 bg-slate-700 text-slate-300 font-semibold rounded-xl text-sm hover:bg-slate-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Settings"})]})]})]},Y.id)})}),n.family.kids.length===0&&h.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[h.jsx("div",{className:"w-20 h-20 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-4xl opacity-50",children:""})}),h.jsx("p",{className:"text-lg text-slate-400",children:"No warriors enlisted yet"}),h.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Add your first warrior to begin"})]})]}),h.jsx(_t,{children:b&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>x(null),children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Grant Funds"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Amount"}),h.jsxs("div",{className:"relative mt-1.5",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:K,onChange:Y=>I(Y.target.value),placeholder:"10.00",min:"0.01",step:"0.01",className:"block w-full pl-8 pr-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all"})]})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Description (optional)"}),h.jsx("input",{type:"text",value:te,onChange:Y=>ne(Y.target.value),placeholder:"Weekly allowance",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all"})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx(M.button,{onClick:()=>x(null),className:"flex-1 py-3 border border-slate-600 text-slate-300 font-semibold rounded-xl hover:bg-slate-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:()=>ae(b),disabled:!K||parseFloat(K)<=0,className:"flex-1 py-3 bg-emerald-500 text-white font-semibold rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Grant"})]})]})]})})}),h.jsx(_t,{children:S&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>_(!1),children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Add Warrior"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Name"}),h.jsx("input",{type:"text",value:Q,onChange:Y=>W(Y.target.value),placeholder:"Alex",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Birthday"}),h.jsx("input",{type:"date",value:he,onChange:Y=>$(Y.target.value),max:new Date().toISOString().split("T")[0],className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Emblem"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:mh.map(Y=>h.jsx(M.button,{onClick:()=>ee(Y),className:`text-2xl p-2 rounded-xl transition-all ${O===Y?"bg-amber-500/20 ring-2 ring-amber-500":"bg-slate-700 hover:bg-slate-600"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:Y},Y))})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx(M.button,{onClick:()=>_(!1),className:"flex-1 py-3 border border-slate-600 text-slate-300 font-semibold rounded-xl hover:bg-slate-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:j,disabled:!Q.trim()||!he,className:"flex-1 py-3 bg-emerald-500 text-white font-semibold rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Enlist"})]})]})]})})}),h.jsx(_t,{children:A&&h.jsx(xN,{kidId:A,onClose:()=>E(null),onSetInterestRate:r,onSetBaseline:o,onSetInterestDay:c,onSetXP:u,onApplyInterest:p})}),h.jsx(_t,{children:k&&h.jsx(vN,{onComplete:Y=>{y(Y),L(!1)},onSkip:()=>L(!1)})}),h.jsx(_t,{children:R&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>q(!1),children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-red-500/30 rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:Y=>Y.stopPropagation(),children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Reset All Data?"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"This will permanently delete all warriors, pets, balances, and transaction history. This action cannot be undone."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(M.button,{onClick:()=>q(!1),className:"flex-1 py-3 border border-slate-600 text-slate-300 font-semibold rounded-xl hover:bg-slate-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:()=>{g(),q(!1)},className:"flex-1 py-3 bg-red-500 text-white font-semibold rounded-xl shadow-md hover:bg-red-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Reset Everything"})]})]})})})]})}function xN({kidId:n,onClose:t,onSetInterestRate:a,onSetBaseline:r,onSetInterestDay:o,onSetXP:c,onApplyInterest:u}){const{state:m}=pn(),p=m.family?.kids.find(I=>I.id===n),[y,g]=H.useState(p?.buckets.save.interestRate||5),[b,x]=H.useState(p?.buckets.save.baseline||0),[S,_]=H.useState(p?.buckets.save.interestDay||0),[A,E]=H.useState(p?.totalXP||0);if(!p)return null;const k=()=>{a(n,y)},L=()=>{r(n,b)},R=()=>{c(n,A)},q=p.buckets.save.balance*y/100/12,K=Ao(p.warriorRank);return h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:t,children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-lg shadow-2xl my-8",onClick:I=>I.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-3xl",children:p.avatar}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-bold text-white",children:[p.name,"'s Settings"]}),h.jsxs("p",{className:"text-sm text-amber-400",children:[K.emoji," ",K.name]})]})]}),h.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200 p-1",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-5 grid grid-cols-3 gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Total XP"}),h.jsx("p",{className:"text-lg font-bold text-amber-400",children:p.totalXP.toLocaleString()})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Rank"}),h.jsx("p",{className:"text-lg font-bold text-white",children:p.warriorRank})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-slate-500",children:"Stable"}),h.jsx("p",{className:"text-lg font-bold text-white",children:p.petStable.length})]})]}),h.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4 mb-5",children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Interest Rate (APR)"}),h.jsxs("p",{className:"text-sm text-slate-400 mb-3",children:["Interest is calculated yearly but paid monthly. Current monthly payment: ",h.jsxs("span",{className:"font-semibold text-amber-400",children:["$",q.toFixed(2)]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"range",value:y,onChange:I=>g(parseInt(I.target.value)),min:1,max:20,className:"flex-1"}),h.jsxs("span",{className:"text-xl font-bold text-amber-400 w-14 text-right",children:[y,"%"]})]}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[h.jsx(M.button,{onClick:k,className:"flex-1 py-2.5 bg-amber-500 text-slate-900 font-semibold rounded-lg text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Save Rate"}),h.jsx(M.button,{onClick:()=>u(n),className:"flex-1 py-2.5 bg-emerald-500 text-white font-semibold rounded-lg text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Apply Interest Now"})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-amber-500/20",children:[h.jsx("h5",{className:"font-medium text-white mb-2",children:"Auto-Apply Interest"}),h.jsxs("p",{className:"text-sm text-slate-400 mb-3",children:["Automatically apply interest on a specific day each month.",p.buckets.save.lastInterestDate&&h.jsxs("span",{className:"block mt-1",children:["Last applied: ",h.jsx("span",{className:"font-semibold text-amber-400",children:new Date(p.buckets.save.lastInterestDate).toLocaleDateString()})]})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("select",{value:S,onChange:I=>{const te=parseInt(I.target.value);_(te),o(n,te)},className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-amber-500",children:[h.jsx("option",{value:0,children:"Disabled (manual only)"}),h.jsx("option",{value:1,children:"1st of each month"}),h.jsx("option",{value:15,children:"15th of each month"}),h.jsx("option",{value:-1,children:"Last day of each month"}),h.jsx("optgroup",{label:"Custom Day",children:Array.from({length:28},(I,te)=>te+1).map(I=>h.jsxs("option",{value:I,children:[I===1?"1st":I===2?"2nd":I===3?"3rd":`${I}th`," of each month"]},I))})]})})]})]}),h.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 mb-5",children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Pet Growth Baseline"}),h.jsxs("p",{className:"text-sm text-slate-400 mb-3",children:["Initial lump sum that doesn't count toward pet evolution. Pet level is based on savings above this amount.",b>0&&h.jsxs("span",{className:"block mt-1",children:["Current effective savings for pet: ",h.jsxs("span",{className:"font-semibold text-blue-400",children:["$",Math.max(0,p.buckets.save.balance-b).toFixed(2)]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:b||"",onChange:I=>x(parseFloat(I.target.value)||0),min:0,step:1,placeholder:"0",className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsx(M.button,{onClick:L,className:"px-4 py-2.5 bg-blue-500 text-white font-semibold rounded-lg text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Save Baseline"})]})]}),h.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 mb-5",children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Adjust XP"}),h.jsxs("p",{className:"text-sm text-slate-400 mb-3",children:["Manually adjust XP to correct errors or make adjustments. Current: ",h.jsxs("span",{className:"font-semibold text-purple-400",children:[p.totalXP," XP"]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"number",value:A,onChange:I=>E(parseInt(I.target.value)||0),min:0,step:1,className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"}),h.jsx("span",{className:"text-slate-500",children:"XP"}),h.jsx(M.button,{onClick:R,className:"px-4 py-2.5 bg-purple-500 text-white font-semibold rounded-lg text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Set XP"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Transaction History"}),h.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:p.transactions.length===0?h.jsx("p",{className:"text-slate-500 text-center py-6",children:"No transactions yet"}):p.transactions.slice(0,20).map(I=>h.jsxs("div",{className:"flex items-center justify-between bg-slate-900/50 rounded-lg p-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-300 text-sm",children:I.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-500",children:new Date(I.timestamp).toLocaleDateString()}),I.xpEarned&&I.xpEarned>0&&h.jsxs("span",{className:"text-xs text-amber-400",children:["+",I.xpEarned," XP"]})]})]}),h.jsxs("span",{className:`font-semibold text-sm ${I.amount>=0?"text-emerald-400":"text-red-400"}`,children:[I.amount>=0?"+":"","$",I.amount.toFixed(2)]})]},I.id))})]}),h.jsx(M.button,{onClick:t,className:"w-full mt-6 py-3 bg-slate-700 text-slate-300 font-semibold rounded-xl hover:bg-slate-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Close"})]})})}function wN(){const{state:n,switchMode:t,selectKid:a}=pn();if(!n.family)return null;const r=o=>{a(o)};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-sm border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-4xl",children:""}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-amber-400",children:"Wealth Warriors"}),h.jsx("p",{className:"text-sm text-slate-400",children:n.family.name})]})]}),h.jsx(M.button,{onClick:()=>t("parent"),className:"px-6 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-bold rounded-full shadow-md",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Command Center"})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsx(M.h2,{className:"text-4xl font-bold text-center text-amber-400 mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:"Choose Your Warrior"}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.family.kids.map((o,c)=>{const u=Ao(o.warriorRank),m=o.currentPet?Er(o.currentPet.type,o.currentPet.level):"";return h.jsxs(M.button,{onClick:()=>r(o.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:c*.1},className:"bg-slate-800 border border-slate-700 rounded-3xl shadow-xl p-6 text-center hover:shadow-2xl hover:border-amber-500/50 transition-all relative overflow-hidden group",whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-amber-600/10 opacity-0 group-hover:opacity-100 transition-opacity"}),h.jsxs("div",{className:"relative z-10",children:[h.jsx(M.div,{className:"text-7xl mb-4",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:o.avatar}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.name}),h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[h.jsx("span",{className:"text-xl",children:u.emoji}),h.jsx("span",{className:"text-sm font-medium text-amber-400",children:u.name})]}),h.jsx("div",{className:"flex items-center justify-center gap-4 mb-3",children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-2xl",children:m}),o.currentPet&&h.jsx("span",{className:"text-xs text-slate-400",children:o.currentPet.name})]})}),h.jsx("div",{className:"bg-gradient-to-r from-emerald-600/20 to-emerald-500/20 border border-emerald-500/30 rounded-xl py-2 px-4 inline-block",children:h.jsxs("span",{className:"text-emerald-400 font-bold",children:["$",(o.buckets.save.balance+o.buckets.spend.balance+o.buckets.share.balance).toFixed(2)]})}),h.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[o.totalXP.toLocaleString()," XP"]}),o.pendingAllocation&&o.pendingAllocation>0&&h.jsxs(M.div,{className:"absolute -top-2 -right-2 bg-amber-500 text-slate-900 rounded-full px-3 py-1 font-bold text-sm shadow-lg",animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:["New! $",o.pendingAllocation.toFixed(2)]})]})]},o.id)})}),n.family.kids.length===0&&h.jsxs(M.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("p",{className:"text-xl text-slate-400",children:"No warriors enlisted yet!"}),h.jsx("p",{className:"text-slate-500",children:"Visit the Command Center to add warriors"})]})]})]})}function SN({onComplete:n}){const{getSelectedKid:t,allocateMoney:a}=pn(),r=t(),o=r?.pendingAllocation||0,[c,u]=H.useState(0),[m,p]=H.useState(0),[y,g]=H.useState(0);if(H.useEffect(()=>{if(o>0){const O=Math.round(o*.4*100)/100,ee=Math.round(o*.5*100)/100,ae=Math.round((o-O-ee)*100)/100;u(O),p(ee),g(ae)}},[o]),H.useEffect(()=>{const O=Math.round((o-c-m)*100)/100;O>=0&&g(O)},[c,m,o]),!r||!r.pendingAllocation)return null;const b=Math.round((c+m+y)*100)/100,x=Math.abs(b-o)<.01,S=o>0?Math.round(c/o*100):0,_=o>0?Math.round(m/o*100):0,A=o>0?Math.round(y/o*100):0;let E=0;c>0&&(E+=Fe.ALLOCATE_TO_BUCKET),m>0&&(E+=Fe.ALLOCATE_TO_BUCKET),y>0&&(E+=Fe.ALLOCATE_TO_BUCKET);const k=r.buckets.save.baseline||0,R=r.buckets.save.balance+c,q=r.currentPet?.level||0,I=mn(R,k)>q;I&&(E+=Fe.PET_LEVEL_UP);const te=r.currentPet?Er(r.currentPet.type,r.currentPet.level):"",ne=(O,ee)=>{const ae=Math.round(o*O*100)/100,j=Math.round(o*ee*100)/100,z=Math.round((o-ae-j)*100)/100;u(ae),p(j),g(z)},Q=O=>{const ee=Math.min(O,o);u(ee),ee+m>o&&p(Math.max(0,o-ee))},W=O=>{const ee=o-c,ae=Math.min(O,ee);p(ae)},he=()=>{x&&(a(r.id,c,m,y),n())},$=O=>{const ee=parseFloat(O)||0;return Math.round(Math.max(0,Math.min(ee,o))*100)/100};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900 flex items-center justify-center p-4",children:h.jsxs(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 p-6 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx(M.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex justify-center mb-4",children:h.jsx(M.div,{className:"text-6xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:te})}),h.jsx(M.h2,{className:"text-xl font-bold text-white",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:"New funds to deploy!"}),h.jsx(M.div,{className:"mt-3 relative",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:h.jsxs("div",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-500 bg-clip-text text-transparent",children:["$",o.toFixed(2)]})})]}),h.jsxs(M.div,{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-3 mb-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""}),h.jsx("span",{className:"text-sm text-slate-300",children:"XP you'll earn:"})]}),h.jsxs(M.span,{className:"text-lg font-bold text-amber-400",initial:{scale:1.2},animate:{scale:1},children:["+",E," XP"]},E)]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[c>0&&"+1 Save",m>0&&" +1 Spend",y>0&&" +1 Share",I&&" +10 Pet Level Up!"]})]}),h.jsxs("div",{className:"flex gap-2 mb-6 justify-center flex-wrap",children:[h.jsx(M.button,{onClick:()=>ne(.4,.5),className:"px-3 py-1.5 bg-slate-700 text-slate-300 font-medium rounded-lg text-sm hover:bg-slate-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"40-50-10"}),h.jsx(M.button,{onClick:()=>ne(.5,.3),className:"px-3 py-1.5 bg-slate-700 text-slate-300 font-medium rounded-lg text-sm hover:bg-slate-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"50-30-20"}),h.jsx(M.button,{onClick:()=>ne(.334,.333),className:"px-3 py-1.5 bg-slate-700 text-slate-300 font-medium rounded-lg text-sm hover:bg-slate-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Equal"}),h.jsx(M.button,{onClick:()=>ne(1,0),className:"px-3 py-1.5 bg-amber-500/20 text-amber-400 font-medium rounded-lg text-sm hover:bg-amber-500/30 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"All Save"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-lg",children:""})}),h.jsx("span",{className:"font-semibold text-white",children:"Save"}),I&&h.jsx("span",{className:"text-xs text-amber-400 ml-1",children:" Pet levels up!"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:c||"",onChange:O=>Q($(O.target.value)),step:"0.01",min:"0",max:o,className:"w-20 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1 text-right text-amber-400 font-bold focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),h.jsx("input",{type:"range",value:c,onChange:O=>Q(parseFloat(O.target.value)),min:0,max:o,step:.01,className:"w-full h-2 bg-slate-700 rounded-full appearance-none cursor-pointer accent-amber-500"}),h.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[h.jsx("span",{children:"$0"}),h.jsxs("span",{className:"text-amber-400",children:[S,"%"]}),h.jsxs("span",{children:["$",o.toFixed(2)]})]})]}),h.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-lg",children:""})}),h.jsx("span",{className:"font-semibold text-white",children:"Spend"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:m||"",onChange:O=>W($(O.target.value)),step:"0.01",min:"0",max:o-c,className:"w-20 bg-slate-700 border border-slate-600 rounded-lg px-2 py-1 text-right text-blue-400 font-bold focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsx("input",{type:"range",value:m,onChange:O=>W(parseFloat(O.target.value)),min:0,max:Math.max(0,o-c),step:.01,className:"w-full h-2 bg-slate-700 rounded-full appearance-none cursor-pointer accent-blue-500"}),h.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[h.jsx("span",{children:"$0"}),h.jsxs("span",{className:"text-blue-400",children:[_,"%"]}),h.jsxs("span",{children:["$",Math.max(0,o-c).toFixed(2)]})]})]}),h.jsx("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-rose-500/20 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-lg",children:""})}),h.jsx("span",{className:"font-semibold text-white",children:"Share"}),h.jsx("span",{className:"text-xs text-slate-400 ml-1",children:"(remainder)"})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("span",{className:"text-xl font-bold text-rose-400",children:["$",y.toFixed(2)]}),h.jsxs("span",{className:"text-sm text-slate-500 ml-2",children:["(",A,"%)"]})]})]})})]}),h.jsx("div",{className:`mt-5 text-center py-2.5 rounded-xl font-medium ${x?"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:x?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Ready to deploy $",b.toFixed(2)]}):h.jsxs("span",{children:["Total: $",b.toFixed(2)," / $",o.toFixed(2)]})}),h.jsxs(M.button,{onClick:he,disabled:!x,className:"w-full mt-5 py-3.5 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 text-lg font-semibold rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:x?1.02:1},whileTap:{scale:x?.98:1},children:["Deploy Funds (+",E," XP)"]})]})})}function _N({onBack:n}){const{getSelectedKid:t,hatchNewPet:a}=pn(),r=t(),[o,c]=H.useState(!1),[u,m]=H.useState(""),[p,y]=H.useState(null),[g,b]=H.useState(!1),x=()=>{const j=r?.petStable.map(ce=>ce.type)||[],z=r?.currentPet?.type,ie=Ye.map(ce=>ce.type).filter(ce=>ce!==z&&!j.includes(ce)),Y=ie.length>0?ie:Ye.map(ce=>ce.type);return Y[Math.floor(Math.random()*Y.length)]},S=()=>{y(null),b(!1),m(""),c(!0)},_=()=>{b(!0);let j=0;const z=setInterval(()=>{y(Ye[Math.floor(Math.random()*Ye.length)].type),j++,j>=10&&(clearInterval(z),y(x()),b(!1))},100)};if(!r)return null;const{save:A}=r.buckets,E=r.currentPet,k=A.baseline||0,L=Math.max(0,A.balance-k),R=E?.level??0,q=US(R),K=po[R]?.minBalance??0,I=q-K,te=L-K,ne=R>=5?100:Math.min(100,Math.max(0,te/I*100)),Q=Math.max(0,q-L),W=A.balance*A.interestRate/100/12,he=r.transactions.filter(j=>j.bucket==="save"),$=E?Er(E.type,E.level):"",O=E?kd(E.level):"No Pet",ee=()=>{u.trim()&&r&&p&&(a(r.id,p,u.trim()),c(!1),m(""),y(null))},ae=E&&E.level===5;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(M.button,{onClick:n,className:"flex items-center gap-2 text-amber-400 font-semibold hover:text-amber-300 transition-colors",whileHover:{x:-3},whileTap:{scale:.95},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),h.jsx("h1",{className:"text-lg font-semibold text-white",children:"Save & Pet"}),h.jsx("div",{className:"w-16"})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[h.jsxs(M.div,{className:"bg-gradient-to-br from-amber-500/10 via-slate-800 to-amber-500/10 rounded-2xl shadow-lg border border-amber-500/30 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"text-center",children:[h.jsx(M.div,{className:"text-8xl mb-4",animate:{scale:[1,1.05,1],y:[0,-10,0]},transition:{duration:3,repeat:1/0},children:$}),E?h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:E.name}),h.jsxs("p",{className:"text-amber-400 font-medium",children:[O," ",Ye.find(j=>j.type===E.type)?.name]})]}):h.jsx("p",{className:"text-slate-400",children:"No companion yet"})]}),h.jsxs("div",{className:"mt-6 text-center",children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Savings Balance"}),h.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",A.balance.toFixed(2)]}),k>0&&h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Pet growth based on: ",h.jsxs("span",{className:"text-amber-400",children:["$",L.toFixed(2)]})," (above $",k.toFixed(0)," baseline)"]})]}),E&&E.level<5&&h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[h.jsxs("span",{children:[O," ($",L.toFixed(0),")"]}),h.jsxs("span",{children:[kd(R+1)," at $",q]})]}),h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 overflow-hidden",children:h.jsx(M.div,{className:"h-full bg-gradient-to-r from-amber-400 to-amber-500 rounded-full relative",initial:{width:0},animate:{width:`${ne}%`},transition:{duration:1,ease:"easeOut"},children:h.jsx(M.div,{className:"absolute inset-0 bg-white/20",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0}})})}),h.jsxs("p",{className:"text-sm text-slate-400 mt-2 text-center",children:["Save ",h.jsxs("span",{className:"font-semibold text-amber-400",children:["$",Q.toFixed(2)]})," more to evolve"]})]}),ae&&h.jsxs(M.div,{className:"mt-6 bg-gradient-to-r from-amber-500/20 to-amber-600/20 border border-amber-500/30 rounded-xl p-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"text-2xl mr-2",children:""}),h.jsx("span",{className:"font-semibold text-amber-400",children:"Your pet reached Elder status!"})]}),h.jsxs("p",{className:"text-slate-400 text-sm text-center mt-2",children:[E.name," will move to your Pet Stable and you can adopt a new companion!"]}),h.jsx(M.button,{onClick:S,className:"w-full mt-4 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Hatch Surprise Egg!"})]})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Evolution Path"}),h.jsx("div",{className:"space-y-2",children:po.map(j=>h.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-xl transition-colors ${R===j.level?"bg-amber-500/10 border border-amber-500/30":"bg-slate-900/50"}`,children:[h.jsx("div",{className:`text-3xl ${R<j.level?"grayscale opacity-50":""}`,children:j.level===0?"":j.level===5?`${E?Ye.find(z=>z.type===E.type)?.emoji:""}`:E?Ye.find(z=>z.type===E.type)?.emoji:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:`font-semibold ${R===j.level?"text-amber-400":"text-slate-300"}`,children:j.name}),h.jsxs("p",{className:"text-sm text-slate-500",children:["$",j.minBalance,"+"]})]}),R===j.level&&h.jsx("span",{className:"text-amber-400 text-sm font-medium",children:"Current"}),R>j.level&&h.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},j.level))})]}),r.petStable.length>0&&h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide",children:"Pet Stable"}),h.jsxs("span",{className:"text-amber-400 text-sm font-medium",children:[r.petStable.length," Elder",r.petStable.length!==1?"s":""]})]}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:r.petStable.map(j=>h.jsxs(M.div,{className:"bg-gradient-to-br from-amber-500/10 to-slate-800 border border-amber-500/30 rounded-xl p-4 text-center",whileHover:{scale:1.02},children:[h.jsxs("div",{className:"text-4xl mb-2",children:["",Ye.find(z=>z.type===j.type)?.emoji]}),h.jsx("p",{className:"font-semibold text-white text-sm",children:j.name}),h.jsx("p",{className:"text-xs text-amber-400",children:Ye.find(z=>z.type===j.type)?.name}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(j.raisedToElderAt).toLocaleDateString()})]},j.id))})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Interest"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl p-4",children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Annual Rate (APR)"}),h.jsxs("p",{className:"text-2xl font-bold text-amber-400",children:[A.interestRate,"%"]})]}),h.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4",children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Monthly Interest"}),h.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:["+$",W.toFixed(2)]})]})]}),h.jsx("div",{className:"mt-4 bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:h.jsxs("p",{className:"text-blue-300 text-sm",children:[h.jsx("span",{className:"font-semibold",children:"How it works:"})," Your savings earn interest, and your pet grows as your balance increases. Save more to evolve your companion!"]})})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"History"}),he.length===0?h.jsx("div",{className:"text-center py-8 text-slate-500",children:h.jsx("p",{children:"No transactions yet"})}):h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:he.slice(0,10).map(j=>h.jsxs(M.div,{className:"flex items-center justify-between py-2 border-b border-slate-700/50 last:border-0",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-300 text-sm",children:j.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-500",children:new Date(j.timestamp).toLocaleDateString()}),j.xpEarned&&j.xpEarned>0&&h.jsxs("span",{className:"text-xs text-amber-400",children:["+",j.xpEarned," XP"]})]})]}),h.jsxs("span",{className:`font-semibold text-sm ${j.amount>=0?"text-emerald-400":"text-red-400"}`,children:[j.amount>=0?"+":"","$",j.amount.toFixed(2)]})]},j.id))})]})]}),h.jsx(_t,{children:o&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>!g&&c(!1),children:h.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:j=>j.stopPropagation(),children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-amber-400 mb-2",children:"Surprise Egg!"}),h.jsxs("p",{className:"text-slate-400",children:[E?.name," will join your Pet Stable as an Elder"]})]}),h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(M.div,{className:"text-8xl",animate:g?{scale:[1,1.2,1],rotate:[-10,10,-10]}:p?{scale:[.5,1.2,1]}:{scale:[1,1.05,1],y:[0,-5,0]},transition:g?{duration:.2,repeat:1/0}:{duration:.5},children:p?Ye.find(j=>j.type===p)?.emoji:""})}),p&&!g&&h.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[h.jsxs("p",{className:"text-xl font-bold text-white",children:["It's a ",Ye.find(j=>j.type===p)?.name,"!"]}),h.jsx("p",{className:"text-slate-400 text-sm mt-1",children:Ye.find(j=>j.type===p)?.description})]}),!p&&!g&&h.jsx(M.button,{onClick:_,className:"w-full py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-bold text-lg rounded-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:" Crack the Egg! "}),g&&h.jsx("div",{className:"text-center py-4",children:h.jsx("p",{className:"text-amber-400 font-medium animate-pulse",children:"Hatching..."})}),p&&!g&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mb-6",children:h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Name Your New Companion"}),h.jsx("input",{type:"text",value:u,onChange:j=>m(j.target.value),placeholder:`My ${Ye.find(j=>j.type===p)?.name}`,className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all",autoFocus:!0})]})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(M.button,{onClick:()=>{c(!1),y(null)},className:"flex-1 py-3 bg-slate-700 text-white font-semibold rounded-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:ee,disabled:!u.trim(),className:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl disabled:opacity-50",whileHover:{scale:u.trim()?1.02:1},whileTap:{scale:u.trim()?.98:1},children:"Welcome Home!"})]})]}),!p&&!g&&h.jsx(M.button,{onClick:()=>c(!1),className:"w-full mt-3 py-2 text-slate-400 font-medium hover:text-slate-300 transition-colors",whileTap:{scale:.98},children:"Maybe later"})]})})})]})}function TN({onBack:n}){const{getSelectedKid:t,addGoal:a,purchaseGoal:r}=pn(),o=t(),[c,u]=H.useState(!1),[m,p]=H.useState(""),[y,g]=H.useState(""),[b,x]=H.useState(""),[S,_]=H.useState(""),[A,E]=H.useState(""),[k,L]=H.useState(!1),[R,q]=H.useState(!1),[K,I]=H.useState("");if(!o)return null;const{spend:te}=o.buckets,ne=te.goals.filter(O=>!O.purchased),Q=te.goals.filter(O=>O.purchased),W=()=>{m.trim()&&parseFloat(y)>0&&(a(o.id,m.trim(),parseFloat(y),k?"":b,k?A:void 0,S||void 0),p(""),g(""),x(""),_(""),E(""),L(!1),u(!1))},he=(O,ee)=>{r(o.id,O),I(ee),q(!0),setTimeout(()=>q(!1),3e3)},$=o.transactions.filter(O=>O.bucket==="spend");return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(M.button,{onClick:n,className:"flex items-center gap-2 text-blue-400 font-semibold hover:text-blue-300 transition-colors",whileHover:{x:-3},whileTap:{scale:.95},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),h.jsx("h1",{className:"text-lg font-semibold text-white",children:"Spend"}),h.jsx("div",{className:"w-16"})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Available Balance"}),h.jsxs("p",{className:"text-4xl font-bold text-white mt-1",children:["$",te.balance.toFixed(2)]})]}),h.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500/20 to-blue-600/20 border border-blue-500/30 rounded-2xl flex items-center justify-center",children:h.jsx("span",{className:"text-3xl",children:""})})]}),h.jsxs(M.button,{onClick:()=>u(!0),className:"w-full mt-5 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl shadow-md flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Mission"]})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Active Missions"}),ne.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx("span",{className:"text-3xl opacity-50",children:""})}),h.jsx("p",{className:"text-slate-400",children:"No missions yet"}),h.jsx("p",{className:"text-slate-500 text-sm",children:"Add a mission to start saving for something"})]}):h.jsx("div",{className:"space-y-4",children:ne.map(O=>{const ee=te.balance/O.targetAmount*100,ae=te.balance>=O.targetAmount;return h.jsx(M.div,{className:`rounded-xl p-4 border-2 transition-colors ${ae?"border-emerald-500/50 bg-emerald-500/10":"border-slate-600 bg-slate-900/50"}`,layout:!0,children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center overflow-hidden ${ae?"bg-emerald-500/20":"bg-slate-700"}`,children:O.imageUrl?h.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none"}}):h.jsx("span",{className:"text-2xl",children:O.visual||""})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h4",{className:"font-semibold text-white",children:O.name}),h.jsxs("span",{className:"font-bold text-slate-300",children:["$",O.targetAmount.toFixed(2)]})]}),O.linkUrl&&h.jsx("a",{href:O.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:text-blue-300 mb-2 inline-block",children:"View product "}),h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden mb-2",children:h.jsx(M.div,{className:`h-full rounded-full ${ae?"bg-gradient-to-r from-emerald-400 to-emerald-500":"bg-gradient-to-r from-blue-400 to-blue-500"}`,initial:{width:0},animate:{width:`${Math.min(100,ee)}%`},transition:{duration:.5}})}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-slate-400",children:["$",Math.min(te.balance,O.targetAmount).toFixed(2)," of $",O.targetAmount.toFixed(2)]}),h.jsxs("span",{className:`font-semibold ${ae?"text-emerald-400":"text-blue-400"}`,children:[Math.min(100,ee).toFixed(0),"%"]})]}),ae&&h.jsxs(M.button,{onClick:()=>he(O.id,O.name),className:"w-full mt-3 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold rounded-lg shadow-md flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Complete Mission"]})]})]})},O.id)})})]}),Q.length>0&&h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Completed"}),h.jsx("div",{className:"space-y-3",children:Q.map(O=>h.jsxs("div",{className:"flex items-center gap-4 bg-slate-900/50 rounded-xl p-3",children:[h.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center overflow-hidden",children:O.imageUrl?h.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover"}):h.jsx("span",{className:"text-xl",children:O.visual||""})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-slate-300",children:O.name}),h.jsx("p",{className:"text-xs text-slate-500",children:O.purchasedAt?new Date(O.purchasedAt).toLocaleDateString():"Purchased"})]}),h.jsxs("span",{className:"font-semibold text-slate-400",children:["$",O.targetAmount.toFixed(2)]})]},O.id))})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"History"}),$.length===0?h.jsx("div",{className:"text-center py-6 text-slate-500",children:h.jsx("p",{children:"No transactions yet"})}):h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:$.slice(0,10).map(O=>h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-700/50 last:border-0",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-300 text-sm",children:O.description}),h.jsx("p",{className:"text-xs text-slate-500",children:new Date(O.timestamp).toLocaleDateString()})]}),h.jsxs("span",{className:`font-semibold text-sm ${O.amount>=0?"text-emerald-400":"text-red-400"}`,children:[O.amount>=0?"+":"","$",O.amount.toFixed(2)]})]},O.id))})]})]}),h.jsx(_t,{children:c&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:()=>u(!1),children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl my-8",onClick:O=>O.stopPropagation(),children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"New Mission"}),h.jsxs("div",{className:"mb-5",children:[h.jsxs("div",{className:"flex gap-2 mb-3",children:[h.jsx("button",{onClick:()=>L(!1),className:`flex-1 py-2 rounded-lg font-medium text-sm transition-colors ${k?"bg-slate-700 text-slate-400 border border-slate-600":"bg-blue-500/20 text-blue-400 border border-blue-500"}`,children:"Choose Icon"}),h.jsx("button",{onClick:()=>L(!0),className:`flex-1 py-2 rounded-lg font-medium text-sm transition-colors ${k?"bg-blue-500/20 text-blue-400 border border-blue-500":"bg-slate-700 text-slate-400 border border-slate-600"}`,children:"Custom Image"})]}),k?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Image URL"}),h.jsx("input",{type:"url",value:A,onChange:O=>E(O.target.value),placeholder:"https://example.com/image.jpg",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-blue-400 focus:ring focus:ring-blue-500/20 transition-all text-sm"})]}),A&&h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-slate-700",children:h.jsx("img",{src:A,alt:"Preview",className:"w-full h-full object-cover",onError:O=>{O.target.src=""}})})})]}):h.jsxs(h.Fragment,{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Choose an icon"}),h.jsx("div",{className:"grid grid-cols-8 gap-2",children:zS.map(O=>h.jsx(M.button,{onClick:()=>x(O.emoji),className:`w-10 h-10 rounded-lg text-xl flex items-center justify-center transition-colors ${b===O.emoji?"bg-blue-500/20 ring-2 ring-blue-400":"bg-slate-700 hover:bg-slate-600"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:O.label,children:O.emoji},O.emoji))})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"What's your mission?"}),h.jsx("input",{type:"text",value:m,onChange:O=>p(O.target.value),placeholder:"New headphones, video game...",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-blue-400 focus:ring focus:ring-blue-500/20 transition-all"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Product link (optional)"}),h.jsx("input",{type:"url",value:S,onChange:O=>_(O.target.value),placeholder:"https://amazon.com/product...",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-blue-400 focus:ring focus:ring-blue-500/20 transition-all text-sm"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add a link to see what you're saving for"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Target amount"}),h.jsxs("div",{className:"relative mt-1.5",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:y,onChange:O=>g(O.target.value),placeholder:"50.00",min:"0.01",step:"0.01",className:"block w-full pl-8 pr-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-blue-400 focus:ring focus:ring-blue-500/20 transition-all"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx(M.button,{onClick:()=>u(!1),className:"flex-1 py-3 border border-slate-600 text-slate-300 font-semibold rounded-xl hover:bg-slate-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:W,disabled:!m.trim()||!y||parseFloat(y)<=0,className:"flex-1 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Add Mission"})]})]})]})})}),h.jsx(_t,{children:R&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>q(!1),children:h.jsxs(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 text-center shadow-2xl max-w-sm mx-4",children:[h.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:3},children:h.jsx("span",{className:"text-7xl",children:""})}),h.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Mission Complete!"}),h.jsxs("p",{className:"text-slate-300 mt-2",children:["You conquered ",h.jsx("span",{className:"font-bold text-amber-400",children:K})]}),h.jsx(M.button,{onClick:()=>q(!1),className:"mt-6 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Victory!"})]})})})]})}function jN({onBack:n}){const{getSelectedKid:t,donate:a,addCustomCause:r}=pn(),o=t(),[c,u]=H.useState(null),[m,p]=H.useState(""),[y,g]=H.useState(!1),[b,x]=H.useState(null),[S,_]=H.useState(!1),[A,E]=H.useState(""),[k,L]=H.useState(""),[R,q]=H.useState("");if(!o)return null;const{share:K}=o.buckets,I=[...VS,...K.customCauses||[]],te=()=>{if(!c||!m)return;const W=parseFloat(m);if(W<=0||W>K.balance)return;const he=K.totalGiven;a(o.id,W,c.name);const $=he+W,O=ir.find(ee=>$>=ee.threshold&&he<ee.threshold);O&&x(O),g(!0),p(""),u(null),setTimeout(()=>{g(!1),x(null)},3e3)},ne=()=>{if(!A.trim())return;const W={id:St(),name:A.trim(),description:k.trim()||"A cause I care about",imageUrl:R||void 0,isCustom:!0};r(o.id,W),E(""),L(""),q(""),_(!1)},Q=o.transactions.filter(W=>W.bucket==="share");return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(M.button,{onClick:n,className:"flex items-center gap-2 text-rose-400 font-semibold hover:text-rose-300 transition-colors",whileHover:{x:-3},whileTap:{scale:.95},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),h.jsx("h1",{className:"text-lg font-semibold text-white",children:"Give Back"}),h.jsx("div",{className:"w-16"})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Available to Give"}),h.jsxs("p",{className:"text-4xl font-bold text-white mt-1",children:["$",K.balance.toFixed(2)]})]}),h.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-rose-500/20 to-rose-600/20 border border-rose-500/30 rounded-2xl flex items-center justify-center",children:h.jsx("span",{className:"text-3xl",children:""})})]}),h.jsxs("div",{className:"mt-4 bg-rose-500/10 border border-rose-500/20 rounded-xl py-3 px-4 flex items-center justify-between",children:[h.jsx("span",{className:"text-rose-400 font-medium",children:"Community Impact"}),h.jsxs("span",{className:"text-xl font-bold text-rose-400",children:["$",K.totalGiven.toFixed(2)]})]})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Community Awards"}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:ir.map(W=>{const he=o.badges.some($=>$.type===W.type);return h.jsxs(M.div,{className:`rounded-xl p-4 text-center ${he?"bg-gradient-to-br from-rose-500/10 to-rose-600/10 border border-rose-500/30":"bg-slate-900/50 border border-slate-700"}`,whileHover:{scale:1.02},children:[h.jsx("div",{className:`text-4xl mb-2 ${!he&&"grayscale opacity-40"}`,children:W.emoji}),h.jsx("p",{className:`text-sm font-medium ${he?"text-rose-400":"text-slate-500"}`,children:W.name}),h.jsxs("p",{className:`text-xs mt-1 ${he?"text-rose-500":"text-slate-600"}`,children:["$",W.threshold,"+ given"]}),he&&h.jsx("p",{className:"text-xs text-slate-400 mt-2",children:W.description})]},W.type)})}),K.totalGiven<100&&h.jsx("div",{className:"mt-4 bg-slate-900/50 rounded-xl p-4",children:(()=>{const W=ir.find(O=>O.threshold>K.totalGiven);if(!W)return null;const he=ir.filter(O=>O.threshold<=K.totalGiven).pop()?.threshold||0,$=(K.totalGiven-he)/(W.threshold-he)*100;return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[h.jsxs("span",{children:["$",he]}),h.jsxs("span",{children:[W.name,": $",W.threshold]})]}),h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:h.jsx(M.div,{className:"h-full bg-gradient-to-r from-rose-400 to-rose-500 rounded-full",initial:{width:0},animate:{width:`${$}%`}})}),h.jsxs("p",{className:"text-sm text-slate-400 mt-2 text-center",children:["Give $",(W.threshold-K.totalGiven).toFixed(2)," more to become a ",W.name," ",W.emoji]})]})})()})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide",children:"Choose a Cause"}),h.jsxs(M.button,{onClick:()=>_(!0),className:"text-sm text-rose-400 hover:text-rose-300 flex items-center gap-1",whileHover:{scale:1.05},children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Cause"]})]}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:I.map(W=>h.jsxs(M.button,{onClick:()=>u(W),className:`rounded-xl p-4 text-center transition-all ${c?.id===W.id?"bg-rose-500/10 border-2 border-rose-500/50 shadow-md":"bg-slate-900/50 border-2 border-transparent hover:bg-slate-700"}`,whileHover:{scale:1.03},whileTap:{scale:.98},children:[W.imageUrl?h.jsx("div",{className:"w-12 h-12 mx-auto mb-2 rounded-lg overflow-hidden bg-slate-700",children:h.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-full h-full object-cover",onError:he=>{he.target.style.display="none"}})}):h.jsx("div",{className:"text-3xl mb-2",children:W.emoji||""}),h.jsx("p",{className:"font-medium text-slate-300 text-sm",children:W.name}),W.isCustom&&h.jsx("span",{className:"text-xs text-rose-400 mt-1 inline-block",children:"Custom"})]},W.id))}),h.jsx(_t,{children:c&&h.jsx(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-5",children:h.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/20 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.imageUrl?h.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-700",children:h.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"})}):h.jsx("span",{className:"text-2xl",children:c.emoji||""}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-white",children:c.name}),h.jsx("p",{className:"text-sm text-slate-400",children:c.description})]})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Donation amount"}),h.jsxs("div",{className:"relative mt-1.5",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"$"}),h.jsx("input",{type:"number",value:m,onChange:W=>p(W.target.value),placeholder:"5.00",min:"0.01",max:K.balance,step:"0.01",className:"block w-full pl-8 pr-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-rose-400 focus:ring focus:ring-rose-500/20 transition-all"})]})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[[1,2,5].filter(W=>W<=K.balance).map(W=>h.jsxs(M.button,{onClick:()=>p(W.toString()),className:"flex-1 py-2 bg-slate-800 text-rose-400 font-medium rounded-lg border border-slate-600 hover:border-rose-400 text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:["$",W]},W)),K.balance>0&&h.jsx(M.button,{onClick:()=>p(K.balance.toFixed(2)),className:"flex-1 py-2 bg-slate-800 text-rose-400 font-medium rounded-lg border border-slate-600 hover:border-rose-400 text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:"All"})]}),h.jsxs(M.button,{onClick:te,disabled:!m||parseFloat(m)<=0||parseFloat(m)>K.balance,className:"w-full mt-4 py-3 bg-gradient-to-r from-rose-500 to-rose-600 text-white font-semibold rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("span",{children:""}),"Give $",m||"0.00"," to Community"]})]})})})]}),h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Giving History"}),Q.length===0?h.jsxs("div",{className:"text-center py-8 text-slate-500",children:[h.jsx("p",{children:"No donations yet"}),h.jsx("p",{className:"text-sm mt-1",children:"Start giving to make an impact!"})]}):h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Q.slice(0,10).map(W=>h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-700/50 last:border-0",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-300 text-sm",children:W.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-500",children:new Date(W.timestamp).toLocaleDateString()}),W.xpEarned&&W.xpEarned>0&&h.jsxs("span",{className:"text-xs text-amber-400",children:["+",W.xpEarned," XP"]})]})]}),h.jsxs("span",{className:`font-semibold text-sm ${W.amount>=0?"text-emerald-400":"text-rose-400"}`,children:[W.amount>=0?"+":"","$",Math.abs(W.amount).toFixed(2)]})]},W.id))})]})]}),h.jsx(_t,{children:S&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>_(!1),children:h.jsxs(M.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:W=>W.stopPropagation(),children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-5",children:"Add Your Cause"}),h.jsx("p",{className:"text-slate-400 text-sm mb-5",children:"Add a cause you care about to support your community"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Cause Name"}),h.jsx("input",{type:"text",value:A,onChange:W=>E(W.target.value),placeholder:"Local animal rescue, school fundraiser...",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-rose-400 focus:ring focus:ring-rose-500/20 transition-all"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Description (optional)"}),h.jsx("input",{type:"text",value:k,onChange:W=>L(W.target.value),placeholder:"What this cause does...",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-rose-400 focus:ring focus:ring-rose-500/20 transition-all"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Image URL (optional)"}),h.jsx("input",{type:"url",value:R,onChange:W=>q(W.target.value),placeholder:"https://example.com/logo.png",className:"mt-1.5 block w-full px-4 py-3 border border-slate-600 bg-slate-900 text-white rounded-xl focus:border-rose-400 focus:ring focus:ring-rose-500/20 transition-all text-sm"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Add an image to represent your cause"})]}),R&&h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-700",children:h.jsx("img",{src:R,alt:"Preview",className:"w-full h-full object-cover",onError:W=>{W.target.src=""}})})}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx(M.button,{onClick:()=>_(!1),className:"flex-1 py-3 border border-slate-600 text-slate-300 font-semibold rounded-xl hover:bg-slate-700 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:ne,disabled:!A.trim(),className:"flex-1 py-3 bg-gradient-to-r from-rose-500 to-rose-600 text-white font-semibold rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Add Cause"})]})]})]})})}),h.jsx(_t,{children:y&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>g(!1),children:h.jsxs(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 text-center shadow-2xl max-w-sm mx-4",children:[h.jsx(M.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:3},children:h.jsx("span",{className:"text-7xl",children:""})}),h.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Community Hero!"}),h.jsx("p",{className:"text-slate-300 mt-2",children:"You made a difference today"}),b&&h.jsxs(M.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"mt-4 bg-gradient-to-r from-rose-500/10 to-rose-600/10 border border-rose-500/30 rounded-xl p-4",children:[h.jsx("p",{className:"text-rose-400 font-semibold",children:"New Award Earned!"}),h.jsx("div",{className:"text-4xl mt-2",children:b.emoji}),h.jsx("p",{className:"font-bold text-rose-400 mt-1",children:b.name}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:b.description})]}),h.jsx(M.button,{onClick:()=>g(!1),className:"mt-6 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Keep Going!"})]})})})]})}function EN(){const{getSelectedKid:n,selectKid:t,switchMode:a,state:r,updateKid:o,setPet:c}=pn(),u=n(),[m,p]=H.useState("dashboard"),[y,g]=H.useState(!1),[b,x]=H.useState(!1),[S,_]=H.useState(!1),[A,E]=H.useState(!1),[k,L]=H.useState(""),[R,q]=H.useState(""),[K,I]=H.useState(""),[te,ne]=H.useState("dragon"),[Q,W]=H.useState("");if(!u)return t(null),null;if(u.pendingAllocation&&u.pendingAllocation>0&&m==="dashboard")return h.jsx(SN,{onComplete:()=>{p("dashboard")}});const he=u.buckets.save.balance+u.buckets.spend.balance+u.buckets.share.balance,$=Ao(u.warriorRank),O=PS(u.warriorRank),ee=BS(u.warriorRank),ae=u.totalXP-ee,j=O-ee,z=u.warriorRank>=7?100:ae/j*100,ie=u.currentPet?Er(u.currentPet.type,u.currentPet.level):"",Y=u.currentPet?kd(u.currentPet.level):"No Pet",ce=()=>{r.family?.settings?.parentPin?x(!0):a("parent")},N=()=>{Q.trim()&&u&&(c(u.id,te,Q.trim()),E(!1),W(""))},X=u&&!u.currentPet,se=()=>{switch(m){case"save":return h.jsx(_N,{onBack:()=>p("dashboard")});case"spend":return h.jsx(TN,{onBack:()=>p("dashboard")});case"share":return h.jsx(jN,{onBack:()=>p("dashboard")});default:return null}};return m!=="dashboard"?se():h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-900 to-zinc-900",children:[h.jsx("header",{className:"bg-slate-800/90 backdrop-blur-md border-b border-slate-700 sticky top-0 z-10",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs(M.button,{onClick:()=>t(null),className:"flex items-center gap-2 text-amber-400 font-semibold hover:text-amber-300 transition-colors",whileHover:{x:-3},whileTap:{scale:.95},children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),h.jsxs(M.button,{onClick:()=>{L(u.name),q(u.avatar),I(u.birthday||""),_(!0)},className:"flex items-center gap-3 hover:bg-slate-700/50 px-3 py-1.5 rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("span",{className:"text-2xl",children:u.avatar}),h.jsx("span",{className:"font-semibold text-white",children:u.name}),h.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]}),h.jsxs(M.button,{onClick:ce,className:"text-sm text-slate-400 hover:text-slate-200 flex items-center gap-1",whileHover:{scale:1.05},children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Command"]})]})}),h.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[h.jsxs(M.div,{className:"bg-gradient-to-r from-amber-500/10 via-slate-800 to-amber-500/10 rounded-2xl shadow-lg border border-amber-500/30 p-6 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(M.div,{className:"text-5xl",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:$.emoji}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Warrior Rank"}),h.jsx("p",{className:"text-2xl font-bold text-amber-400",children:$.name}),h.jsx("p",{className:"text-slate-500 text-sm",children:$.description})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-slate-400 text-sm",children:"Total XP"}),h.jsx("p",{className:"text-3xl font-bold text-white",children:u.totalXP.toLocaleString()})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mb-2",children:[h.jsxs("span",{children:["Rank ",u.warriorRank]}),u.warriorRank<7&&h.jsxs("span",{children:[O-u.totalXP," XP to Rank ",u.warriorRank+1]}),u.warriorRank>=7&&h.jsx("span",{className:"text-amber-400",children:"Max Rank!"})]}),h.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3 overflow-hidden",children:h.jsx(M.div,{className:"h-full bg-gradient-to-r from-amber-400 via-yellow-400 to-amber-500 rounded-full",initial:{width:0},animate:{width:`${Math.min(100,Math.max(0,z))}%`},transition:{duration:1,ease:"easeOut"}})})]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[h.jsxs(M.div,{className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium uppercase tracking-wide",children:"Total Balance"}),h.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-emerald-500 bg-clip-text text-transparent mt-1",children:["$",he.toFixed(2)]})]}),X?h.jsxs(M.button,{onClick:()=>E(!0),className:"bg-gradient-to-br from-amber-500/20 via-slate-800 to-amber-500/20 rounded-2xl shadow-lg border-2 border-amber-500/50 border-dashed p-6 text-left hover:border-amber-500 transition-all group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},whileHover:{y:-2,scale:1.02},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-400 text-sm font-medium",children:"No Companion Yet!"}),h.jsx("p",{className:"text-xl font-bold text-white",children:"Adopt Your First Pet"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"Choose your savings companion"})]}),h.jsx(M.div,{className:"text-5xl",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:""})]}),h.jsx("p",{className:"text-xs text-amber-400 mt-2 font-medium",children:"Tap to choose your companion "})]}):h.jsxs(M.button,{onClick:()=>p("save"),className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-6 text-left hover:border-amber-500/50 transition-all group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},whileHover:{y:-2},children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Companion"}),u.currentPet?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-xl font-bold text-white",children:u.currentPet.name}),h.jsxs("p",{className:"text-amber-400 text-sm",children:[Y," ",Ye.find(J=>J.type===u.currentPet?.type)?.name]})]}):h.jsx("p",{className:"text-xl font-bold text-slate-500",children:"No pet yet"})]}),h.jsx(M.div,{className:"text-5xl",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:ie})]}),h.jsx("p",{className:"text-xs text-slate-500 mt-2 group-hover:text-amber-400 transition-colors",children:"Tap to view pet details "})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[h.jsxs(M.button,{onClick:()=>p("save"),className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-5 text-left hover:shadow-xl hover:border-amber-500/50 transition-all group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{y:-4},whileTap:{scale:.98},children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500/20 to-amber-600/20 border border-amber-500/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:h.jsx("span",{className:"text-2xl",children:""})}),h.jsx("svg",{className:"w-5 h-5 text-slate-600 group-hover:text-amber-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Save"}),h.jsxs("p",{className:"text-2xl font-bold text-amber-400 mt-1",children:["$",u.buckets.save.balance.toFixed(2)]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.buckets.save.interestRate,"% APR"]})]}),h.jsxs(M.button,{onClick:()=>p("spend"),className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-5 text-left hover:shadow-xl hover:border-blue-500/50 transition-all group relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{y:-4},whileTap:{scale:.98},children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-600/20 border border-blue-500/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:h.jsx("span",{className:"text-2xl",children:""})}),h.jsx("svg",{className:"w-5 h-5 text-slate-600 group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Spend"}),h.jsxs("p",{className:"text-2xl font-bold text-blue-400 mt-1",children:["$",u.buckets.spend.balance.toFixed(2)]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.buckets.spend.goals.filter(J=>!J.purchased).length," active goal",u.buckets.spend.goals.filter(J=>!J.purchased).length!==1?"s":""]}),u.buckets.spend.goals.some(J=>u.buckets.spend.balance>=J.targetAmount&&!J.purchased)&&h.jsx(M.div,{className:"absolute -top-2 -right-2 bg-emerald-500 text-white rounded-full px-2 py-0.5 text-xs font-semibold shadow-md",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"Ready!"})]}),h.jsxs(M.button,{onClick:()=>p("share"),className:"bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-5 text-left hover:shadow-xl hover:border-rose-500/50 transition-all group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{y:-4},whileTap:{scale:.98},children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500/20 to-rose-600/20 border border-rose-500/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:h.jsx("span",{className:"text-2xl",children:""})}),h.jsx("svg",{className:"w-5 h-5 text-slate-600 group-hover:text-rose-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Share"}),h.jsxs("p",{className:"text-2xl font-bold text-rose-400 mt-1",children:["$",u.buckets.share.balance.toFixed(2)]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["$",u.buckets.share.totalGiven.toFixed(2)," donated"]})]})]}),u.petStable.length>0&&h.jsxs(M.div,{className:"mt-6 bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Pet Stable"}),h.jsx("div",{className:"flex flex-wrap gap-3",children:u.petStable.map(J=>h.jsxs(M.div,{className:"flex items-center gap-2 bg-gradient-to-r from-amber-500/10 to-amber-600/10 border border-amber-500/30 rounded-full px-4 py-2",whileHover:{scale:1.05},children:[h.jsxs("span",{className:"text-xl",children:["",Ye.find(pe=>pe.type===J.type)?.emoji]}),h.jsx("span",{className:"text-sm font-medium text-amber-400",children:J.name})]},J.id))})]}),u.badges.length>0&&h.jsxs(M.div,{className:"mt-6 bg-slate-800 rounded-2xl shadow-lg border border-slate-700 p-5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[h.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide mb-4",children:"Achievements"}),h.jsx("div",{className:"flex flex-wrap gap-3",children:u.badges.map(J=>h.jsxs(M.div,{className:"flex items-center gap-2 bg-gradient-to-r from-amber-500/10 to-amber-600/10 border border-amber-500/30 rounded-full px-4 py-2",whileHover:{scale:1.05},children:[h.jsx("span",{className:"text-xl",children:J.type==="first-share"?"":J.type==="generous-giver"?"":J.type==="super-sharer"?"":""}),h.jsx("span",{className:"text-sm font-medium text-amber-400",children:J.name})]},J.type))})]})]}),h.jsx(_t,{children:b&&h.jsx(gN,{onSuccess:()=>{x(!1),a("parent")},onCancel:()=>x(!1)})}),h.jsx(_t,{children:S&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>_(!1),children:h.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 shadow-2xl max-w-md w-full",onClick:J=>J.stopPropagation(),children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Edit Profile"}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-3",children:"Choose Avatar"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:mh.map(J=>h.jsx(M.button,{onClick:()=>q(J),className:`w-12 h-12 text-2xl rounded-xl flex items-center justify-center transition-all ${R===J?"bg-amber-500/30 border-2 border-amber-500 ring-2 ring-amber-500/50":"bg-slate-700 border border-slate-600 hover:border-slate-500"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:J},J))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Name"}),h.jsx("input",{type:"text",value:k,onChange:J=>L(J.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Enter name"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Birthday"}),h.jsx("input",{type:"date",value:K,onChange:J=>I(J.target.value),max:new Date().toISOString().split("T")[0],className:"w-full bg-slate-700 border border-slate-600 rounded-xl px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),K&&h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Age: ",Math.floor((Date.now()-new Date(K).getTime())/(365.25*24*60*60*1e3))," years old"]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(M.button,{onClick:()=>_(!1),className:"flex-1 px-4 py-3 bg-slate-700 text-slate-300 font-semibold rounded-xl hover:bg-slate-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(M.button,{onClick:async()=>{if(k.trim()&&u){const J={name:k.trim(),avatar:R};K&&(J.birthday=K),await o(u.id,J),_(!1)}},className:"flex-1 px-4 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Save"})]})]})})}),h.jsx(_t,{children:y&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>g(!1),children:h.jsxs(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"bg-slate-800 border border-slate-700 rounded-2xl p-8 text-center shadow-2xl max-w-sm mx-4",onClick:J=>J.stopPropagation(),children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Rank Up!"}),h.jsx("div",{className:"text-6xl mb-4",children:$.emoji}),h.jsxs("p",{className:"mt-4 text-slate-300",children:["You are now a ",h.jsx("span",{className:"font-bold text-amber-400",children:$.name}),"!"]}),h.jsx(M.button,{onClick:()=>g(!1),className:"mt-6 px-6 py-2.5 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Victory!"})]})})}),h.jsx(_t,{children:A&&h.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>E(!1),children:h.jsxs(M.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full shadow-2xl",onClick:J=>J.stopPropagation(),children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx(M.div,{className:"text-6xl mb-3",animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:""}),h.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Choose Your Companion!"}),h.jsx("p",{className:"text-slate-400 mt-2",children:"Your first pet is special - pick wisely!"})]}),h.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:Ye.map(J=>h.jsxs(M.button,{onClick:()=>ne(J.type),className:`p-4 rounded-xl border-2 transition-all text-left ${te===J.type?"bg-amber-500/20 border-amber-500":"bg-slate-700/50 border-slate-600 hover:border-slate-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("div",{className:"text-3xl mb-2",children:J.emoji}),h.jsx("div",{className:"font-semibold text-white text-sm",children:J.name}),h.jsx("div",{className:"text-xs text-slate-400 mt-1",children:J.description})]},J.type))}),h.jsx("div",{className:"mb-6",children:h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-slate-300 font-medium",children:"Name Your Companion"}),h.jsx("input",{type:"text",value:Q,onChange:J=>W(J.target.value),placeholder:`My ${Ye.find(J=>J.type===te)?.name}`,className:"mt-2 block w-full px-4 py-3 border-2 border-slate-600 bg-slate-900 text-white rounded-xl focus:border-amber-500 focus:ring focus:ring-amber-500/20 transition-all"})]})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(M.button,{onClick:()=>E(!1),className:"flex-1 py-3 bg-slate-700 text-white font-semibold rounded-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Later"}),h.jsx(M.button,{onClick:N,disabled:!Q.trim(),className:"flex-1 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 font-semibold rounded-xl disabled:opacity-50",whileHover:{scale:Q.trim()?1.02:1},whileTap:{scale:Q.trim()?.98:1},children:"Adopt!"})]})]})})})]})}function AN(){const{state:n}=pn();return n.family?n.currentMode==="parent"?h.jsx(bN,{}):n.selectedKidId?h.jsx(EN,{}):h.jsx(wN,{}):h.jsx(yN,{})}RS.createRoot(document.getElementById("root")).render(h.jsx(H.StrictMode,{children:h.jsx(ST,{children:h.jsx(AN,{})})}));
